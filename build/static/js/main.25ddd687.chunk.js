(this["webpackJsonpneonexperiment-app"]=this["webpackJsonpneonexperiment-app"]||[]).push([[0],{150:function(e,t,n){},218:function(e,t,n){var r,i,a;i=[n(262)],void 0===(a="function"===typeof(r=function(e){function t(e){e=e||{};var t=this;this.cfg=e.peerConnectionOptions||{},this.cfg.sdpSemantics="unified-plan",this.pcClient=null,this.dcClient=null,this.tnClient=null,this.sdpConstraints={offerToReceiveAudio:1,offerToReceiveVideo:1},this.dataChannelOptions={ordered:!0},createWebRtcVideo=function(){var e=document.createElement("video");return e.id="streamingVideo",e.playsInline=!0,e.addEventListener("loadedmetadata",(function(e){t.onVideoInitialised&&t.onVideoInitialised()}),!0),e},this.video=createWebRtcVideo(),this.cfg.offerExtmapAllowMixed=!1,onsignalingstatechange=function(e){console.info("signaling state change:",e)},oniceconnectionstatechange=function(e){console.info("ice connection state change:",e)},onicegatheringstatechange=function(e){console.info("ice gathering state change:",e)},handleOnTrack=function(e){console.log("handleOnTrack",e.streams),t.video.srcObject!==e.streams[0]&&(console.log("setting video stream from ontrack"),t.video.srcObject=e.streams[0])},setupDataChannel=function(e,n,r){try{var i=e.createDataChannel(n,r);return i.binaryType="arraybuffer",console.log("Created datachannel (".concat(n,")")),i.onopen=function(e){console.log("data channel (".concat(n,") connect")),t.onDataChannelConnected&&t.onDataChannelConnected()},i.onclose=function(e){console.log("data channel (".concat(n,") closed"))},i.onmessage=function(e){console.log("Got message (".concat(n,")"),e.data),t.onDataChannelMessage&&t.onDataChannelMessage(e.data)},i}catch(a){return console.warn("No data channel",a),null}},onicecandidate=function(e){console.log("ICE candidate",e),e.candidate&&e.candidate.candidate&&t.onWebRtcCandidate(e.candidate)},handleCreateOffer=function(e){e.createOffer(t.sdpConstraints).then((function(n){e.setLocalDescription(n),t.onWebRtcOffer&&(n.sdp=n.sdp.replace(/(a=fmtp:\d+ .*level-asymmetry-allowed=.*)\r\n/gm,"$1;x-google-start-bitrate=10000;x-google-max-bitrate=20000\r\n"),t.onWebRtcOffer(n))}),(function(){console.warn("Couldn't create offer")}))},setupPeerConnection=function(e){e.SetBitrate&&console.log("Hurray! there's RTCPeerConnection.SetBitrate function"),e.onsignalingstatechange=onsignalingstatechange,e.oniceconnectionstatechange=oniceconnectionstatechange,e.onicegatheringstatechange=onicegatheringstatechange,e.ontrack=handleOnTrack,e.onicecandidate=onicecandidate},generateAggregatedStatsFunction=function(){return t.aggregatedStats||(t.aggregatedStats={}),function(e){var n={};console.log("----------------------------- Stats start -----------------------------"),e.forEach((function(e){"inbound-rtp"!=e.type||e.isRemote||"video"!=e.mediaType&&!e.id.toLowerCase().includes("video")||(n.timestamp=e.timestamp,n.bytesReceived=e.bytesReceived,n.framesDecoded=e.framesDecoded,n.packetsLost=e.packetsLost,n.bytesReceivedStart=t.aggregatedStats&&t.aggregatedStats.bytesReceivedStart?t.aggregatedStats.bytesReceivedStart:e.bytesReceived,n.framesDecodedStart=t.aggregatedStats&&t.aggregatedStats.framesDecodedStart?t.aggregatedStats.framesDecodedStart:e.framesDecoded,n.timestampStart=t.aggregatedStats&&t.aggregatedStats.timestampStart?t.aggregatedStats.timestampStart:e.timestamp,t.aggregatedStats&&t.aggregatedStats.timestamp&&(t.aggregatedStats.bytesReceived&&(n.bitrate=8*(n.bytesReceived-t.aggregatedStats.bytesReceived)/(n.timestamp-t.aggregatedStats.timestamp),n.bitrate=Math.floor(n.bitrate),n.lowBitrate=t.aggregatedStats.lowBitrate&&t.aggregatedStats.lowBitrate<n.bitrate?t.aggregatedStats.lowBitrate:n.bitrate,n.highBitrate=t.aggregatedStats.highBitrate&&t.aggregatedStats.highBitrate>n.bitrate?t.aggregatedStats.highBitrate:n.bitrate),t.aggregatedStats.bytesReceivedStart&&(n.avgBitrate=8*(n.bytesReceived-t.aggregatedStats.bytesReceivedStart)/(n.timestamp-t.aggregatedStats.timestampStart),n.avgBitrate=Math.floor(n.avgBitrate)),t.aggregatedStats.framesDecoded&&(n.framerate=(n.framesDecoded-t.aggregatedStats.framesDecoded)/((n.timestamp-t.aggregatedStats.timestamp)/1e3),n.framerate=Math.floor(n.framerate),n.lowFramerate=t.aggregatedStats.lowFramerate&&t.aggregatedStats.lowFramerate<n.framerate?t.aggregatedStats.lowFramerate:n.framerate,n.highFramerate=t.aggregatedStats.highFramerate&&t.aggregatedStats.highFramerate>n.framerate?t.aggregatedStats.highFramerate:n.framerate),t.aggregatedStats.framesDecodedStart&&(n.avgframerate=(n.framesDecoded-t.aggregatedStats.framesDecodedStart)/((n.timestamp-t.aggregatedStats.timestampStart)/1e3),n.avgframerate=Math.floor(n.avgframerate)))),"track"!=e.type||"video_label"!=e.trackIdentifier&&"video"!=e.kind||(n.framesDropped=e.framesDropped,n.framesReceived=e.framesReceived,n.framesDroppedPercentage=e.framesDropped/e.framesReceived*100,n.frameHeight=e.frameHeight,n.frameWidth=e.frameWidth,n.frameHeightStart=t.aggregatedStats&&t.aggregatedStats.frameHeightStart?t.aggregatedStats.frameHeightStart:e.frameHeight,n.frameWidthStart=t.aggregatedStats&&t.aggregatedStats.frameWidthStart?t.aggregatedStats.frameWidthStart:e.frameWidth),"candidate-pair"==e.type&&e.hasOwnProperty("currentRoundTripTime")&&0!=e.currentRoundTripTime&&(n.currentRoundTripTime=e.currentRoundTripTime)})),t.aggregatedStats=n,t.onAggregatedStats&&t.onAggregatedStats(n)}},this.handleCandidateFromServer=function(e){console.log("ICE candidate: ",e);var n=new RTCIceCandidate(e);t.pcClient.addIceCandidate(n).then((function(e){console.log("ICE candidate successfully added")}))},this.createOffer=function(){t.pcClient&&(console.log("Closing existing PeerConnection"),t.pcClient.close(),t.pcClient=null),t.pcClient=new RTCPeerConnection(t.cfg),setupPeerConnection(t.pcClient),t.dcClient=setupDataChannel(t.pcClient,"cirrus",t.dataChannelOptions),handleCreateOffer(t.pcClient)},this.receiveAnswer=function(e){console.log("Received answer:\n".concat(e));var n=new RTCSessionDescription(e);t.pcClient.setRemoteDescription(n)},this.close=function(){t.pcClient&&(console.log("Closing existing peerClient"),t.pcClient.close(),t.pcClient=null),t.aggregateStatsIntervalId&&clearInterval(t.aggregateStatsIntervalId)},this.send=function(e){t.dcClient&&"open"==t.dcClient.readyState&&t.dcClient.send(e)},this.getStats=function(e){t.pcClient&&e&&t.pcClient.getStats(null).then((function(t){e(t)}))},this.aggregateStats=function(e){var n=generateAggregatedStatsFunction(),r=function(){t.getStats(n)};t.aggregateStatsIntervalId=setInterval(r,e)}}return t})?r.apply(t,i):r)||(e.exports=a)},237:function(e,t,n){},238:function(e,t,n){},262:function(e,t,n){e.exports=function(){function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[o]={exports:{}};t[o][0].call(d.exports,(function(e){return i(t[o][1][e]||e)}),d,d.exports,e,t,n,r)}return n[o].exports}for(var a=!1,o=0;o<r.length;o++)i(r[o]);return i}return e}()({1:[function(e,t,n){"use strict";var r=(0,e("./adapter_factory.js").adapterFactory)({window:"undefined"===typeof window?void 0:window});t.exports=r},{"./adapter_factory.js":2}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.adapterFactory=l;var r=d(e("./utils")),i=d(e("./chrome/chrome_shim")),a=d(e("./edge/edge_shim")),o=d(e("./firefox/firefox_shim")),s=d(e("./safari/safari_shim")),c=d(e("./common_shim"));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},n=r.log,d=r.detectBrowser(e),l={browserDetails:d,commonShim:c,extractVersion:r.extractVersion,disableLog:r.disableLog,disableWarnings:r.disableWarnings};switch(d.browser){case"chrome":if(!i||!i.shimPeerConnection||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),l;if(null===d.version)return n("Chrome shim can not determine version, not shimming."),l;n("adapter.js shimming chrome."),l.browserShim=i,i.shimGetUserMedia(e),i.shimMediaStream(e),i.shimPeerConnection(e),i.shimOnTrack(e),i.shimAddTrackRemoveTrack(e),i.shimGetSendersWithDtmf(e),i.shimGetStats(e),i.shimSenderReceiverGetStats(e),i.fixNegotiationNeeded(e),c.shimRTCIceCandidate(e),c.shimConnectionState(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e),c.removeAllowExtmapMixed(e);break;case"firefox":if(!o||!o.shimPeerConnection||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),l;n("adapter.js shimming firefox."),l.browserShim=o,o.shimGetUserMedia(e),o.shimPeerConnection(e),o.shimOnTrack(e),o.shimRemoveStream(e),o.shimSenderGetStats(e),o.shimReceiverGetStats(e),o.shimRTCDataChannel(e),o.shimAddTransceiver(e),o.shimGetParameters(e),o.shimCreateOffer(e),o.shimCreateAnswer(e),c.shimRTCIceCandidate(e),c.shimConnectionState(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e);break;case"edge":if(!a||!a.shimPeerConnection||!t.shimEdge)return n("MS edge shim is not included in this adapter release."),l;n("adapter.js shimming edge."),l.browserShim=a,a.shimGetUserMedia(e),a.shimGetDisplayMedia(e),a.shimPeerConnection(e),a.shimReplaceTrack(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e);break;case"safari":if(!s||!t.shimSafari)return n("Safari shim is not included in this adapter release."),l;n("adapter.js shimming safari."),l.browserShim=s,s.shimRTCIceServerUrls(e),s.shimCreateOfferLegacy(e),s.shimCallbacksAPI(e),s.shimLocalStreamsAPI(e),s.shimRemoteStreamsAPI(e),s.shimTrackEventTransceiver(e),s.shimGetUserMedia(e),s.shimAudioContext(e),c.shimRTCIceCandidate(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e),c.removeAllowExtmapMixed(e);break;default:n("Unsupported browser!")}return l}},{"./chrome/chrome_shim":3,"./common_shim":6,"./edge/edge_shim":7,"./firefox/firefox_shim":11,"./safari/safari_shim":14,"./utils":15}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=n.shimGetUserMedia=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("./getusermedia");Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return i.shimGetUserMedia}});var a=e("./getdisplaymedia");Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return a.shimGetDisplayMedia}}),n.shimMediaStream=d,n.shimOnTrack=l,n.shimGetSendersWithDtmf=u,n.shimGetStats=p,n.shimSenderReceiverGetStats=h,n.shimAddTrackRemoveTrackWithNative=f,n.shimAddTrackRemoveTrack=m,n.shimPeerConnection=j,n.fixNegotiationNeeded=b;var o=s(e("../utils.js"));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function l(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(r){var i=void 0;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.track.id})):{track:r.track};var a=new Event("track");a.track=r.track,a.receiver=i,a.transceiver={receiver:i},a.streams=[t.stream],n.dispatchEvent(a)})),t.stream.getTracks().forEach((function(r){var i=void 0;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.id})):{track:r};var a=new Event("track");a.track=r,a.receiver=i,a.transceiver={receiver:i},a.streams=[t.stream],n.dispatchEvent(a)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else o.wrapPeerConnectionEvent(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}))}function u(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){var i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){i.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var a=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._senders=this._senders||[],a.apply(this,[e]),e.getTracks().forEach((function(e){n._senders.push(t(n,e))}))};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],o.apply(this,[e]),e.getTracks().forEach((function(e){var n=t._senders.find((function(t){return t.track===e}));n&&t._senders.splice(t._senders.indexOf(n),1)}))}}else if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var s=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=s.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function p(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,n=Array.prototype.slice.call(arguments),r=n[0],i=n[1],a=n[2];if(arguments.length>0&&"function"===typeof r)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!==typeof r))return t.apply(this,[]);var o=function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},s=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};if(arguments.length>=2){var c=function(e){i(s(o(e)))};return t.apply(this,[c,r])}return new Promise((function(n,r){t.apply(e,[function(e){n(s(o(e)))},r])})).then(i,a)}}}function h(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return o.filterStats(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var i=e.RTCPeerConnection.prototype.getReceivers;i&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=i.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),o.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return o.filterStats(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var a=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t=arguments[0],n=void 0,r=void 0,i=void 0;return this.getSenders().forEach((function(e){e.track===t&&(n?i=!0:n=e)})),this.getReceivers().forEach((function(e){return e.track===t&&(r?i=!0:r=e),e.track===t})),i||n&&r?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):n?n.getStats():r?r.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return a.apply(this,arguments)}}}}function f(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var r=this.getSenders();n.apply(this,arguments);var i=this.getSenders().filter((function(e){return-1===r.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(i)};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(n){var r=t._shimmedLocalStreams[n].indexOf(e);-1!==r&&t._shimmedLocalStreams[n].splice(r,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]})),i.apply(this,arguments)}}function m(e){if(e.RTCPeerConnection){var t=o.detectBrowser(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return f(e);var n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=n.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){if(n.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}r.apply(this,[t])};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){var r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((function(e){return e.track===t})))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var a=this._streams[n.id];if(a)a.addTrack(t),Promise.resolve().then((function(){r.dispatchEvent(new Event("negotiationneeded"))}));else{var o=new e.MediaStream([t]);this._streams[n.id]=o,this._reverseStreams[o.id]=n,this.addStream(o)}return this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=c({},t,(function(){var e=this,t=arguments;return arguments.length&&"function"===typeof arguments[0]?n.apply(this,[function(n){var r=d(e,n);t[0].apply(null,[r])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(this,arguments).then((function(t){return d(e,t)}))}));e.RTCPeerConnection.prototype[t]=r[t]}));var a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=l(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};var s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=s.get.apply(this);return""===e.type?e:d(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};var n=void 0;Object.keys(this._streams).forEach((function(r){t._streams[r].getTracks().find((function(t){return e.track===t}))&&(n=t._streams[r])})),n&&(1===n.getTracks().length?this.removeStream(this._reverseStreams[n.id]):n.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function d(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}function l(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}}function j(e){var t=o.detectBrowser(e);if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection){var n=0===e.RTCPeerConnection.prototype.addIceCandidate.length;t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=c({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=r[t]}));var r=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return n||arguments[0]?t.version<78&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}}function b(e){var t=o.detectBrowser(e);o.wrapPeerConnectionEvent(e,"negotiationneeded",(function(e){var n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e}))}},{"../utils.js":15,"./getdisplaymedia":4,"./getusermedia":5}],4:[function(e,t,n){"use strict";function r(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"===typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((function(t){var r=n.video&&n.video.width,i=n.video&&n.video.height,a=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:a||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=r},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.shimGetUserMedia=s;var i=a(e("../utils.js"));function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var o=i.log;function s(e){var t=e&&e.navigator;if(t.mediaDevices){var n=i.detectBrowser(e),a=function(e){if("object"!==("undefined"===typeof e?"undefined":r(e))||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var i="object"===r(e[n])?e[n]:{ideal:e[n]};void 0!==i.exact&&"number"===typeof i.exact&&(i.min=i.max=i.exact);var a=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==i.ideal){t.optional=t.optional||[];var o={};"number"===typeof i.ideal?(o[a("min",n)]=i.ideal,t.optional.push(o),(o={})[a("max",n)]=i.ideal,t.optional.push(o)):(o[a("",n)]=i.ideal,t.optional.push(o))}void 0!==i.exact&&"number"!==typeof i.exact?(t.mandatory=t.mandatory||{},t.mandatory[a("",n)]=i.exact):["min","max"].forEach((function(e){void 0!==i[e]&&(t.mandatory=t.mandatory||{},t.mandatory[a(e,n)]=i[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},s=function(e,i){if(n.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===r(e.audio)){var s=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};s((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),s(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=a(e.audio)}if(e&&"object"===r(e.video)){var c=e.video.facingMode;c=c&&("object"===("undefined"===typeof c?"undefined":r(c))?c:{ideal:c});var d=n.version<66;if(c&&("user"===c.exact||"environment"===c.exact||"user"===c.ideal||"environment"===c.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||d)){delete e.video.facingMode;var l=void 0;if("environment"===c.exact||"environment"===c.ideal?l=["back","rear"]:"user"!==c.exact&&"user"!==c.ideal||(l=["front"]),l)return t.mediaDevices.enumerateDevices().then((function(t){var n=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return l.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!n&&t.length&&l.includes("back")&&(n=t[t.length-1]),n&&(e.video.deviceId=c.exact?{exact:n.deviceId}:{ideal:n.deviceId}),e.video=a(e.video),o("chrome: "+JSON.stringify(e)),i(e)}))}e.video=a(e.video)}return o("chrome: "+JSON.stringify(e)),i(e)},c=function(e){return n.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},d=function(e,n,r){s(e,(function(e){t.webkitGetUserMedia(e,n,(function(e){r&&r(c(e))}))}))};if(t.getUserMedia=d.bind(t),t.mediaDevices.getUserMedia){var l=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return s(e,(function(e){return l(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(c(e))}))}))}}}}},{"../utils.js":15}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.shimRTCIceCandidate=c,n.shimMaxMessageSize=d,n.shimSendThrowTypeError=l,n.shimConnectionState=u,n.removeAllowExtmapMixed=p;var i=s(e("sdp")),a=o(e("./utils"));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var n=new t(e),a=i.default.parseCandidate(e.candidate),o=Object.assign(n,a);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,a.wrapPeerConnectionEvent(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}}function d(e){if(e.RTCPeerConnection){var t=a.detectBrowser(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return"undefined"===typeof this._sctp?null:this._sctp}});var n=function(e){if(!e||!e.sdp)return!1;var t=i.default.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=i.default.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},r=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!==n?-1:n},o=function(e){var n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},s=function(e,n){var r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);var a=i.default.matchPrefix(e.sdp,"a=max-message-size:");return a.length>0?r=parseInt(a[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r},c=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76&&"plan-b"===this.getConfiguration().sdpSemantics&&Object.defineProperty(this,"sctp",{get:function(){return"undefined"===typeof this._sctp?null:this._sctp},enumerable:!0,configurable:!0}),n(arguments[0])){var e=r(arguments[0]),i=o(e),a=s(arguments[0],e),d=void 0;d=0===i&&0===a?Number.POSITIVE_INFINITY:0===i||0===a?Math.max(i,a):Math.min(i,a);var l={};Object.defineProperty(l,"maxMessageSize",{get:function(){return d}}),this._sctp=l}return c.apply(this,arguments)}}}function l(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return n(e,this),e},a.wrapPeerConnectionEvent(e,"datachannel",(function(e){return n(e.channel,e.target),e}))}function n(e,t){var n=e.send;e.send=function(){var r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}}function u(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}}function p(e){if(e.RTCPeerConnection){var t=a.detectBrowser(e);if(!("chrome"===t.browser&&t.version>=71)&&!("safari"===t.browser&&t.version>=605)){var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){return e&&e.sdp&&-1!==e.sdp.indexOf("\na=extmap-allow-mixed")&&(e.sdp=e.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==e.trim()})).join("\n")),n.apply(this,arguments)}}}}},{"./utils":15,sdp:17}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=n.shimGetUserMedia=void 0;var r=e("./getusermedia");Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return r.shimGetUserMedia}});var i=e("./getdisplaymedia");Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return i.shimGetDisplayMedia}}),n.shimPeerConnection=l,n.shimReplaceTrack=u;var a=d(e("../utils")),o=e("./filtericeservers"),s=c(e("rtcpeerconnection-shim"));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(e){var t=a.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var n=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){n.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var r=(0,s.default)(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=(0,o.filterIceServers)(e.iceServers,t.version),a.log("ICE servers after filtering:",e.iceServers)),new r(e)},e.RTCPeerConnection.prototype=r.prototype}function u(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}},{"../utils":15,"./filtericeservers":8,"./getdisplaymedia":9,"./getusermedia":10,"rtcpeerconnection-shim":16}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.filterIceServers=a;var r=i(e("../utils"));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&r.deprecated("RTCIceServer.url","RTCIceServer.urls");var i="string"===typeof t;return i&&(t=[t]),t=t.filter((function(e){if(0===e.indexOf("stun:"))return!1;var t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!n?(n=!0,!0):t&&!n})),delete e.url,e.urls=i?t[0]:t,!!t.length}}))}},{"../utils":15}],9:[function(e,t,n){"use strict";function r(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=r},{}],10:[function(e,t,n){"use strict";function r(e){var t=e&&e.navigator,n=function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}},r=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return r(e).catch((function(e){return Promise.reject(n(e))}))}}Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetUserMedia=r},{}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=n.shimGetUserMedia=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("./getusermedia");Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return i.shimGetUserMedia}});var a=e("./getdisplaymedia");Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return a.shimGetDisplayMedia}}),n.shimOnTrack=d,n.shimPeerConnection=l,n.shimSenderGetStats=u,n.shimReceiverGetStats=p,n.shimRemoveStream=h,n.shimRTCDataChannel=f,n.shimAddTransceiver=m,n.shimGetParameters=j,n.shimCreateOffer=b,n.shimCreateAnswer=g;var o=s(e("../utils"));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){"object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function l(e){var t=o.detectBrowser(e);if("object"===("undefined"===typeof e?"undefined":r(e))&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){if(!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=c({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=r[t]})),t.version<68){var n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}var i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},a=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),n=e[0],r=e[1],o=e[2];return a.apply(this,[n||null]).then((function(e){if(t.version<53&&!r)try{e.forEach((function(e){e.type=i[e.type]||e.type}))}catch(n){if("TypeError"!==n.name)throw n;e.forEach((function(t,n){e.set(n,Object.assign({},t,{type:i[t.type]||t.type}))}))}return e})).then(r,o)}}}function u(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function p(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n}),o.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function h(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;o.deprecated("removeStream","removeTrack"),this.getSenders().forEach((function(n){n.track&&e.getTracks().includes(n.track)&&t.removeTrack(n)}))})}function f(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function m(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach((function(e){if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));var r=t.apply(this,arguments);if(n){var i=r.sender,a=i.getParameters();(!("encodings"in a)||1===a.encodings.length&&0===Object.keys(a.encodings[0]).length)&&(a.encodings=e.sendEncodings,i.sendEncodings=e.sendEncodings,this.setParametersPromises.push(i.setParameters(a).then((function(){delete i.sendEncodings})).catch((function(){delete i.sendEncodings}))))}return r})}}function j(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCRtpSender){var t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){var e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}}function b(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=this,n=arguments;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(e,n)})).finally((function(){e.setParametersPromises=[]})):t.apply(this,arguments)}}}function g(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=this,n=arguments;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(e,n)})).finally((function(){e.setParametersPromises=[]})):t.apply(this,arguments)}}}},{"../utils":15,"./getdisplaymedia":12,"./getusermedia":13}],12:[function(e,t,n){"use strict";function r(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){var r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=r},{}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.shimGetUserMedia=o;var i=a(e("../utils"));function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){var t=i.detectBrowser(e),n=e&&e.navigator,a=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){i.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var o=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"===("undefined"===typeof e?"undefined":r(e))&&"object"===r(e.audio)&&(e=JSON.parse(JSON.stringify(e)),o(e.audio,"autoGainControl","mozAutoGainControl"),o(e.audio,"noiseSuppression","mozNoiseSuppression")),s(e)},a&&a.prototype.getSettings){var c=a.prototype.getSettings;a.prototype.getSettings=function(){var e=c.apply(this,arguments);return o(e,"mozAutoGainControl","autoGainControl"),o(e,"mozNoiseSuppression","noiseSuppression"),e}}if(a&&a.prototype.applyConstraints){var d=a.prototype.applyConstraints;a.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===("undefined"===typeof e?"undefined":r(e))&&(e=JSON.parse(JSON.stringify(e)),o(e,"autoGainControl","mozAutoGainControl"),o(e,"noiseSuppression","mozNoiseSuppression")),d.apply(this,[e])}}}}},{"../utils":15}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.shimLocalStreamsAPI=o,n.shimRemoteStreamsAPI=s,n.shimCallbacksAPI=c,n.shimGetUserMedia=d,n.shimConstraints=l,n.shimRTCIceServerUrls=u,n.shimTrackEventTransceiver=p,n.shimCreateOfferLegacy=h,n.shimAudioContext=f;var i=a(e("../utils"));function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((function(r){return t.call(n,r,e)})),e.getVideoTracks().forEach((function(r){return t.call(n,r,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=this,r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i&&i.forEach((function(e){n._localStreams?n._localStreams.includes(e)||n._localStreams.push(e):n._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var n=this._localStreams.indexOf(e);if(-1!==n){this._localStreams.splice(n,1);var r=e.getTracks();this.getSenders().forEach((function(e){r.includes(e.track)&&t.removeTrack(e)}))}})}}function s(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var n=new Event("addstream");n.stream=e,t.dispatchEvent(n)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}}))}),t.apply(e,arguments)}}}function c(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,n=t.createOffer,i=t.createAnswer,a=t.setLocalDescription,o=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],r=i.apply(this,[n]);return t?(r.then(e,t),Promise.resolve()):r};var c=function(e,t,n){var r=a.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=c,c=function(e,t,n){var r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=c,c=function(e,t,n){var r=s.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=c}}function d(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=function(e){return r(l(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function l(e){return e&&void 0!==e.video?Object.assign({},e,{video:i.compactObject(e.video)}):e}function u(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var r=[],a=0;a<e.iceServers.length;a++){var o=e.iceServers[a];!o.hasOwnProperty("urls")&&o.hasOwnProperty("url")?(i.deprecated("RTCIceServer.url","RTCIceServer.urls"),(o=JSON.parse(JSON.stringify(o))).urls=o.url,delete o.url,r.push(o)):r.push(e.iceServers[a])}e.iceServers=r}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}}function p(e){"object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function h(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){"undefined"!==typeof e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var n=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveAudio||n||this.addTransceiver("audio"),"undefined"!==typeof e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var r=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video")}return t.apply(this,arguments)}}function f(e){"object"!==("undefined"===typeof e?"undefined":r(e))||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}},{"../utils":15}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.extractVersion=s,n.wrapPeerConnectionEvent=c,n.disableLog=d,n.disableWarnings=l,n.log=u,n.deprecated=p,n.detectBrowser=h,n.compactObject=m,n.walkStats=j,n.filterStats=b;var a=!0,o=!0;function s(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function c(e,t,n){if(e.RTCPeerConnection){var r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);var a=function(e){var t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,a),i.apply(this,[e,a])};var a=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return a.apply(this,arguments);if(!this._eventMap[t].has(n))return a.apply(this,arguments);var r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,a.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function d(e){return"boolean"!==typeof e?new Error("Argument type: "+("undefined"===typeof e?"undefined":r(e))+". Please use a boolean."):(a=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function l(e){return"boolean"!==typeof e?new Error("Argument type: "+("undefined"===typeof e?"undefined":r(e))+". Please use a boolean."):(o=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function u(){if("object"===("undefined"===typeof window?"undefined":r(window))){if(a)return;"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,arguments)}}function p(e,t){o&&console.warn(e+" is deprecated, please use "+t+" instead.")}function h(e){var t={browser:null,version:null};if("undefined"===typeof e||!e.navigator)return t.browser="Not a browser.",t;var n=e.navigator;if(n.mozGetUserMedia)t.browser="firefox",t.version=s(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=s(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(n.mediaDevices&&n.userAgent.match(/Edge\/(\d+).(\d+)$/))t.browser="edge",t.version=s(n.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=s(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}function f(e){return"[object Object]"===Object.prototype.toString.call(e)}function m(e){return f(e)?Object.keys(e).reduce((function(t,n){var r=f(e[n]),a=r?m(e[n]):e[n],o=r&&!Object.keys(a).length;return void 0===a||o?t:Object.assign(t,i({},n,a))}),{}):e}function j(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((function(r){r.endsWith("Id")?j(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach((function(t){j(e,e.get(t),n)}))})))}function b(e,t,n){var r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;var a=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&a.push(e)})),a.forEach((function(t){e.forEach((function(n){n.type===r&&n.trackId===t.id&&j(e,n,i)}))})),i}},{}],16:[function(e,t,n){"use strict";var r=e("sdp");function i(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}function a(e,t,n,i,a){var o=r.writeRtpDescription(e.kind,t);if(o+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":a||"active"),o+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var c="msid:"+(i?i.id:"-")+" "+s+"\r\n";o+="a="+c,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+c,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+c,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),o}function o(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"===typeof r;return i&&(r=[r]),r=r.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)})),delete e.url,e.urls=i?r[0]:r,!!r.length}}))}function s(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},i=function(e,t,n,i){var a=r(e.parameters.apt,n),o=r(t.parameters.apt,i);return a&&o&&a.name.toLowerCase()===o.name.toLowerCase()};return e.codecs.forEach((function(r){for(var a=0;a<t.codecs.length;a++){var o=t.codecs[a];if(r.name.toLowerCase()===o.name.toLowerCase()&&r.clockRate===o.clockRate){if("rtx"===r.name.toLowerCase()&&r.parameters&&o.parameters.apt&&!i(r,o,e.codecs,t.codecs))continue;(o=JSON.parse(JSON.stringify(o))).numChannels=Math.min(r.numChannels,o.numChannels),n.codecs.push(o),o.rtcpFeedback=o.rtcpFeedback.filter((function(e){for(var t=0;t<r.rtcpFeedback.length;t++)if(r.rtcpFeedback[t].type===e.type&&r.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}})),n}function c(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function d(e,t){var n=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return n||e.addRemoteCandidate(t),!n}function l(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}t.exports=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function u(t,n){n.removeTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}function p(t,n,r,i){var a=new Event("track");a.track=n,a.receiver=r,a.transceiver={receiver:r},a.streams=i,e.setTimeout((function(){t._dispatchEvent("track",a)}))}var h=function(n){var i=this,a=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){i[e]=a[e].bind(a)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw l("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=o(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var s=n.iceCandidatePoolSize;s>0;s--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=r.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(h.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(h.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),h.prototype.onicecandidate=null,h.prototype.onaddstream=null,h.prototype.ontrack=null,h.prototype.onremovestream=null,h.prototype.onsignalingstatechange=null,h.prototype.oniceconnectionstatechange=null,h.prototype.onconnectionstatechange=null,h.prototype.onicegatheringstatechange=null,h.prototype.onnegotiationneeded=null,h.prototype.ondatachannel=null,h.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"===typeof this["on"+e]&&this["on"+e](t))},h.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},h.prototype.getConfiguration=function(){return this._config},h.prototype.getLocalStreams=function(){return this.localStreams},h.prototype.getRemoteStreams=function(){return this.remoteStreams},h.prototype._createTransceiver=function(e,t){var n=this.transceivers.length>0,r={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)r.iceTransport=this.transceivers[0].iceTransport,r.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();r.iceTransport=i.iceTransport,r.dtlsTransport=i.dtlsTransport}return t||this.transceivers.push(r),r},h.prototype.addTrack=function(t,n){if(this._isClosed)throw l("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find((function(e){return e.track===t})))throw l("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==t.kind||(r=this.transceivers[i]);return r||(r=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},h.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach((function(t){n.addTrack(t,e)}));else{var r=e.clone();e.getTracks().forEach((function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",(function(e){n.enabled=e.enabled}))})),r.getTracks().forEach((function(e){n.addTrack(e,r)}))}},h.prototype.removeTrack=function(t){if(this._isClosed)throw l("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(e){return e.rtpSender===t}));if(!n)throw l("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},h.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));n&&t.removeTrack(n)}))},h.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},h.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},h.prototype._createIceGatherer=function(t,n){var r=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;i.state=n?"completed":"gathering",null!==r.transceivers[t].bufferedCandidateEvents&&r.transceivers[t].bufferedCandidateEvents.push(e)},i.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),i},h.prototype._gather=function(t,n){var i=this,a=this.transceivers[n].iceGatherer;if(!a.onlocalcandidate){var o=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,a.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),a.onlocalcandidate=function(e){if(!(i.usingBundle&&n>0)){var o=new Event("icecandidate");o.candidate={sdpMid:t,sdpMLineIndex:n};var s=e.candidate,c=!s||0===Object.keys(s).length;if(c)"new"!==a.state&&"gathering"!==a.state||(a.state="completed");else{"new"===a.state&&(a.state="gathering"),s.component=1,s.ufrag=a.getLocalParameters().usernameFragment;var d=r.writeCandidate(s);o.candidate=Object.assign(o.candidate,r.parseCandidate(d)),o.candidate.candidate=d,o.candidate.toJSON=function(){return{candidate:o.candidate.candidate,sdpMid:o.candidate.sdpMid,sdpMLineIndex:o.candidate.sdpMLineIndex,usernameFragment:o.candidate.usernameFragment}}}var l=r.getMediaSections(i._localDescription.sdp);l[o.candidate.sdpMLineIndex]+=c?"a=end-of-candidates\r\n":"a="+o.candidate.candidate+"\r\n",i._localDescription.sdp=r.getDescription(i._localDescription.sdp)+l.join("");var u=i.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),c||i._dispatchEvent("icecandidate",o),u&&(i._dispatchEvent("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange())}},e.setTimeout((function(){o.forEach((function(e){a.onlocalcandidate(e)}))}),0)}},h.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var r=new e.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},h.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var r=this.transceivers[e].dtlsTransport;r&&(delete r.ondtlsstatechange,delete r.onerror,delete this.transceivers[e].dtlsTransport)},h.prototype._transceive=function(e,n,i){var a=s(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(a.encodings=e.sendEncodingParameters,a.rtcp={cname:r.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(a.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(a)),i&&e.rtpReceiver&&a.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?a.encodings=e.recvEncodingParameters:a.encodings=[{}],a.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(a.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(a.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(a))},h.prototype.setLocalDescription=function(e){var t,n,i=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(l("TypeError",'Unsupported type "'+e.type+'"'));if(!c("setLocalDescription",e.type,i.signalingState)||i._isClosed)return Promise.reject(l("InvalidStateError","Can not set local "+e.type+" in state "+i.signalingState));if("offer"===e.type)t=r.splitSections(e.sdp),n=t.shift(),t.forEach((function(e,t){var n=r.parseRtpParameters(e);i.transceivers[t].localCapabilities=n})),i.transceivers.forEach((function(e,t){i._gather(e.mid,t)}));else if("answer"===e.type){t=r.splitSections(i._remoteDescription.sdp),n=t.shift();var a=r.matchPrefix(n,"a=ice-lite").length>0;t.forEach((function(e,t){var o=i.transceivers[t],c=o.iceGatherer,d=o.iceTransport,l=o.dtlsTransport,u=o.localCapabilities,p=o.remoteCapabilities;if((!r.isRejected(e)||0!==r.matchPrefix(e,"a=bundle-only").length)&&!o.rejected){var h=r.getIceParameters(e,n),f=r.getDtlsParameters(e,n);a&&(f.role="server"),i.usingBundle&&0!==t||(i._gather(o.mid,t),"new"===d.state&&d.start(c,h,a?"controlling":"controlled"),"new"===l.state&&l.start(f));var m=s(u,p);i._transceive(o,m.codecs.length>0,!1)}}))}return i._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?i._updateSignalingState("have-local-offer"):i._updateSignalingState("stable"),Promise.resolve()},h.prototype.setRemoteDescription=function(i){var a=this;if(-1===["offer","answer"].indexOf(i.type))return Promise.reject(l("TypeError",'Unsupported type "'+i.type+'"'));if(!c("setRemoteDescription",i.type,a.signalingState)||a._isClosed)return Promise.reject(l("InvalidStateError","Can not set remote "+i.type+" in state "+a.signalingState));var o={};a.remoteStreams.forEach((function(e){o[e.id]=e}));var h=[],f=r.splitSections(i.sdp),m=f.shift(),j=r.matchPrefix(m,"a=ice-lite").length>0,b=r.matchPrefix(m,"a=group:BUNDLE ").length>0;a.usingBundle=b;var g=r.matchPrefix(m,"a=ice-options:")[0];return a.canTrickleIceCandidates=!!g&&g.substr(14).split(" ").indexOf("trickle")>=0,f.forEach((function(c,l){var p=r.splitLines(c),f=r.getKind(c),g=r.isRejected(c)&&0===r.matchPrefix(c,"a=bundle-only").length,v=p[0].substr(2).split(" ")[2],x=r.getDirection(c,m),y=r.parseMsid(c),O=r.getMid(c)||r.generateIdentifier();if(g||"application"===f&&("DTLS/SCTP"===v||"UDP/DTLS/SCTP"===v))a.transceivers[l]={mid:O,kind:f,protocol:v,rejected:!0};else{var C,S,k,T,w,R,E,P,F;!g&&a.transceivers[l]&&a.transceivers[l].rejected&&(a.transceivers[l]=a._createTransceiver(f,!0));var I,A,D=r.parseRtpParameters(c);g||(I=r.getIceParameters(c,m),(A=r.getDtlsParameters(c,m)).role="client"),E=r.parseRtpEncodingParameters(c);var M=r.parseRtcpParameters(c),_=r.matchPrefix(c,"a=end-of-candidates",m).length>0,N=r.matchPrefix(c,"a=candidate:").map((function(e){return r.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===i.type||"answer"===i.type)&&!g&&b&&l>0&&a.transceivers[l]&&(a._disposeIceAndDtlsTransports(l),a.transceivers[l].iceGatherer=a.transceivers[0].iceGatherer,a.transceivers[l].iceTransport=a.transceivers[0].iceTransport,a.transceivers[l].dtlsTransport=a.transceivers[0].dtlsTransport,a.transceivers[l].rtpSender&&a.transceivers[l].rtpSender.setTransport(a.transceivers[0].dtlsTransport),a.transceivers[l].rtpReceiver&&a.transceivers[l].rtpReceiver.setTransport(a.transceivers[0].dtlsTransport)),"offer"!==i.type||g)"answer"!==i.type||g||(S=(C=a.transceivers[l]).iceGatherer,k=C.iceTransport,T=C.dtlsTransport,w=C.rtpReceiver,R=C.sendEncodingParameters,P=C.localCapabilities,a.transceivers[l].recvEncodingParameters=E,a.transceivers[l].remoteCapabilities=D,a.transceivers[l].rtcpParameters=M,N.length&&"new"===k.state&&(!j&&!_||b&&0!==l?N.forEach((function(e){d(C.iceTransport,e)})):k.setRemoteCandidates(N)),b&&0!==l||("new"===k.state&&k.start(S,I,"controlling"),"new"===T.state&&T.start(A)),!s(C.localCapabilities,C.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&C.sendEncodingParameters[0].rtx&&delete C.sendEncodingParameters[0].rtx,a._transceive(C,"sendrecv"===x||"recvonly"===x,"sendrecv"===x||"sendonly"===x),!w||"sendrecv"!==x&&"sendonly"!==x?delete C.rtpReceiver:(F=w.track,y?(o[y.stream]||(o[y.stream]=new e.MediaStream),n(F,o[y.stream]),h.push([F,w,o[y.stream]])):(o.default||(o.default=new e.MediaStream),n(F,o.default),h.push([F,w,o.default]))));else{(C=a.transceivers[l]||a._createTransceiver(f)).mid=O,C.iceGatherer||(C.iceGatherer=a._createIceGatherer(l,b)),N.length&&"new"===C.iceTransport.state&&(!_||b&&0!==l?N.forEach((function(e){d(C.iceTransport,e)})):C.iceTransport.setRemoteCandidates(N)),P=e.RTCRtpReceiver.getCapabilities(f),t<15019&&(P.codecs=P.codecs.filter((function(e){return"rtx"!==e.name}))),R=C.sendEncodingParameters||[{ssrc:1001*(2*l+2)}];var L,B=!1;"sendrecv"===x||"sendonly"===x?(B=!C.rtpReceiver,w=C.rtpReceiver||new e.RTCRtpReceiver(C.dtlsTransport,f),B&&(F=w.track,y&&"-"===y.stream||(y?(o[y.stream]||(o[y.stream]=new e.MediaStream,Object.defineProperty(o[y.stream],"id",{get:function(){return y.stream}})),Object.defineProperty(F,"id",{get:function(){return y.track}}),L=o[y.stream]):(o.default||(o.default=new e.MediaStream),L=o.default)),L&&(n(F,L),C.associatedRemoteMediaStreams.push(L)),h.push([F,w,L]))):C.rtpReceiver&&C.rtpReceiver.track&&(C.associatedRemoteMediaStreams.forEach((function(e){var t=e.getTracks().find((function(e){return e.id===C.rtpReceiver.track.id}));t&&u(t,e)})),C.associatedRemoteMediaStreams=[]),C.localCapabilities=P,C.remoteCapabilities=D,C.rtpReceiver=w,C.rtcpParameters=M,C.sendEncodingParameters=R,C.recvEncodingParameters=E,a._transceive(a.transceivers[l],!1,B)}}})),void 0===a._dtlsRole&&(a._dtlsRole="offer"===i.type?"active":"passive"),a._remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?a._updateSignalingState("have-remote-offer"):a._updateSignalingState("stable"),Object.keys(o).forEach((function(t){var n=o[t];if(n.getTracks().length){if(-1===a.remoteStreams.indexOf(n)){a.remoteStreams.push(n);var r=new Event("addstream");r.stream=n,e.setTimeout((function(){a._dispatchEvent("addstream",r)}))}h.forEach((function(e){var t=e[0],r=e[1];n.id===e[2].id&&p(a,t,r,[n])}))}})),h.forEach((function(e){e[2]||p(a,e[0],e[1],[])})),e.setTimeout((function(){a&&a.transceivers&&a.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},h.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},h.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},h.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},h.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},h.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},h.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(l("InvalidStateError","Can not call createOffer after close"));var i=n.transceivers.filter((function(e){return"audio"===e.kind})).length,o=n.transceivers.filter((function(e){return"video"===e.kind})).length,s=arguments[0];if(s){if(s.mandatory||s.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==s.offerToReceiveAudio&&(i=!0===s.offerToReceiveAudio?1:!1===s.offerToReceiveAudio?0:s.offerToReceiveAudio),void 0!==s.offerToReceiveVideo&&(o=!0===s.offerToReceiveVideo?1:!1===s.offerToReceiveVideo?0:s.offerToReceiveVideo)}for(n.transceivers.forEach((function(e){"audio"===e.kind?--i<0&&(e.wantReceive=!1):"video"===e.kind&&--o<0&&(e.wantReceive=!1)}));i>0||o>0;)i>0&&(n._createTransceiver("audio"),i--),o>0&&(n._createTransceiver("video"),o--);var c=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach((function(i,a){var o=i.track,s=i.kind,c=i.mid||r.generateIdentifier();i.mid=c,i.iceGatherer||(i.iceGatherer=n._createIceGatherer(a,n.usingBundle));var d=e.RTCRtpSender.getCapabilities(s);t<15019&&(d.codecs=d.codecs.filter((function(e){return"rtx"!==e.name}))),d.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),i.remoteCapabilities&&i.remoteCapabilities.codecs&&i.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),d.headerExtensions.forEach((function(e){(i.remoteCapabilities&&i.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var l=i.sendEncodingParameters||[{ssrc:1001*(2*a+1)}];o&&t>=15019&&"video"===s&&!l[0].rtx&&(l[0].rtx={ssrc:l[0].ssrc+1}),i.wantReceive&&(i.rtpReceiver=new e.RTCRtpReceiver(i.dtlsTransport,s)),i.localCapabilities=d,i.sendEncodingParameters=l})),"max-compat"!==n._config.bundlePolicy&&(c+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),c+="a=ice-options:trickle\r\n",n.transceivers.forEach((function(e,t){c+=a(e,e.localCapabilities,"offer",e.stream,n._dtlsRole),c+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,c+="a="+r.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(c+="a=end-of-candidates\r\n"))}));var d=new e.RTCSessionDescription({type:"offer",sdp:c});return Promise.resolve(d)},h.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(l("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return Promise.reject(l("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var i=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(i+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),i+="a=ice-options:trickle\r\n";var o=r.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach((function(e,r){if(!(r+1>o)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?i+="m=application 0 DTLS/SCTP 5000\r\n":i+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?i+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(i+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(i+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var c;e.stream&&("audio"===e.kind?c=e.stream.getAudioTracks()[0]:"video"===e.kind&&(c=e.stream.getVideoTracks()[0]),c&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var d=s(e.localCapabilities,e.remoteCapabilities);!d.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,i+=a(e,d,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(i+="a=rtcp-rsize\r\n")}}));var c=new e.RTCSessionDescription({type:"answer",sdp:i});return Promise.resolve(c)},h.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(i,a){if(!n._remoteDescription)return a(l("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var o=e.sdpMLineIndex;if(e.sdpMid)for(var s=0;s<n.transceivers.length;s++)if(n.transceivers[s].mid===e.sdpMid){o=s;break}var c=n.transceivers[o];if(!c)return a(l("OperationError","Can not add ICE candidate"));if(c.rejected)return i();var u=Object.keys(e.candidate).length>0?r.parseCandidate(e.candidate):{};if("tcp"===u.protocol&&(0===u.port||9===u.port))return i();if(u.component&&1!==u.component)return i();if((0===o||o>0&&c.iceTransport!==n.transceivers[0].iceTransport)&&!d(c.iceTransport,u))return a(l("OperationError","Can not add ICE candidate"));var p=e.candidate.trim();0===p.indexOf("a=")&&(p=p.substr(2)),(t=r.getMediaSections(n._remoteDescription.sdp))[o]+="a="+(u.type?p:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join("")}else for(var h=0;h<n.transceivers.length&&(n.transceivers[h].rejected||(n.transceivers[h].iceTransport.addRemoteCandidate({}),(t=r.getMediaSections(n._remoteDescription.sdp))[h]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join(""),!n.usingBundle));h++);i()}))},h.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)})),!n)throw l("InvalidAccessError","Invalid selector.");return n.getStats()}var r=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&r.push(e[t].getStats())}))})),Promise.all(r).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var r=n.prototype.getStats;n.prototype.getStats=function(){return r.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(n){e[n].type=i(e[n]),t.set(n,e[n])})),t}))}}}));var f=["createOffer","createAnswer"];return f.forEach((function(e){var t=h.prototype[e];h.prototype[e]=function(){var e=arguments;return"function"===typeof e[0]||"function"===typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"===typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"===typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(f=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=h.prototype[e];h.prototype[e]=function(){var e=arguments;return"function"===typeof e[1]||"function"===typeof e[2]?t.apply(this,arguments).then((function(){"function"===typeof e[1]&&e[1].apply(null)}),(function(t){"function"===typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=h.prototype[e];h.prototype[e]=function(){var e=arguments;return"function"===typeof e[1]?t.apply(this,arguments).then((function(){"function"===typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),h}},{sdp:17}],17:[function(e,t,n){"use strict";var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},r.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},r.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substr(14).split(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},r.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},r.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:r.matchPrefix(e+t,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},r.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},r.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===typeof e.keyParams?r.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},r.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},r.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},r.getCryptoParameters=function(e,t){return r.matchPrefix(e+t,"a=crypto:").map(r.parseCryptoLine)},r.getIceParameters=function(e,t){var n=r.matchPrefix(e+t,"a=ice-ufrag:")[0],i=r.matchPrefix(e+t,"a=ice-pwd:")[0];return n&&i?{usernameFragment:n.substr(12),password:i.substr(10)}:null},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e)[0].split(" "),i=3;i<n.length;i++){var a=n[i],o=r.matchPrefix(e,"a=rtpmap:"+a+" ")[0];if(o){var s=r.parseRtpMap(o),c=r.matchPrefix(e,"a=fmtp:"+a+" ");switch(s.parameters=c.length?r.parseFmtp(c[0]):{},s.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+a+" ").map(r.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(r.parseExtmap(e))})),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)}));var i=0;return t.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(n+="a=maxptime:"+i+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach((function(e){n+=r.writeExtmap(e)})),n},r.parseRtpEncodingParameters=function(e){var t,n=[],i=r.parseRtpParameters(e),a=-1!==i.fecMechanisms.indexOf("RED"),o=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=s.length>0&&s[0].ssrc,d=r.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));d.length>0&&d[0].length>1&&d[0][0]===c&&(t=d[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&t&&(r.rtx={ssrc:t}),n.push(r),a&&((r=JSON.parse(JSON.stringify(r))).fec={ssrc:c,mechanism:o?"red+ulpfec":"red"},n.push(r))}})),0===n.length&&c&&n.push({ssrc:c});var l=r.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=l}))),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var i=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=0===i.length;var a=r.matchPrefix(e,"a=rtcp-mux");return t.mux=a.length>0,t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var i=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(t=i[0].value.split(" "))[0],track:t[1]}:void 0},r.parseSctpDescription=function(e){var t,n=r.parseMLine(e),i=r.matchPrefix(e,"a=max-message-size:");i.length>0&&(t=parseInt(i[0].substr(19),10)),isNaN(t)&&(t=65536);var a=r.matchPrefix(e,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substr(12),10),protocol:n.fmt,maxMessageSize:t};if(r.matchPrefix(e,"a=sctpmap:").length>0){var o=r.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(o[0],10),protocol:o[1],maxMessageSize:t}}},r.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,n){var i=void 0!==t?t:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||r.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,i){var a=r.writeRtpDescription(e.kind,t);if(a+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),a+="a=mid:"+e.mid+"\r\n",e.direction?a+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var o="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";a+="a="+o,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+o,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+o,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),a},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2)}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){return r.splitLines(e)[0].split(" ")[0].substr(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},r.isValidSDP=function(e){if("string"!==typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},"object"===typeof t&&(t.exports=r)},{}]},{},[1])(1)},423:function(e,t,n){"use strict";n.r(t);var r,i=n(0),a=n.n(i),o=n(32),s=n.n(o),c=n(7),d=(n(237),n(106)),l=n(59),u=(n(238),n(183)),p=n(229),h=n(117),f=n(31),m=n(22),j=(n(239),n.p+"static/media/PassageLogo.d587c4b0.svg"),b=(n.p,n(11)),g=(n(150),n(30)),v=n(40),x=n.n(v),y={host:"https://play.otherworldevent.com",api:"/api",version:"/v1",user:"/user",get login(){return this.host+this.api+this.version+"/login"},get register(){return this.host+this.api+this.version+"/register"},get facebookAuth(){return this.host+this.api+this.version+"/facebook-auth"},get facebookCallback(){return this.host+this.api+this.version+this.user+"/facebook/callback?code"},get whoami(){return this.host+this.api+this.version+this.user+"/whoami"},get friendsList(){return this.host+this.api+this.version+this.user+"/list-friend"},get requestFriendship(){return this.host+this.api+this.version+this.user+"/request-for-friendship"},get rejectionFriendship(){return this.host+this.api+this.version+this.user+"/rejection-of-friendship"},get addFriend(){return this.host+this.api+this.version+this.user+"/add-friend"},get searchUser(){return this.host+this.api+this.version+this.user+"/search-user"},get updateUser(){return this.host+this.api+this.version+this.user+"/update-user"},get updatePrivacy(){return this.host+this.api+this.version+this.user+"/update-user-privacy"},get addReport(){return this.host+this.api+this.version+this.user+"/add-report"},deleteFriend:function(e){return this.host+this.api+this.version+this.user+"/delete-friend/".concat(e)},getAgoraTokenUrl:function(e){return this.host+this.api+this.version+this.user+"/get-agora-token?channelName="+e},getNeonListItems:function(e,t){return this.host+this.api+this.version+this.user+"/list-items?skip="+e+"&take="+t},get getGiveMeServer(){return"https://mm.neon-xp.tk/api/v1/public/give-me-server?gameName=enva&mode=standalone"}};function O(e){return x.a.post(y.facebookAuth,{accessToken:e})}var C,S=(r={login:function(e,t){return x.a.post(y.login,{email:e,password:t})},register:function(e,t,n,r){return x.a.post(y.register,{email:e,firstName:n,ticket:r,password:t})},facebookAuth:O,getAgoraToken:function(e,t){return x.a.get(y.getAgoraTokenUrl(t),{headers:{Authorization:e}})},whoami:function(e){return x.a.get(y.whoami,{headers:{Authorization:e}})},getFriendsList:function(e){return x.a.get(y.friendsList,{headers:{Authorization:e}})},deleteFriend:function(e,t){return x.a.patch(y.deleteFriend(t),{},{headers:{Authorization:e}})},requestFriendship:function(e,t){return x.a.patch(y.requestFriendship,{userId:t},{headers:{Authorization:e}})},rejectionfriendship:function(e,t){return x.a.patch(y.rejectionFriendship,{userId:t},{})},addFriend:function(e,t){return x.a.patch(y.addFriend,{userid:t},{headers:{Authorization:e}})},searchUser:function(e,t,n){return x.a.get(y.searchUser,{headers:{Authorization:e},email:t,userName:n,skip:0,limit:999999999})},updateUser:function(e,t){return x.a.patch(y.updateUser,t,{headers:{Authorization:e}})}},Object(g.a)(r,"facebookAuth",O),Object(g.a)(r,"getGiveMyServer",(function(){return x.a.get(y.getGiveMeServer)})),Object(g.a)(r,"updatePrivacy",(function(e,t,n,r,i){return x.a.patch(y.updatePrivacy,{searchUserName:t,searchFacebook:n,myVideo:r,myAudio:i},{headers:{Authorization:e}})})),Object(g.a)(r,"addReport",(function(e,t,n,r){return x.a.post(y.addReport,{acused:t,cause:n,description:r},{headers:{Authorization:e}})})),Object(g.a)(r,"getNeonItems",(function(e){return x.a.get(y.getNeonListItems(0,999),{headers:{Authorization:e}})})),r),k=n(53),T=Object(k.b)({name:"account",initialState:{id:null,login:null,token:null,neonName:null,agoraToken:null,agoraChannelId:null,agoraId:null,isSuperUser:!1,friendsList:[],searchUserName:!1,searchFacebook:!1,myVideo:!1,myAudio:!1,settingsTabDefault:"1"},reducers:(C={setId:function(e,t){e.id=t.payload},setToken:function(e,t){e.token=t.payload},setAgoraToken:function(e,t){e.agoraToken=t.payload},setNeonName:function(e,t){e.neonName=t.payload},setLogin:function(e,t){e.login=t.payload},setAgoraChannelId:function(e,t){e.agoraChannelId=t.payload},setIsSuperUser:function(e,t){e.isSuperUser=t.payload},setFriendsList:function(e,t){e.friendsList=t.payload}},Object(g.a)(C,"setFriendsList",(function(e,t){e.friendsList=t.payload})),Object(g.a)(C,"setSearchUserName",(function(e,t){e.searchUserName=t.payload})),Object(g.a)(C,"setSearchFacebook",(function(e,t){e.searchFacebook=t.payload})),Object(g.a)(C,"setMyVideo",(function(e,t){e.myVideo=t.payload})),Object(g.a)(C,"setMyAudio",(function(e,t){e.myAudio=t.payload})),Object(g.a)(C,"clean",(function(e){e.id=null,e.token=null,e.agoraToken=null,e.login=null})),Object(g.a)(C,"setSettingsTabDefault",(function(e,t){e.settingsTabDefault=t.payload})),Object(g.a)(C,"setAgoraId",(function(e,t){e.agoraId=t.payload})),C)}),w=T.actions,R=w.setToken,E=w.setLogin,P=(w.setAgoraToken,w.setId),F=w.setIsSuperUser,I=(w.setAgoraChannelId,w.clean),A=(w.setFriendsList,w.setSearchUserName),D=w.setSearchFacebook,M=w.setMyVideo,_=w.setMyAudio,N=w.setNeonName,L=w.setSettingsTabDefault,B=w.setAgoraId,z=T.reducer,U=n(9),G=n(1);function V(){u.a.useBreakpoint;var e=Object(i.useState)(""),t=Object(c.a)(e,2),n=t[0],r=t[1],a=Object(i.useState)(""),o=Object(c.a)(a,2),s=o[0],g=o[1],v=(Object(U.c)((function(e){return e.account})),Object(U.b)()),x=Object(f.g)();return Object(G.jsxs)(d.a,{justify:"center",children:[Object(G.jsx)(l.a,{span:24,style:{textAlign:"center",marginBottom:"-120px",zIndex:"1000"},children:Object(G.jsx)(b.a,{src:j})}),Object(G.jsx)(l.a,{className:"login-col",xs:18,sm:11,md:8,lg:8,xl:5,style:{backgroundColor:"#242424",textAlign:"center",borderRadius:"24px",pointerEvents:"auto",paddingTop:"105px",maxWidth:"390px",minWidth:"350px"},children:Object(G.jsxs)(d.a,{justify:"center",children:[Object(G.jsx)(l.a,{span:24,style:{fontFamily:"Niveau Grotesk Bold",color:"white",textAlign:"center",marginBottom:"7px",fontWeight:"normal",marginTop:"15px"},children:"LOG IN"}),Object(G.jsx)(l.a,{span:22,children:Object(G.jsx)("input",{className:"auth-input",onChange:function(e){r(e.currentTarget.value)},placeholder:"Email or Username",type:"text"})}),Object(G.jsx)(l.a,{span:22,style:{marginBottom:"8px"},children:Object(G.jsx)("input",{onChange:function(e){g(e.currentTarget.value)},type:"password",className:"auth-input",placeholder:"Password"})}),Object(G.jsx)(l.a,{span:20,className:"remember-row",style:{marginBottom:"16px",fontFamily:"Montserrat"},children:Object(G.jsxs)(d.a,{justify:"space-between",children:[Object(G.jsx)(l.a,{span:12,children:Object(G.jsx)(h.a,{style:{color:"grey"},children:"Remember me"})}),Object(G.jsx)(l.a,{className:"forgot-password",span:12,style:{color:"grey",textDecoration:"underline"},children:Object(G.jsx)(m.b,{to:"/reset-password",style:{textDecoration:"none",color:"grey"},children:"Forgot password?"})})]})}),Object(G.jsx)(l.a,{span:22,children:Object(G.jsx)("button",{onClick:function(e){n&&s?S.login(n,s).then((function(e){console.debug(e),200===e.status&&e.data.token&&(v(E(n)),v(R(e.data.token)),x.push("/initial-setup"))})).catch((function(e){p.a.error({message:"Invalid fields",description:e.response.data.message})})):p.a.error({message:"Invalid fields",description:"Please fill all fields!"})},className:"auth-button",children:"LOG IN"})}),Object(G.jsx)(l.a,{span:22,style:{textAlign:"center",color:"grey",fontFamily:"Montserrat",fontSize:"14px",marginBottom:"16px"},children:"Not signed up?"}),Object(G.jsx)(l.a,{style:{marginBottom:12},span:22,children:Object(G.jsx)(m.b,{to:"/registration",children:Object(G.jsx)("button",{className:"auth-button",style:{backgroundColor:"#5b5b5b",boxShadow:"0px 4px 0px #4f4f4f",marginBottom:"20px"},children:"REGISTER"})})})]})})]})}function W(){var e=Object(i.useState)(""),t=Object(c.a)(e,2),n=t[0],r=t[1],a=Object(i.useState)(""),o=Object(c.a)(a,2),s=o[0],u=o[1],h=Object(i.useState)(""),m=Object(c.a)(h,2),g=m[0],v=m[1],x=Object(i.useState)(""),y=Object(c.a)(x,2),O=(y[0],y[1]),C=Object(i.useState)(""),k=Object(c.a)(C,2),T=k[0],w=k[1],P=Object(f.g)(),F=Object(U.b)();return Object(G.jsxs)(d.a,{justify:"center",align:"middle",children:[Object(G.jsx)(l.a,{span:24,style:{textAlign:"center",marginBottom:"-120px",zIndex:"1000"},children:Object(G.jsx)(b.a,{src:j})}),Object(G.jsx)(l.a,{xs:18,sm:11,md:8,lg:8,xl:5,style:{backgroundColor:"#242424",textAlign:"center",borderRadius:"24px",pointerEvents:"auto",paddingTop:"105px",maxWidth:"390px",minWidth:"390px"},children:Object(G.jsxs)(d.a,{justify:"center",children:[Object(G.jsx)(l.a,{span:24,className:"login-col",style:{color:"white",textAlign:"center",marginBottom:"7px",fontWeight:"normal",marginTop:"15px"},children:"REGISTRATION"}),Object(G.jsx)(l.a,{span:22,children:Object(G.jsx)("input",{onChange:function(e){r(e.currentTarget.value)},className:"auth-input",placeholder:"Email"})}),Object(G.jsx)(l.a,{span:22,children:Object(G.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},className:"auth-input",placeholder:"Public Username"})}),Object(G.jsx)(l.a,{span:22,children:Object(G.jsx)("input",{onChange:function(e){v(e.currentTarget.value)},type:"password",className:"auth-input",placeholder:"Password"})}),Object(G.jsx)(l.a,{span:22,children:Object(G.jsx)("input",{onChange:function(e){O(e.currentTarget.value)},type:"password",className:"auth-input",placeholder:"Confirm Password"})}),Object(G.jsx)(l.a,{span:22,style:{marginBottom:"8px"},children:Object(G.jsx)("input",{onChange:function(e){w(e.currentTarget.value)},className:"auth-input",placeholder:"Access Code"})}),Object(G.jsx)(l.a,{style:{marginBottom:"10px"},span:22,children:Object(G.jsx)("button",{onClick:function(){n&&g?S.register(n,g,s,T).then((function(e){console.debug(e),200===e.status&&e.data.token&&(F(E(n)),F(R(e.data.token)),P.push("/initial-setup"))})).catch((function(e){p.a.error({message:"Invalid fields",description:e.response.data.message})})):p.a.open({message:"Invalid fields",description:"Please fill all fields!"})},className:"auth-button",children:"SIGN UP"})}),Object(G.jsx)(l.a,{span:22,children:Object(G.jsx)("button",{className:"auth-button",onClick:function(){P.goBack()},style:{backgroundColor:"#5b5b5b",boxShadow:"0px 4px 0px #4f4f4f",marginBottom:"18px"},children:"CANCEL"})}),Object(G.jsx)(l.a,{span:22,className:"auth-text",style:{marginBottom:"18px"},children:"Don't have an access code?"})]})})]})}var H,Q,Y,J,K="a0c69aca0e2e4c9c86bd3bbd8854ce3d",q=n(217),X=n(218),Z=n.n(X),$=null,ee=((new Date).getTime(),new Map),te=null,ne=!0,re={receiving:!1,size:0,jpeg:void 0,height:0,width:0,valid:!1},ie={enabled:!1,warnTimeout:120,closeTimeout:10,active:!1,overlay:void 0,warnTimer:void 0,countdown:0,countdownTimer:void 0},ae=void 0,oe=void 0;Date.now();function se(e){null!==e.PrioritiseQuality&&Ze({Console:"Streamer.PrioritiseQuality "+e.PrioritiseQuality});null!==e.LowBitrate&&Ze({Console:"Streamer.LowBitrate "+e.LowBitrate});null!==e.HighBitrate&&Ze({Console:"Streamer.HighBitrate "+e.HighBitrate});null!==e.MinFPS&&Ze({Console:"Streamer.MinFPS "+e.MinFPS})}function ce(e,t,n){var r=document.getElementById("videoPlayOverlay");if(!r){var i=document.getElementById("player");(r=document.createElement("div")).id="videoPlayOverlay",i.appendChild(r)}for(;r.lastChild;)r.removeChild(r.lastChild);t&&r.appendChild(t),n&&r.addEventListener("click",(function e(t){n(t),r.removeEventListener("click",e)}));for(var a=r.classList,o=a.length-1;o>=0;o--)a.remove(a[o]);r.classList.add(e)}function de(){ie.overlay.innerHTML="<center>No activity detected<br>Disconnecting in "+ie.countdown+" seconds<br>Click to continue<br></center>"}function le(){ie.active=!1,ie.overlay=document.createElement("div"),ie.overlay.id="afkOverlay",ce("clickableState",ie.overlay,(function(e){ue(),clearInterval(ie.countdownTimer),pe()})),ie.countdown=ie.closeTimeout,de(),Pe.controlScheme==Ee.LockedMouse&&document.exitPointerLock(),ie.countdownTimer=setInterval((function(){ie.countdown--,0==ie.countdown?(ue(),Q.close()):de()}),1e3)}function ue(){ce("hiddenState")}function pe(){ie.active=ie.enabled,he()}function he(){ie.active&&(clearTimeout(ie.warnTimer),ie.warnTimer=setTimeout((function(){le()}),1e3*ie.warnTimeout))}function fe(){$?(console.log("Creating offer"),$.createOffer()):(console.log("WebRTC player not setup, cannot create offer"),function(e){var t=document.createElement("div");t.id="messageOverlay",t.innerHTML=e||"",ce("textDisplayState",t)}("Unable to setup video"))}function me(e){$&&(he(),$.send(e))}var je,be,ge,ve,xe=0,ye=1,Oe=2,Ce=3,Se=4;function ke(e,t){function n(){var e=btoa(re.jpeg.reduce((function(e,t){return e+String.fromCharCode(t)}),""));te.src="data:image/jpeg;base64,"+e,te.onload=function(){re.height=te.naturalHeight,re.width=te.naturalWidth,Ae(),ne?De():Fe()}}return $=new Z.a({peerConnectionOptions:t.peerConnectionOptions}),e.appendChild($.video),e.appendChild(te),$.onWebRtcOffer=function(e){if(Q&&1===Q.readyState){var t=JSON.stringify(e);console.log("-> SS: offer:\n".concat(t)),Q.send(t)}},$.onWebRtcCandidate=function(e){Q&&1===Q.readyState&&(console.log("-> SS: iceCandidate\n".concat(JSON.stringify(e,void 0,4))),Q.send(JSON.stringify({type:"iceCandidate",candidate:e})))},$.onVideoInitialised=function(){Q&&1===Q.readyState&&ne&&De()},$.onDataChannelConnected=function(){Q&&1===Q.readyState&&It.getInstance().dataChannelInitedUE4Callback()},$.onDataChannelMessage=function(e){var t=this,r=new Uint8Array(e);if("object"===typeof e&&"Blob"===e.constructor.name){var i=new FileReader;return i.onload=function(e){var n=e.target.result;t.onDataChannelMessage(n)},void i.readAsArrayBuffer(e)}if(re.receiving){var a=new Uint8Array(re.jpeg.length+r.length);a.set(re.jpeg,0),a.set(r,re.jpeg.length),re.jpeg=a,re.jpeg.length===re.size?(re.receiving=!1,re.valid=!0,console.log("received complete freeze frame ".concat(re.size)),n()):re.jpeg.length>re.size?(console.error("received bigger freeze frame than advertised: ".concat(re.jpeg.length,"/").concat(re.size)),re.jpeg=void 0,re.receiving=!1):console.log("received next chunk (".concat(r.length," bytes) of freeze frame: ").concat(re.jpeg.length,"/").concat(re.size))}else if(r[0]===xe)r[1];else if(r[0]===ye){var o=new TextDecoder("utf-16").decode(e.slice(1));console.debug(ee);var s,c=Object(q.a)(ee.values());try{for(c.s();!(s=c.n()).done;){(0,s.value)(o)}}catch(u){c.e(u)}finally{c.f()}}else if(r[0]===Oe){var d=new TextDecoder("utf-16").decode(e.slice(1)),l=JSON.parse(d);"onScreenKeyboard"===l.command&&function(e){if(e.showOnScreenKeyboard){ae.classList.remove("hiddenState");var t=J(e.x,e.y);ae.style.top=t.y.toString()+"px",ae.style.left=(t.x-40).toString()+"px"}else ae.classList.add("hiddenState"),oe.blur()}(l)}else r[0]===Ce?(re.size=new DataView(r.slice(1,5).buffer).getInt32(0,!0),re.jpeg=r.slice(5),re.jpeg.length<re.size?(console.log("received first chunk of freeze frame: ".concat(re.jpeg.length,"/").concat(re.size)),re.receiving=!0):(console.log("received complete freeze frame: ".concat(re.jpeg.length,"/").concat(re.size)),n())):r[0]===Se?Ie():console.error("unrecognised data received, packet ID ".concat(r[0]))},function(e){if(!e)return;(function(e){e.onmouseenter=function(t){console.log("mouse enter");var n=new DataView(new ArrayBuffer(1));n.setUint8(0,Ge),me(n.buffer),e.pressMouseButtons(t)},e.onmouseleave=function(t){console.log("mouse leave");var n=new DataView(new ArrayBuffer(1));n.setUint8(0,Ve),me(n.buffer),e.releaseMouseButtons(t)}})(e),function(e){var t=[9,8,7,6,5,4,3,2,1,0],n={};function r(e){var r=t.pop();void 0===r&&console.log("exhausted touch indentifiers"),n[e.identifier]=r}function i(e){t.push(n[e.identifier]),delete n[e.identifier]}function a(t,r){var i=new DataView(new ArrayBuffer(2+6*r.length));i.setUint8(0,t),i.setUint8(1,r.length);for(var a=2,o=0;o<r.length;o++){var s=r[o],c=s.clientX-e.offsetLeft,d=s.clientY-e.offsetTop;console.log("F".concat(n[s.identifier],"=(").concat(c,", ").concat(d,")"));var l=tt(c,d);i.setUint16(a,l.x,!0),a+=2,i.setUint16(a,l.y,!0),a+=2,i.setUint8(a,n[s.identifier],!0),a+=1,i.setUint8(a,255*s.force,!0),a+=1}me(i.buffer)}if(Pe.fakeMouseWithTouches){var o=void 0;e.ontouchstart=function(t){if(void 0===o){var n=t.changedTouches[0];o={id:n.identifier,x:n.clientX-et.left,y:n.clientY-et.top},e.onmouseenter(t),it(st,o.x,o.y)}t.preventDefault()},e.ontouchend=function(t){for(var n=0;n<t.changedTouches.length;n++){var r=t.changedTouches[n];if(r.identifier===o.id){var i=r.clientX-et.left,a=r.clientY-et.top;at(st,i,a),e.onmouseleave(t),o=void 0;break}}t.preventDefault()},e.ontouchmove=function(e){for(var t=0;t<e.touches.length;t++){var n=e.touches[t];if(n.identifier===o.id){var r=n.clientX-et.left,i=n.clientY-et.top;rt(r,i,r-o.x,i-o.y),o.x=r,o.y=i;break}}e.preventDefault()}}else e.ontouchstart=function(e){for(var t=0;t<e.changedTouches.length;t++)r(e.changedTouches[t]);console.log("touch start"),a(Je,e.changedTouches),e.preventDefault()},e.ontouchend=function(e){console.log("touch end"),a(Ke,e.changedTouches);for(var t=0;t<e.changedTouches.length;t++)i(e.changedTouches[t]);e.preventDefault()},e.ontouchmove=function(e){console.log("touch move"),a(qe,e.touches),e.preventDefault()}}(e)}($.video),"ontouchstart"in document.documentElement&&function(e){null===document.getElementById("hiddenInput")&&((oe=document.createElement("input")).id="hiddenInput",oe.maxLength=0,e.appendChild(oe));null===document.getElementById("editTextButton")&&((ae=document.createElement("button")).id="editTextButton",ae.innerHTML="edit text",e.appendChild(ae),ae.classList.add("hiddenState"),ae.addEventListener("click",(function(){oe.focus()})))}(e),fe(),$.video}var Te,we,Re="default",Ee={LockedMouse:0,HoveringMouse:1},Pe={controlScheme:Ee.LockedMouse,suppressBrowserKeys:!0,fakeMouseWithTouches:!1};function Fe(){re.valid&&(te.style.display="block")}function Ie(){te.style.display="none",re.valid=!1}function Ae(){if(0!==re.width&&0!==re.height){var e=0,t=0,n=0,r=0,i=document.getElementById("enlarge-display-to-fill-window-tgl");if(null!==i&&i.checked){var a=window.innerWidth/window.innerHeight,o=re.width/re.height;a<o?(e=window.innerWidth,t=Math.floor(window.innerWidth/o),n=Math.floor(.5*(window.innerHeight-t)),r=0):(e=Math.floor(window.innerHeight*o),t=window.innerHeight,n=0,r=Math.floor(.5*(window.innerWidth-e)))}else e=re.width,t=re.height,n=0,r=0;te.style.width=e+"px",te.style.height=t+"px",te.style.left=r+"px",te.style.top=n+"px"}}function De(e){var t=document.getElementById("player");if(t&&(Me(),!t.classList.contains("fixed-size"))){var n=document.getElementById("enlarge-display-to-fill-window-tgl"),r=window.innerWidth<t.videoWidth||window.innerHeight<t.videoHeight;null!==n?n.checked||r?(console.debug("FILL"),function(e){var t=e.getElementsByTagName("VIDEO"),n=window.innerHeight/window.innerWidth,r=e.clientHeight/e.clientWidth,i=t.videoHeight/t.videoWidth;isNaN(i)?(je=window.innerWidth,be=window.innerHeight,ge=0,ve=0,e.style="top: "+ge+"px; left: "+ve+"px; width: "+je+"px; height: "+be+"px; cursor: "+Re+"; "+Te):n<r?(je=Math.floor(window.innerHeight/i),be=window.innerHeight,ge=0,ve=Math.floor(.5*(window.innerWidth-je)),e.style="top: "+ge+"px; left: "+ve+"px; width: "+je+"px; height: "+be+"px; cursor: "+Re+"; "+Te):(je=window.innerWidth,be=Math.floor(window.innerWidth*i),ge=Math.floor(.5*(window.innerHeight-be)),ve=0,e.style="top: "+ge+"px; left: "+ve+"px; width: "+je+"px; height: "+be+"px; cursor: "+Re+"; "+Te)}(t)):(console.debug("ACTUAL"),function(e){var t=e.getElementsByTagName("VIDEO");t.length>0&&(je=t[0].videoWidth,be=t[0].videoHeight,ge=Math.floor(.5*(window.innerHeight-be)),ve=Math.floor(.5*(window.innerWidth-je)),e.style="top: "+ge+"px; left: "+ve+"px; width: "+je+"px; height: "+be+"px; cursor: "+Re+"; "+Te)}(t)):(console.debug("Arbitrary"),function(e){e.getElementsByTagName("VIDEO"),je=window.innerWidth,be=window.innerHeight,e.style="top: 0px; left: 0px; width: "+je+"px; height: "+be+"px; cursor: "+Re+"; "+Te}(t)),et=t.getBoundingClientRect(),function(){var e=document.getElementById("player"),t=e.getElementsByTagName("video");if(e&&t.length>0){var n=e.clientHeight/e.clientWidth,r=t[0].videoHeight/t[0].videoWidth;if(n>r){console.log("Setup Normalize and Quantize for playerAspectRatio > videoAspectRatio");var i=n/r;tt=function(t,n){var r=t/e.clientWidth,a=i*(n/e.clientHeight-.5)+.5;return r<0||r>1||a<0||a>1?{inRange:!1,x:65535,y:65535}:{inRange:!0,x:65536*r,y:65536*a}},J=function(t,n){var r=(n/65536-.5)/i+.5;return{x:t/65536*e.clientWidth,y:r*e.clientHeight}},nt=function(t,n){return{x:32767*(t/(.5*e.clientWidth)),y:32767*(i*n/(.5*e.clientHeight))}}}else{console.log("Setup Normalize and Quantize for playerAspectRatio <= videoAspectRatio");var a=r/n;tt=function(t,n){var r=a*(t/e.clientWidth-.5)+.5,i=n/e.clientHeight;return r<0||r>1||i<0||i>1?{inRange:!1,x:65535,y:65535}:{inRange:!0,x:65536*r,y:65536*i}},J=function(t,n){var r=n/65536;return{x:((t/65536-.5)/a+.5)*e.clientWidth,y:r*e.clientHeight}},nt=function(t,n){return{x:32767*(a*t/(.5*e.clientWidth)),y:32767*(n/(.5*e.clientHeight))}}}}}(),Ae()}}function Me(){}function _e(e){clearTimeout(we),we=setTimeout((function(){De()}),500)}var Ne=1,Le=50,Be=60,ze=61,Ue=62,Ge=70,Ve=71,We=72,He=73,Qe=74,Ye=75,Je=80,Ke=81,qe=82;function Xe(e,t){var n=JSON.stringify(t),r=new DataView(new ArrayBuffer(3+2*n.length)),i=0;r.setUint8(i,e),i++,r.setUint16(i,n.length,!0),i+=2;for(var a=0;a<n.length;a++)r.setUint16(i,n.charCodeAt(a),!0),i+=2;me(r.buffer)}function Ze(e){console.debug(e),Xe(Le,e)}function $e(){me(new Uint8Array([Ne]).buffer)}var et=void 0,tt=void 0,nt=void 0;function rt(e,t,n,r){console.log("x: ".concat(e,", y:").concat(t,", dX: ").concat(n,", dY: ").concat(r));var i=tt(e,t),a=nt(n,r),o=new DataView(new ArrayBuffer(9));o.setUint8(0,Qe),o.setUint16(1,i.x,!0),o.setUint16(3,i.y,!0),o.setInt16(5,a.x,!0),o.setInt16(7,a.y,!0),me(o.buffer)}function it(e,t,n){console.log("mouse button ".concat(e," down at (").concat(t,", ").concat(n,")"));var r=tt(t,n),i=new DataView(new ArrayBuffer(6));i.setUint8(0,We),i.setUint8(1,e),i.setUint16(2,r.x,!0),i.setUint16(4,r.y,!0),me(i.buffer)}function at(e,t,n){console.log("mouse button ".concat(e," up at (").concat(t,", ").concat(n,")"));var r=tt(t,n),i=new DataView(new ArrayBuffer(6));i.setUint8(0,He),i.setUint8(1,e),i.setUint16(2,r.x,!0),i.setUint16(4,r.y,!0),me(i.buffer)}function ot(e,t,n){console.log("mouse wheel with delta ".concat(e," at (").concat(t,", ").concat(n,")"));var r=tt(t,n),i=new DataView(new ArrayBuffer(7));i.setUint8(0,Ye),i.setInt16(1,e,!0),i.setUint16(3,r.x,!0),i.setUint16(5,r.y,!0),me(i.buffer)}var st=0,ct=1,dt=2,lt=3,ut=4,pt=1,ht=2,ft=4,mt=8,jt=16;function bt(e,t,n){e&pt&&at(st,t,n),e&ht&&at(dt,t,n),e&ft&&at(ct,t,n),e&mt&&at(lt,t,n),e&jt&&at(ut,t,n)}function gt(e,t,n){e&pt&&it(st,t,n),e&ht&&it(dt,t,n),e&ft&&it(ct,t,n),e&mt&&it(lt,t,n),e&jt&&it(ut,t,n)}function vt(e){var t=e.width/2,n=e.height/2;function r(){document.pointerLockElement===e||document.mozPointerLockElement===e?(console.log("Pointer locked"),document.addEventListener("mousemove",i,!1)):(console.log("The pointer lock status is now unlocked"),document.removeEventListener("mousemove",i,!1))}function i(e){je&&be||(console.debug("RESIZE"),De()),t+=e.movementX,n+=e.movementY,t>je&&(t-=je),n>be&&(n-=be),t<0&&(t=je+t),n<0&&(n=be-n),rt(t,n,e.movementX,e.movementY)}e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock,document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock,e.onclick=function(){e.requestPointerLock()},document.addEventListener("pointerlockchange",r,!1),document.addEventListener("mozpointerlockchange",r,!1),e.onmousedown=function(e){it(e.button,t,n)},e.onmouseup=function(e){at(e.button,t,n)},e.onmousewheel=function(e){ot(e.wheelDelta,t,n)},e.pressMouseButtons=function(e){gt(e.buttons,t,n)},e.releaseMouseButtons=function(e){bt(e.buttons,t,n)}}function xt(e){return e>=112&&e<=123||9===e}var yt=8,Ot=16,Ct=17,St=18,kt=253,Tt=254,wt=255;function Rt(e){return e.keyCode===Ot&&"ShiftRight"===e.code?kt:e.keyCode===Ct&&"ControlRight"===e.code?Tt:e.keyCode===St&&"AltRight"===e.code?wt:e.keyCode}function Et(){Pt(),pe(),Ie(),ne=!0,De()}function Pt(){window.WebSocket=window.WebSocket||window.MozWebSocket,window.WebSocket?((Q=new WebSocket(H)).onmessage=function(e){console.log("<- SS: ".concat(e.data));var t,n,r=JSON.parse(e.data);"config"===r.type?function(e){var t=ke(document.getElementById("player"),e);switch(De(),Pe.controlScheme){case Ee.HoveringMouse:!function(e){Re="none",e.onmousemove=function(e){rt(e.offsetX,e.offsetY,e.movementX,e.movementY),e.preventDefault()},e.onmousedown=function(e){it(e.button,e.offsetX,e.offsetY),e.preventDefault()},e.onmouseup=function(e){at(e.button,e.offsetX,e.offsetY),e.preventDefault()},e.oncontextmenu=function(e){at(e.button,e.offsetX,e.offsetY),e.preventDefault()},"onmousewheel"in e?e.onmousewheel=function(e){ot(e.wheelDelta,e.offsetX,e.offsetY),e.preventDefault()}:e.addEventListener("DOMMouseScroll",(function(e){ot(-120*e.detail,e.offsetX,e.offsetY),e.preventDefault()}),!1),e.pressMouseButtons=function(e){gt(e.buttons,e.offsetX,e.offsetY)},e.releaseMouseButtons=function(e){bt(e.buttons,e.offsetX,e.offsetY)}}(t);break;case Ee.LockedMouse:vt(t);break;default:console.log("ERROR: Unknown control scheme ".concat(Pe.controlScheme)),vt(t)}}(r):"playerCount"===r.type||("answer"===r.type?(n=r,$.receiveAnswer(n),$.onAggregatedStats=function(e){for(var t=new Intl.NumberFormat(window.navigator.language,{maximumFractionDigits:0}),n=new Intl.NumberFormat(window.navigator.language,{maximumFractionDigits:0,minimumIntegerDigits:2}),r=(e.timestamp-e.timestampStart)/1e3,i=[],a=[60,60],o=0;o<a.length;o++)i.push(r%a[o]),r/=a[o];i.push(r);for(var s=i[0],c=Math.floor(i[1]),d=Math.floor([i[2]]),l="B",u=e.hasOwnProperty("bytesReceived")?e.bytesReceived:0,p=["kB","MB","GB"],h=0;h<p.length&&!(u<1e5);h++)u/=1e3,l=p[h];"Duration: ".concat(n.format(d),":").concat(n.format(c),":").concat(n.format(s),"</br>"),"Video Resolution: ".concat(e.hasOwnProperty("frameWidth")&&e.frameWidth&&e.hasOwnProperty("frameHeight")&&e.frameHeight?e.frameWidth+"x"+e.frameHeight:"N/A","</br>"),"Received (".concat(l,"): ").concat(t.format(u),"</br>"),"Frames Decoded: ".concat(e.hasOwnProperty("framesDecoded")?t.format(e.framesDecoded):"N/A","</br>"),"Packets Lost: ".concat(e.hasOwnProperty("packetsLost")?t.format(e.packetsLost):"N/A","</br>"),"Bitrate (kbps): ".concat(e.hasOwnProperty("bitrate")?t.format(e.bitrate):"N/A","</br>"),"Framerate: ".concat(e.hasOwnProperty("framerate")?t.format(e.framerate):"N/A","</br>"),"Frames dropped: ".concat(e.hasOwnProperty("framesDropped")?t.format(e.framesDropped):"N/A","</br>"),"Latency (ms): ".concat(e.hasOwnProperty("currentRoundTripTime")?t.format(1e3*e.currentRoundTripTime):"N/A","</br>")},$.aggregateStats(1e3)):"iceCandidate"===r.type?(t=r.candidate,$&&$.handleCandidateFromServer(t)):console.log("invalid SS message type: ".concat(r.type)))},Q.onerror=function(e){console.log("WS error: ".concat(JSON.stringify(e)))},Q.onclose=function(e){console.log("WS closed: ".concat(JSON.stringify(e.code)," - ").concat(e.reason)),Q=void 0,!0;var t=document.getElementById("player");$&&(t.removeChild($.video),$.close(),$=void 0),Et()}):alert("Your browser doesn't support WebSocket")}var Ft={load:function(e){H=e,function(){window.addEventListener("resize",De,!0),window.addEventListener("orientationchange",_e);var e=document.getElementById("enlarge-display-to-fill-window-tgl");null!==e&&(e.onchange=function(e){De()}),null!==(Y=document.getElementById("quality-control-ownership-tgl"))&&(Y.onchange=function(e){$e()});var t=document.getElementById("prioritise-quality-tgl"),n=document.getElementById("quality-params-submit");null!==t&&(t.onchange=function(e){if(t.checked){var r={PrioritiseQuality:1,LowBitrate:document.getElementById("low-bitrate-text").value,HighBitrate:document.getElementById("high-bitrate-text").value,MinFPS:document.getElementById("min-fps-text").value};se(r),console.log(r),n.onclick=function(e){var t={PrioritiseQuality:1,LowBitrate:document.getElementById("low-bitrate-text").value,HighBitrate:document.getElementById("high-bitrate-text").value,MinFPS:document.getElementById("min-fps-text").value};se(t),console.log(t)}}else{var i={PrioritiseQuality:0};se(i),console.log(i),n.onclick=null}})}(),(te=document.createElement("img")).id="freezeFrameOverlay",te.style.display="none",te.style.pointerEvents="none",te.style.position="absolute",te.style.zIndex="30",document.onkeydown=function(e){console.log("key down ".concat(e.keyCode,", repeat = ").concat(e.repeat)),me(new Uint8Array([Be,Rt(e),e.repeat]).buffer),e.keyCode===yt&&document.onkeypress({charCode:yt}),Pe.suppressBrowserKeys&&xt(e.keyCode)&&e.preventDefault()},document.onkeyup=function(e){console.log("key up ".concat(e.keyCode)),me(new Uint8Array([ze,Rt(e)]).buffer),Pe.suppressBrowserKeys&&xt(e.keyCode)&&e.preventDefault()},document.onkeypress=function(e){console.log("key press ".concat(e.charCode));var t=new DataView(new ArrayBuffer(3));t.setUint8(0,Ue),t.setUint16(1,e.charCode,!0),me(t.buffer)},Et()},handleHomepageClick:function(){$&&$.video.play(),$e(),Fe(),ue(),ne=!1},isLoaded:!1,emitUIInteraction:Ze,addResponseEventListener:function(e,t){ee.set(e,t)}},It=function(){var e,t=function(){return{getUe4app:function(){return Ft},emitUICommand:function(e){return Ft.emitUIInteraction(e)},addUIHandler:function(e,t){return console.debug(e),console.debug(t),Ft.addResponseEventListener(e,t)},initUE4Callback:function(){},dataChannelInitedUE4Callback:function(){}}};return{getInstance:function(){return e||(e=t())},reCreateInstance:function(){return e=t()}}}(),At={initializeCustomization:"init_customization",setAddon:"set_addon",setColor:"set_color",setName:"set_name",setCompanionName:"set_companion_name",connect:"connect_to_game_server",teleport:"teleport_to_user",inputMode:"set_input_mode"};var Dt={commands:At,addonsSockets:{head:0,back:1,leftHand:2,rightHand:3,companion:4},addonsColors:{ring:0,primary:1,secondary:2},inputModes:{simple:0,simpleTouch:1,pro:2,proTouch:3},createInitCustomizationCommand:function(e,t,n,r,i){return{command:At.initializeCustomization,user_id:e,agora_user_id:t,is_super_user:n,agora_app_id:r,avatar_data:i}},createSetAddonCommand:function(e,t){return{command:At.setAddon,socket:e,addon:t}},createSetColorCommand:function(e,t){return{command:At.setColor,socket:e,color:t}},createSetCompanionNameCommand:function(e){return{command:At.setCompanionName,name:e}},createSetNameCommand:function(e){return{command:At.setName,name:e}},createConnectToGameServerCommand:function(e){return{command:At.connect}},createTeleportCommand:function(e){return{command:At.teleport,user_id:e}},createInputModeCommand:function(e){return{command:At.inputMode,mode:e}}},Mt=n(50),_t=n.n(Mt),Nt=n(85),Lt=n(146),Bt=n.n(Lt);var zt,Ut={audio:!1,video:!1},Gt={audio:!1,video:!1},Vt={videoTrack:null,audioTrack:null};function Wt(e){Gt.audio=e,console.debug("isMute: ",e),console.debug("localTracks.audioTrack: ",Vt.audioTrack),Ut.audio||Gt.audio?zt.unpublish(Vt.audioTrack):zt.publish(Vt.audioTrack)}function Ht(e){Gt.video=e,Ut.video||Gt.video?zt.unpublish(Vt.videoTrack):zt.publish(Vt.videoTrack)}function Qt(){return(Qt=Object(Nt.a)(_t.a.mark((function e(t,n,r,i,a){var o;return _t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zt=Bt.a.createClient({mode:"rtc",codec:"vp8"}),Vt.audioTrack=null,Vt.videoTrack=null,console.log("AgoraRTC client initialized"),zt.on("connection-state-change",(function(e){console.debug(e)})),zt.on("error",(function(e){console.debug(e)})),zt.on("exception",(function(e){console.debug(e)})),o={uid:null},Ut.audio="true"!==r,Ut.video="true"!==i,"true"!==r){e.next=14;break}return e.next=13,Bt.a.createMicrophoneAudioTrack();case 13:Vt.audioTrack=e.sent;case 14:if("true"!==i){e.next=18;break}return e.next=17,Bt.a.createCameraVideoTrack();case 17:Vt.videoTrack=e.sent;case 18:return e.next=20,zt.join(K,t,null,parseInt(n));case 20:o.uid=e.sent,Wt(Gt.audio),Ht(Gt.video),zt.on("user-published",Jt),zt.on("user-unpublished",qt),console.debug(zt.remoteUsers),zt.remoteUsers.forEach(function(){var e=Object(Nt.a)(_t.a.mark((function e(t){return _t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.debug(o.uid),t.uid!==o.uid){e.next=3;break}return e.abrupt("return");case 3:return console.debug("subscribe ".concat(t.uid," audio")),e.next=6,zt.subscribe(t,"audio");case 6:e.sent.play();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.debug("User "+o.uid+" join channel successfully"),a();case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yt(){return(Yt=Object(Nt.a)(_t.a.mark((function e(t){return _t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zt){e.next=2;break}return e.abrupt("return");case 2:zt.remoteUsers.forEach((function(e){e.audioTrack?e.audioTrack.setVolume(0):console.debug("User ".concat(e.uid," hasnt audio"))})),t.distances.forEach((function(e){var t=zt.remoteUsers.find((function(t){return t.uid===parseInt(e.uid)}));if(t){var n=(2e3-Math.floor(e.distance))/20;t.audioTrack?t.audioTrack.setVolume(n<0?0:n):console.debug("User ".concat(t.uid," hasnt audio"))}}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jt(e,t){return Kt.apply(this,arguments)}function Kt(){return(Kt=Object(Nt.a)(_t.a.mark((function e(t,n){return _t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.debug("subscribe ".concat(t.uid," audio")),e.next=3,zt.subscribe(t,"audio");case 3:e.sent.play();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qt(e){return Xt.apply(this,arguments)}function Xt(){return(Xt=Object(Nt.a)(_t.a.mark((function e(t){return _t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.debug("unsubscribe ".concat(t.uid," audio")),e.next=3,zt.unsubscribe(t,"audio");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zt(){return(Zt=Object(Nt.a)(_t.a.mark((function e(){return _t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zt){e.next=2;break}return e.abrupt("return");case 2:return zt.localTracks.forEach((function(e){e.close()})),e.next=5,zt.leave();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $t={createClient:function(e,t,n,r,i){return Qt.apply(this,arguments)},deleteClient:function(){return Zt.apply(this,arguments)},attenuateAudio:function(e){return Yt.apply(this,arguments)},localTracks:Vt,updateStateAudioTrack:Wt,updateStateVideoTrack:Ht},en=n(172),tn=(n(188),Object(k.b)({name:"app",initialState:{instanceUrl:null,videoDevices:[],audioDevices:[],selectedVideoDevice:null,selectedAudioDevice:null,isMicMuted:!1,isAudioDisabled:!1,isVideoDisabled:!1,audioVolume:50,isSplashed:!1,videoStream:null},reducers:{setInstanceUrl:function(e,t){e.instanceUrl=t.payload},setVideoDevices:function(e,t){e.videoDevices=Object(en.a)(t.payload)},setAudioDevices:function(e,t){e.audioDevices=Object(en.a)(t.payload)},setSelectedVideoDevice:function(e,t){e.selectedVideoDevice=t.payload},setSelectedAudioDevice:function(e,t){e.selectedAudioDevice=t.payload},setIsMicMuted:function(e,t){e.isMicMuted=t.payload},setIsAudioDisabled:function(e,t){e.isAudioDisabled=t.payload},setIsVideoDisabled:function(e,t){e.isVideoDisabled=t.payload},setAudioVolume:function(e,t){e.audioVolume=t.payload},setVideoStream:function(e,t){e.videoStream=t.payload},setIsSplashed:function(e,t){e.isSplashed=t.payload}}})),nn=tn.actions,rn=(nn.setInstanceUrl,nn.setVideoDevices),an=nn.setAudioDevices,on=nn.setSelectedVideoDevice,sn=nn.setSelectedAudioDevice,cn=nn.setIsMicMuted,dn=nn.setIsAudioDisabled,ln=nn.setIsVideoDisabled,un=nn.setAudioVolume,pn=(nn.setVideoStream,nn.setIsSplashed),hn=tn.reducer,fn=n(138);function mn(e){var t,n=e.init,r=e.onInited,a=Object(U.c)((function(e){return e.account})),o=Object(U.b)(),s=Object(f.g)();return Object(i.useEffect)((function(){"/app/splash"===s.location.pathname?o(pn(!0)):s.push("/app/splash")}),[s]),Object(i.useEffect)((function(){It.getInstance().addUIHandler("handler",(function(e){return function(e){console.debug(e);var n=JSON.parse(e);switch(n.command){case"init_customization":o(B(n.agora_user_id)),t=n.agora_user_id;break;case"attenuate_audio":$t.attenuateAudio(n);break;case"connect_to_channel":$t.deleteClient(),$t.createClient(n.channel_id,t,n.audio_enabled,n.video_enabled,(function(){console.debug("Connected to ".concat(n.channel_id))}))}}(e)}));var e=It.getInstance().getUe4app();e.isLoaded||(n(),e.isLoaded=!0)}),[]),Object(i.useEffect)((function(){It.getInstance().dataChannelInitedUE4Callback=function(){console.debug("dataChannelInitedUE4Callback"),r()}}),[]),Object(i.useEffect)((function(){if(a.id){var e=Dt.createInitCustomizationCommand(a.id,a.agoraUid,a.isSuperUser,K,""),t=Dt.createSetNameCommand(a.neonName),n=Dt.createInputModeCommand(fn.isMobile?Dt.inputModes.simpleTouch:Dt.inputModes.simple);It.getInstance().initUE4Callback=function(){It.getInstance().emitUICommand(e),It.getInstance().emitUICommand(t),It.getInstance().emitUICommand(n)}}}),[a.isSuperUser,a.agoraChannelId,a.agoraUid]),Object(G.jsxs)("div",{id:"playerUI",children:[Object(G.jsx)("div",{id:"player"}),Object(G.jsx)("div",{id:"overlay",className:"overlay"})]})}var jn=n.p+"static/media/playButton.829aa06e.png",bn=n.p+"static/media/initLoader.94ccc094.svg";var gn=function(e){var t=e.startVideoStreaming,n=e.loading,r=Object(f.g)();return n?Object(G.jsx)("div",{style:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center"},children:Object(G.jsx)(b.a,{src:bn})}):Object(G.jsx)("div",{className:"center",style:{zIndex:999999,pointerEvents:"auto",display:"flex",alignItems:"center",paddingRight:"90px"},id:"mobile-fix",children:Object(G.jsxs)("div",{className:"mainText",onClick:function(){return t(),void r.push("/app/customization")},style:{margin:"0 auto",marginTop:"20%",width:"50%",fontFamily:"Montserrat",fontSize:"16px",zIndex:"10000000000"},children:[Object(G.jsx)("p",{style:{paddingLeft:"25px"},children:Object(G.jsx)("img",{src:jn,alt:"no image found",style:{width:200,display:"block",margin:"0 auto"}})}),Object(G.jsx)("div",{className:"welcome",style:{color:"#FFFFFF",margin:"0 auto",textAlign:"center",marginLeft:"-40px",opacity:"0.8"},children:"Welcome to"}),Object(G.jsx)("p",{children:Object(G.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQEAAAAtCAYAAACu9d4EAAAABHNCSVQICAgIfAhkiAAADRVJREFUeF7tXY2VEzcQvqsgoYL4KghUEFNBoIIcFQQqiKkgpIL4KghUEFNBQgUxFQQquMznzN7TjUfSzEha7xn03r4Fr1Yazc83P6vdu7y9vd1eXFz8SMery8tL/HuWRvP+RBOt6PhExzuae2+dmO7FfaD5W+s9jn6gA/SAru6NaP+BBl3T8Zjpn87TXH8zT3DG8d7DGw/BRMtfTMNzmgNzDW80J2QG2UGGbl7T/eAX7ve0m1YeJvpqnRdy28nONA5kDx3o0abxP7fI75KIumVqoPRPWwazrooZ8WfS/zea96Xjfiy+FyO1aV8TPRsrPbV+vF6A3jM6IsAFA93SAWXuAk5sTAABtD0dT3qNXeIHzQu+/pL0gfN5U+PhdJ3uj8oeuj0ZjXW6Qz+aE7q6dt10cfGB5gNg3TV2Xv84x/F0nxwH1ml2ZCkIzKYMCggANc1MblAEK0O7gACvEwpvXluFQAAADAag2QQGigx2NOZTK4Oi/RQQcPGa7geQ/hGYH/y68vKN5oNz+jUwH6KrtwIEoAep8wsM67plS73hOAAK2SZBAB2HK8O5gwCHvL8TL6GwI9qeBn1RE25pYkUG6O6KyCILawUBzEljwLi8KYF7fey5p5TJs1x44SPZZ3juGTfaF/yCvqiOQwMBN7O8lA0AgXdEQ8+cdksMg6G5G68NnioX9n+gaxDKIXST8zCAIIxc0wFF+r5AxBu6/5WbyP8NCeNrXgnKso2MabmnEwiAt5DPN5Y5RR+kPSZdCaYBn2m+lWZwJwQBsAAAoNb9ciCAm47CmQDD1VsGgEA43+u1JoxD67qmEyIArd3QjxsvuLA3QkiKsTWlh8FCuK70oKCQQ2tDPUCAeR1NCwC8T2pyb0g7snZzYhCYlnwE8iUQGKYM5wgCBQB4DwP2Gr9UUo4QYPBaGGxS7HTMikLCUwJYXcBSMyw23g2d08KgqyYg1hBNC4rFSOY1Cni5aC63VDUNmDovBARAzr1oqAQC6DxEGc4NBAoA4Kp8G40IHhBgIKMCpDAvLGOwMa7pXCpSvaXxnlvHs/brFQnwGqJpQbFISDSCv3ia42nZNGCBILAn2V5NdNVAAP26K8M5gQCtBfk7jCn1GlCItTX39GgaKz/m3ClAYPaqRq80AsQ2RHeXSIB5EU0LVL028kUTWTV9bhjbqyKW/ndpgQYCv9EIP4tRuirDmYEAqscwyqkNBYDEq+SAwFT40mRAY8NDynSja72lZySQ8CKaFtxbG6cBkOfKYkVJn2IakNC5ZofhHH5I90/kpB5h5CMQoAv4DV5GbsbppgznAgKKQoOnQ6vrqTpwFDJt+JkumeoDGRCAV0UK+F0yD4ABwLLvoYqDQCCaFtwLizPyrC27mgYsFARA1sFh5EAATB2mDOcAApni0Q0x9bqmNT2vR4EoJwMGFjiBtOZgAhbLukaAAOalcaNpwSGFygCqZUnVNGDBIHBYuwoCzFSEmyEvU+PcmYDAhtaZ5rZmj1Djj/c68RNeOvXe9zycNl5JBplCp6vwmFvDKBBgnY2mBSiSYW9HmtZZxGBKAxYMAu8JBNZZEGCmwqvJ597NyvDQQSATBZiLchbt8vTJGG0xfavJgK6/IRpkbag51RkMAtG0ACmP93GgG/QXVhiEih2cRREEGAi2dJaPS5qUoaaANQNQahbd6hW1uTPg6FYIyzyePko0UExNLDKgPkgJ5Y5FU+HxFJEAyyaaFnjYjb7mNGDBkcAFaoBVEGDGdlUGiwKWJLIAEJBh5/A99zUNJZ68pD7piy531V/tXosMOOLZ0/1pfQD/D79xODISSIwtmhbU2Dxdd6UB5wICK1oIgKCLMlgUcOEgML1+PZHp9gpWbbP2I55CRvI11WyEZJVBpmAWfslsJhCIpgUWdoejvgWmA/ZIgKOBNZ3lDrOQMlgVsBBS7uha+ghztnRAMwpEVBbtGd1HSQmyaZtHBkqUgaWEop85QID1dVRaENa1Bw8CzFgZcoaUwaOAmVD2lCBwTTSlxdJDhXW0gVvGJ76a0xSvDKj/lmiQtSF3BDQXCLC+9k4LQsA3ye4sQKDAWJcyeBVQGoBSE3DNbzGoQhSyoWvpo8HZ9wY4aMsClFcGXB8A+KaFQlTV4RmRKprazCDQMy34SAt8TGvFmkNtgSBQf0SY8cJgbJMyeBXQAAIhoSg3VcFkTiX2LkqhrRsIsANY0VnWhvB/AIHJOObmH83XKy0IpwELjgQODsz0dEAxQmyqABDc21VmVYYFg0D1Wb8Sclfv8RpztD/Rdk33mlKVqAwyRmV+yWxuEGDwak0LmtKABYPAoWYUAgFmrIawpo1EUQVMmAkAGvGh0apBK6lI9Z6oUXvvmwMEWPYbOqcpEX42vWR2IhDQalke9p4rCDxCBBcGAVYGbVdZVRkGgAAe25jz0oL08eUfAEy2Ee1yzUsCAWmcXdOBlClKRITL1ZB5bhCg+VZEV+Q7gVIHqmurocrCagJ3utEEAgwEmlcuMmwACDQLqCbAJAqRhtbFS1jnrwDUnCCA2hCA1/XG4QlAIPK5cI3Ne/oxvEmKbWVN5zm/NlxSlytyeFiT/iqxRyG5aqwpAyZRi0VnBgJZb+vhY4++infOAlSrDFip1doQyT37Db85QYDmak0DpFiaAH9BkcC9dTRHAokymN84bFVAJS+fMxI4QnNS+qVsFsKOQYS/UzsUfjSAaZVBEhld07/NL5nNBQId0wDJvrCuLQQE8LVrfPXqzkF3AQEGArMytCrgiUEAYfC/QjOaXqrpFAXA+OW24SxdrTJIaVbqJLisAtCMINArDZDi2dMPobRgASBwBABYXDcQYCCA16m+cdiqgKcEAV4nFCHNhZvCxE4gIEPfj4T2AAa1tcpADkrjISWsvnE4BwgMSAPkckPyPjEI4G9z4KvXRyl6VxBgA5HKcLSrrFUBFwAC8glB9SMePQy9NAbxRKYCRUVtlYECAtruvCOvORoEBqYBcsnutOBEIICdji/J+LFXQm0jQADeR+4qu6cMrQq4ABBAQUzWQLL59wwAcE1zyLx86BMabU0kF40v914ymwEEImkAHjF7/5rREcDV5DwzCCD0h7PCRq7ibs7uIMDRwJrO2TcOHzoI8Bp3dE43LJ0kGiBewgPLL+RWn1i0yiCn8JlQ/C4qGQkCytg1u8T1g6ekI/JHTl1pwWAQwDrgfHG4/ozeEBBgI9Eezxw21rQq4KkjgQLQzb5xyFOUSy2iVQYl66Kxt3RdfeNwFAhkohALCBwipgwfzfdbOgZAAIYNXsq2px9wTA0fgi16+xJ9w0CADQV5iPyOPf6qDQhOI4Wq5xIKvKP/n+R7AhU6cHm2JwWkVM9oPunBTLwcDAKITiCjozcO6TfQnG457gKctB759x8sdnn3hSCOqOR+F8sYMEbT04IACHThTW0Ro0EgpwyvibD0U1gmxZ0Ws4RIgEFuRWf5WA4AB6WAcgxr7PkApOBx2q4sc48EAeaNupGIruFvM6YfMG1W9GAacPSFoAyoWmRoSgu+SBAoKAMMJVXeBwkCvL6N8Gz4GR4FhUKcu7cCAJgNajQIMG+0SEXyw0yzxsiGNCC3j0GLXi0yrD4t+GJBwKgMDxYEeH1bOsscGECH7xPsLBpk7cPeCk8CZARwQ3NdO8ZZU99wSuaYRwPJ9PZWEIikAVl9I/6uGMS7Py34okGADUU+W08V4UGDAK8PXl9ulsElrBuKHi7c8Pgwehg/vKtsLv7xeLOAAM8FIMy9+h0GgWAaAJKKKVPmCYcF97x7M2pjhnlTGzi9PrQmIAlRcvmpi0uJl1ITSNfHhSWEkpqyAwAABlASFxjwuMih8bRFen+QcINrgXHnBAHQnSu6hRS9IQ0wzVfQ1Zp9Zb9O9cVHAok329O/ZajVCgJbGhPj9mgwUoTWLmOdJs48HkvpAlDg+JCrGbCCI6qA19c8/zSeqSClMWWOmoAASa1QiC4mo5RrCD4NAM9BR7U1gAz0BpHGkf58BQFme4a5rSBQFaqzQ0gxEyCA4QKYLHkllGUqIK6NdOL5MfaB74z9j7rNDQIggOa8ppPc2ejmNY1TSi1LLHnq4VlDuqF+bu0rCCSiUZThrECAFR4hMEJ4HBYwsNgzHmvBAN5EI5UEqAA4wwuDclFKpOQCgYAhTSS4oyZOxXJpTE1eR2lBgHYXb2oE5a7PWhNIiRDKgPAbXsLUGvI10/jUqRvzWZEABFhf+uahlRb0wz7wLY5W409AAGFx+v6DC4g9xCtAAMOaiqguXhM/5YtSFlLCnwsPGO5Ez9E28sBYLt5YGKH1AQggdJ3yJGw/RL46S0uAIFtM0QhhZq4HEunae22lg1Ohid/geQ4UYPQwFBwILffWOTz9iB6AEyIWNMwzpSWeYdx9GRh3DATeEB288IApeInUKbw2jlw3znk/0pwryRyHA0PUh49/hOm2CmYRX8SxEnuu/WAUvTz8ufLo67rGceA//2FGtU7Snr8AAAAASUVORK5CYII=",alt:"no image found",style:{display:"block",margin:"0 auto"}})})]})})},vn=n(28),xn=n.n(vn),yn=n(427);n(77);var On=function(e){var t=(0,u.a.useBreakpoint)(),n=Object(i.useState)(!1),r=Object(c.a)(n,2),a=(r[0],r[1]);Object(i.useEffect)((function(){t.xl?a(!0):a(!1)}),[t]);var o=e.img,s=e.imgDisabled,d=Object(i.useState)(!1),l=Object(c.a)(d,2),p=l[0],h=l[1];return Object(G.jsx)("div",{className:"circle",style:{height:"44px",width:"42px"},onClick:function(){h(!0!==p)},children:Object(G.jsx)(b.a,{id:"bigSvg",src:p?s:o})})},Cn=n.p+"static/media/less.113d2400.svg",Sn=n.p+"static/media/audio.67d2f08a.svg",kn=n.p+"static/media/mic_btn.613d5013.svg";n.p,n.p;var Tn=function(e){return Object(G.jsx)("div",{className:"button",style:{height:"44px",width:"42px"},children:Object(G.jsx)(b.a,{src:e.img})})},wn=n.p+"static/media/menu.516ce09b.svg",Rn=(n.p,n.p+"static/media/settings_btn.e465db77.svg"),En=n.p+"static/media/friends_btn.9c56b08f.svg";var Pn=function(){var e=Object(f.g)(),t={float:"left",marginLeft:"5px",display:"inline-block"};return Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{className:"buttonNav",style:t,onClick:function(){e.push("/app/index/friends")},children:Object(G.jsx)(Tn,{img:En})}),Object(G.jsx)("div",{className:"buttonNav",onClick:function(){e.push("/app/index/settings")},style:t,children:Object(G.jsx)(Tn,{img:Rn})})]})},Fn=n.p+"static/media/message.bc303132.svg";var In=function(e){Object(U.b)();var t=Object(U.c)((function(e){return e.app})),n=Object(i.useRef)(null),r=Object(i.useState)(e.state),a=Object(c.a)(r,2);a[0],a[1],Object(i.useEffect)((function(){t.isVideoDisabled?function(){var e=n.current;e.srcObject&&e.srcObject.getTracks()[0].stop()}():s()}));var o,s=function(){navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){var t=n.current;t&&(t.srcObject=e,t.onloadedmetadata=function(e){t.play()})})).catch((function(e){console.error("error:",e)}))},d=130,l=130;o=e.isDesktop?192/130:1,e.isDesktop&&(d=200,l=200);var u={background:"#232323",borderRadius:"60%",display:"inline-block",width:d+"px",height:l+"px"},p={display:"inline-block",width:e.isDesktop?"192px":d-8*o+"px",height:e.isDesktop?"192px":l-8*o+"px",borderRadius:"60%",background:"linear-gradient(to top, #451CFF, #B261FA)",margin:"0 auto",marginTop:e.isDesktop?"4px":"3%",marginLeft:e.isDesktop?"4px":"3%",zIndex:"100"},h={width:e.isDesktop?"182px":d-20*o+"px",height:e.isDesktop?"182px":l-20*o+"px",background:"#232323",borderRadius:"60%",display:"inline-block",marginTop:e.isDesktop?"5px":"5%",marginLeft:e.isDesktop?"5px":"5%"},f={width:e.isDesktop?"172px":d-30*o+"px",height:e.isDesktop?"172px":l-30*o+"px",background:"#000000",borderRadius:"60%",marginTop:e.isDesktop?"5px":"5%",marginLeft:e.isDesktop?"5px":"5%"};return Object(G.jsx)("div",{className:"upper",style:u,children:Object(G.jsx)("div",{className:"mid",style:p,children:Object(G.jsx)("div",{className:"inside",style:h,children:Object(G.jsx)("div",{className:"video",style:f,children:Object(G.jsx)("video",{id:"webcam-video",style:{width:e.isDesktop?"172px":d-30*o+"px",height:e.isDesktop?"172px":l-30*o+"px",marginLeft:"0",borderRadius:"60%"},ref:n})})})})})},An=n.p+"static/media/cam_btn.765afc3e.svg",Dn=n.p+"static/media/cam-disabled (Toggle State).569b78f2.svg",Mn=n.p+"static/media/audio-disabled.1ccf3e1a.svg",_n=n.p+"static/media/mic_btn (Toggle State).40181343.svg",Nn=yn.a.Header,Ln=yn.a.Footer,Bn=(yn.a.Sider,yn.a.Content);var zn=function(){var e=Object(f.g)(),t=kn,n=An,r=Dn,a=Sn,o=_n,s=Mn,u=Object(i.useState)(!1),p=Object(c.a)(u,2),h=p[0],m=p[1],j=Object(i.useState)(!0),b=Object(c.a)(j,2),g=b[0],v=b[1],x=Object(i.useState)(!0),y=Object(c.a)(x,2),O=y[0],C=y[1],S=Object(i.useState)(null),k=Object(c.a)(S,2),T=(k[0],k[1],Object(i.useState)(!0)),w=Object(c.a)(T,2),R=w[0],E=(w[1],Object(i.useState)(!1)),P=Object(c.a)(E,2),F=(P[0],P[1],Object(U.c)((function(e){return e.app}))),I=Object(U.b)();return Object(G.jsxs)(yn.a,{style:{padding:0,backgroundColor:"rgba(0,0,0,0)"},id:"mobile-fix",children:[Object(G.jsx)(Nn,{style:{padding:0,backgroundColor:"rgba(0,0,0,0)"},children:Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{xs:7,sm:5,md:4,lg:4,style:{marginLeft:10,marginTop:10},children:Object(G.jsx)(In,{state:R})}),Object(G.jsx)(l.a,{xs:14,sm:16,md:18,lg:18,style:{marginTop:10},children:Object(G.jsxs)("div",{className:"clickMenu",style:{float:"left",display:"flex"},children:[Object(G.jsx)("div",{onClick:function(){m(!h)},children:Object(G.jsx)(Tn,{img:h?Cn:wn})}),h?Object(G.jsx)(Pn,{}):null]})}),Object(G.jsx)(l.a,{style:{marginTop:10},onClick:function(){e.push("/app/index/messages")},children:Object(G.jsx)(Tn,{img:Fn})})]})}),Object(G.jsx)(Bn,{children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24})})}),Object(G.jsx)(Ln,{style:{padding:0,backgroundColor:"rgba(0,0,0,0)"},children:Object(G.jsxs)(d.a,{justify:"center",style:{marginBottom:10,marginLeft:10},children:[Object(G.jsx)(l.a,{xs:4,sm:3,md:2,lg:3,children:Object(G.jsx)("div",{onClick:function(){g?(v(!1),$t.updateStateAudioTrack(!0)):(v(!0),$t.updateStateAudioTrack(!1))},children:Object(G.jsx)(On,{img:t,imgDisabled:o})})}),Object(G.jsx)(l.a,{xs:4,sm:3,md:2,lg:3,children:Object(G.jsx)("div",{onClick:function(){var e=document.getElementById("streamingVideo");O?(C(!1),e&&(e.muted=!0)):(C(!0),e&&(e.muted=!1))},children:Object(G.jsx)(On,{img:a,imgDisabled:s})})}),Object(G.jsx)(l.a,{xs:4,sm:3,md:2,lg:3,children:Object(G.jsx)("div",{onClick:function(){F.isVideoDisabled?(I(ln(!1)),$t.updateStateVideoTrack(!1)):(I(ln(!0)),$t.updateStateVideoTrack(!0))},children:Object(G.jsx)(On,{img:n,imgDisabled:r})})})]})})]})};var Un=function(e){var t=e.img,n=e.imgDisabled;return Object(G.jsx)("div",{className:"circle",style:{height:"62px",width:"62px"},children:Object(G.jsx)(b.a,{id:"bigSvg",src:e.isToogled?n:t})})},Gn=n.p+"static/media/audio_big.e417307c.svg",Vn=n.p+"static/media/mic_big.d164d531.svg",Wn=n.p+"static/media/camera_big.837e9e43.svg",Hn=n.p+"static/media/camera_big (Toggle State).29314883.svg",Qn=n.p+"static/media/audio_big (Toggle State).667d9a95.svg",Yn=n.p+"static/media/mic_big (Toggle State).d475b771.svg",Jn=n.p+"static/media/settings_btn_big.546d9b13.svg",Kn=n.p+"static/media/friends_btn (1)_big.56a78847.svg",qn=n.p+"static/media/messages_btn_big.2d54bf67.svg",Xn=yn.a.Header,Zn=yn.a.Footer,$n=(yn.a.Sider,yn.a.Content);var er=function(){var e=xn()();console.log(e);var t=Vn,n=Wn,r=Hn,i=Gn,a=Yn,o=Qn,s=Object(f.g)(),c=Object(U.b)(),u=Object(U.c)((function(e){return e.app})),p={float:"left",marginLeft:"40px",display:"inline-block"};return Object(G.jsxs)(yn.a,{style:{height:"100vh",padding:0,backgroundColor:"rgba(0,0,0,0)"},children:[Object(G.jsx)(Xn,{style:{padding:0,backgroundColor:"rgba(0,0,0,0)"},children:Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{md:5,lg:4,xl:3,style:{marginLeft:10,marginTop:10},children:Object(G.jsx)(In,{isDesktop:!0,state:!u.isVideoDisabled})}),Object(G.jsx)(l.a,{md:16,lg:18,xl:19,style:e.xl?{marginTop:10,marginRight:35}:{marginTop:10},children:Object(G.jsx)("div",{className:"clickMenu",style:{float:"left",display:"flex"},children:Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{className:"buttonNav",style:p,onClick:function(){s.push("/app/index/friends")},children:Object(G.jsx)(Tn,{img:Kn})}),Object(G.jsx)("div",{className:"buttonNav",onClick:function(){s.push("/app/index/settings")},style:p,children:Object(G.jsx)(Tn,{img:Jn})})]})})}),Object(G.jsx)(l.a,{style:{marginTop:10},onClick:function(){s.push("/app/index/messages")},children:Object(G.jsx)(Tn,{img:qn})})]})}),Object(G.jsx)($n,{}),Object(G.jsx)(Zn,{style:{padding:0,backgroundColor:"rgba(0,0,0,0)"},children:Object(G.jsx)(d.a,{justify:"center",style:{marginBottom:30,marginLeft:10},children:Object(G.jsx)(l.a,{span:12,children:Object(G.jsx)(d.a,{justify:"center",children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsxs)(d.a,{justify:"center",children:[Object(G.jsx)(l.a,{md:3,xl:2,children:Object(G.jsx)("div",{onClick:function(){u.isMicMuted?(c(cn(!1)),$t.updateStateAudioTrack(!1)):(c(cn(!0)),$t.updateStateAudioTrack(!0))},children:Object(G.jsx)(Un,{isToogled:u.isMicMuted,img:t,imgDisabled:a})})}),Object(G.jsx)(l.a,{md:3,xl:2,style:{marginLeft:"25px"},children:Object(G.jsx)("div",{onClick:function(){var e=document.getElementById("streamingVideo");u.isAudioDisabled?(c(dn(!1)),e&&(e.muted=!1)):(c(dn(!0)),e&&(e.muted=!0))},children:Object(G.jsx)(Un,{isToogled:u.isAudioDisabled,img:i,imgDisabled:o})})}),Object(G.jsx)(l.a,{md:3,xl:1,style:{marginLeft:"25px"},children:Object(G.jsx)("div",{onClick:function(){u.isVideoDisabled?(c(ln(!1)),$t.updateStateVideoTrack(!1)):(c(ln(!0)),$t.updateStateVideoTrack(!0))},children:Object(G.jsx)(Un,{isToogled:u.isVideoDisabled,img:n,imgDisabled:r})})})]})})})})})})]})},tr=n(431),nr=n(428),rr=n.p+"static/media/ufo.262cd41d.svg",ir=n(430),ar=n.p+"static/media/close_btn (Hover State).d57a0a5d.svg",or=Object(k.b)({name:"report",initialState:{harassment:!1,suspicious:!1,abusive:!1,llegal:!1,solicting:!1,isReportOpen:!1,isReportSubmited:!1},reducers:{setIsHarassment:function(e,t){e.harassment=t.payload},setIsSuspicious:function(e,t){e.suspicious=t.payload},setIsAbusive:function(e,t){e.abusive=t.payload},setIsIllegal:function(e,t){e.illegal=t.payload},setIsSolicting:function(e,t){e.solicting=t.payload},setIsReportOpen:function(e,t){e.isReportOpen=t.payload},setIsReportSubmited:function(e,t){e.isReportSubmited=t.payload}}}),sr=or.actions,cr=sr.setIsHarassment,dr=sr.setIsSuspicious,lr=sr.setIsAbusive,ur=sr.setIsIllegal,pr=sr.setIsSolicting,hr=sr.setIsReportOpen,fr=sr.setIsReportSubmited,mr=or.reducer;function jr(e){var t=Object(U.c)((function(e){return e.report})),n=Object(U.b)(),r={color:"#FFFFFF",fontSize:"14px",fontFamily:"Montserrat"};function i(e,t){var r=e.target.checked;console.log(r),"harassment"===t&&n(cr(r)),"suspicious"===t&&n(dr(r)),"abusive"===t&&n(lr(r)),"illegal"===t&&n(ur(r)),"solicting"===t&&n(pr(r))}return Object(G.jsx)(d.a,{children:Object(G.jsxs)(l.a,{span:24,children:[Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{marginTop:20},children:Object(G.jsx)(h.a,{checked:t.harassment,onChange:function(e){return i(e,"harassment")},children:Object(G.jsx)("span",{style:r,children:"Harassment"})})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{marginTop:5},children:Object(G.jsx)(h.a,{checked:t.suspicious,onChange:function(e){return i(e,"suspicious")},children:Object(G.jsx)("span",{style:r,children:"Suspicious behavior or spam"})})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{marginTop:5},children:Object(G.jsx)(h.a,{checked:t.solicting,onChange:function(e){return i(e,"solicting")},children:Object(G.jsx)("span",{style:r,children:"Soliciting other users"})})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{marginTop:5},children:Object(G.jsx)(h.a,{checked:t.abusive,onChange:function(e){return i(e,"abusive")},children:Object(G.jsx)("span",{style:r,children:"Using abusive language"})})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{marginTop:5},children:Object(G.jsx)(h.a,{checked:t.illegal,onChange:function(e){return i(e,"illegal")},children:Object(G.jsx)("span",{style:r,children:"Illegal activity"})})})})]})})}function br(){return Object(G.jsx)("div",{children:Object(G.jsx)("div",{style:{fontFamily:"Niveau Grotesk Bold",fontSize:"19px",textAlign:"center",background:"#606060",borderRadius:"20px",width:"100%",height:"100%",color:"#ffff",padding:"7px",display:"inline-block"},children:"Submit"})})}function gr(e){var t={color:"#DEDEDE",fontSize:"12px",fontFamily:"Montserrat"},n=Object(U.b)();return Object(G.jsx)(d.a,{style:{background:"#523FF9",borderRadius:"10px"},children:Object(G.jsxs)(l.a,{span:24,style:{marginLeft:20},children:[Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{span:19,style:{marginTop:30},children:Object(G.jsx)("span",{style:{color:"#FFFFFF",fontFamily:"Niveau Grotesk Bold",fontSize:"19px"},children:"Report Submitted"})}),Object(G.jsx)(l.a,{span:1,style:{marginTop:10,marginLeft:10},onClick:e.onExitReport,children:Object(G.jsx)("div",{className:"backgroundForSVG",style:{boxShadow:"0 2px 0 0 #303030"},onClick:function(){n(hr(!1)),n(fr(!1))},children:Object(G.jsx)(b.a,{src:ar})})})]}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:20,style:{marginRight:20},children:Object(G.jsxs)("span",{style:t,children:["Your report on ",e.reportedUserName," has been successfully submitted. A member of our team will review your case and take appropriate action if determined to be a legitimate cause for termination. A case number will be sent to your account email address for your reference."]})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:20,style:{marginTop:15,marginBottom:20},children:Object(G.jsxs)("span",{style:t,children:["If you have any questions, don't hesitate to respond directly to the case number email. Otherwise, you can contact us at",Object(G.jsx)("a",{className:"mail",href:"mailto:info@passage.com",children:"info@passage.com"})]})})})]})})}function vr(e){var t=Object(i.useState)(""),n=Object(c.a)(t,2),r=n[0],a=n[1],o=ir.a.TextArea,s=Object(i.useState)(!1),u=Object(c.a)(s,2),p=u[0],h=u[1],f=Object(U.c)((function(e){return e.account})),m=Object(U.c)((function(e){return e.report})),j=Object(i.useState)(!1),g=Object(c.a)(j,2),v=g[0],x=g[1],y=Object(U.b)();function O(){y(cr(!1)),y(dr(!1)),y(ur(!1)),y(lr(!1)),y(pr(!1))}function C(e){!1===m.harassment&&!1===m.suspicious&&!1===m.abusive&&!1===m.illegal&&!1===m.solicting?(x(!0),console.log(v)):x(!1)}Object(i.useEffect)((function(){C()}),[m]),Object(i.useEffect)((function(){C()}));var k={color:"#909090",fontSize:"12px",fontFamily:"Montserrat"};return Object(G.jsx)("div",{children:p?Object(G.jsx)(gr,{onExitReport:e.onExitReport,reportedUserName:e.reportedUserName}):Object(G.jsx)(d.a,{style:{background:"#282828",borderRadius:"10px",border:"1px solid black"},children:Object(G.jsxs)(l.a,{span:24,style:{marginLeft:0},children:[Object(G.jsxs)(d.a,{style:{paddingLeft:"30px"},children:[Object(G.jsx)(l.a,{span:20,style:{marginTop:30},children:Object(G.jsxs)("span",{style:{color:"#FFFFFF",fontFamily:"Niveau Grotesk Bold",fontSize:"19px"},children:["Report ",e.reportedUserName]})}),Object(G.jsx)(l.a,{span:1,style:{marginTop:10},onClick:e.onExitReport,className:"opacity",children:Object(G.jsx)("div",{className:"backgroundForSVG",children:Object(G.jsx)(b.a,{src:ar,onClick:O})})})]}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:20,style:{padding:" 0 30px",marginTop:10},children:Object(G.jsx)("span",{style:k,children:"Select all the reasons why you are reporting this user."})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{padding:" 0 30px"},children:Object(G.jsx)(jr,{})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{padding:" 0 30px",marginTop:10},children:Object(G.jsx)("span",{style:{color:"#FFFFFF",fontSize:"19px",fontFamily:"Niveau Grotesk Bold"},children:"Additional info"})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:20,style:{paddingLeft:"30px",textAlign:"left"},children:Object(G.jsx)("span",{style:k,children:"Please fill out the form below if you would like to add any specifics to your report. The more info you provide, the better we can make determinations on this specific case."})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{padding:" 0 30px",marginTop:15,marginLeft:0},children:Object(G.jsx)(o,{value:r,style:{borderRadius:"20px",background:"#040206",color:"#FFFFFF",fontFamily:"Montserrat",border:"none",outline:"none",paddingTop:"10px",paddingLeft:"10px",paddingRight:"10px"},onChange:function(e){return function(e){a(e.target.value),C()}(e)},rows:"8",placeholder:"Type here..."})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{padding:" 0 30px",marginLeft:0,marginBottom:20,marginTop:10,cursor:v?"not-allowed":"pointer"},onClick:v?null:function(){h(!p);var t=function(){var e="";return m.harassment&&(e+="Harassment "),m.suspicious&&(e+="Suspicious_behavior_or_spam "),m.abusive&&(e+="Using_abusive_language "),m.illegal&&(e+="Illegal_activity "),m.solicting&&(e+="Soliciting_other_users "),O(),e}(),n=e.whoReported;S.addReport(f.token,n,t,r).then((function(e){var t=e;console.log(t)})).catch((function(e){return console.error(e)}))},children:Object(G.jsx)(br,{})})})]})})})}var xr=n.p+"static/media/removeFriend.4f01809f.svg",yr=n.p+"static/media/Group 316.3ce3588e.svg",Or=n.p+"static/media/FriendsWithoutBackround.e8e02dce.svg";function Cr(e){var t,n,r=Object(i.useState)(""),a=Object(c.a)(r,2),o=a[0],s=a[1],u=ir.a.TextArea,p=Object(i.useState)(!1),h=Object(c.a)(p,2),f=h[0],m=h[1],j=Object(i.useState)(!1),v=Object(c.a)(j,2),x=v[0],y=v[1],O=Object(U.c)((function(e){return e.account})),C=Object(U.c)((function(e){return e.report})),k=Object(U.b)();function T(e){!1===C.harassment&&!1===C.suspicious&&!1===C.abusive&&!1===C.illegal&&!1===C.solicting?y(!0):y(!1)}function w(){k(cr(!1)),k(dr(!1)),k(ur(!1)),k(lr(!1)),k(pr(!1))}Object(i.useEffect)((function(){T()}),[C]),Object(i.useEffect)((function(){T()}),[]);var R={color:"#909090",fontSize:"12px",fontFamily:"Montserrat"};return Object(G.jsx)("div",{children:f?Object(G.jsx)(d.a,{justify:"center",children:Object(G.jsx)(l.a,{xs:20,sm:15,children:Object(G.jsx)(gr,{onExitReport:e.onExitReport,reportedUserName:e.reportedUserName})})}):Object(G.jsx)(d.a,{align:"center",justify:"center",style:{height:"100%",backgroundColor:"gray",pointerEvents:"auto",overflowY:"scroll"},id:"mobile-fix-report",children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(d.a,{style:(t={border:"1px solid black",width:"98vw"},Object(g.a)(t,"border",0),Object(g.a)(t,"backgroundColor","#282828"),Object(g.a)(t,"borderRadius",10),t),children:Object(G.jsxs)(l.a,{span:24,style:{marginLeft:0},children:[Object(G.jsxs)(d.a,{style:{paddingLeft:"30px"},children:[Object(G.jsx)(l.a,{xs:21,sm:22,style:{marginTop:30},children:Object(G.jsxs)("span",{style:{color:"#FFFFFF",fontFamily:"Niveau Grotesk Bold",fontSize:"19px"},children:["Report ",e.reportedUserName]})}),Object(G.jsx)(l.a,(n={sm:1},Object(g.a)(n,"sm",1),Object(g.a)(n,"style",{marginTop:10}),Object(g.a)(n,"onClick",e.onExitReport),Object(g.a)(n,"className","opacity"),Object(g.a)(n,"children",Object(G.jsx)("div",{className:"backgroundForSVG",onClick:function(){k(hr(!1))},children:Object(G.jsx)(b.a,{src:ar,onClick:w})})),n))]}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:20,style:{padding:" 0 30px",marginTop:10},children:Object(G.jsx)("span",{style:R,children:"Select all the reasons why you are reporting this user."})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{padding:" 0 30px"},children:Object(G.jsx)(jr,{})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{padding:" 0 30px",marginTop:10},children:Object(G.jsx)("span",{style:{color:"#FFFFFF",fontSize:"19px",fontFamily:"Niveau Grotesk Bold"},children:"Additional info"})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:20,style:{paddingLeft:"30px",textAlign:"left"},children:Object(G.jsx)("span",{style:R,children:"Please fill out the form below if you would like to add any specifics to your report. The more info you provide, the better we can make determinations on this specific case."})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{padding:" 0 30px",marginTop:15,marginLeft:0},children:Object(G.jsx)(u,{style:{borderRadius:"20px",background:"#040206",color:"#FFFFFF",fontFamily:"Montserrat",border:"none",outline:"none",paddingTop:"10px",paddingLeft:"10px",paddingRight:"10px"},onChange:function(e){return function(e){s(e.target.value)}(e)},rows:"8",placeholder:"Type here..."})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{padding:" 0 30px",marginLeft:0,marginBottom:20,marginTop:10},onClick:x?null:function(){f?m(!1):(m(!0),k(fr(!0)));var t=function(){var e="";return C.harassment&&(e+="Harassment "),C.suspicious&&(e+="Suspicious_behavior_or_spam "),C.abusive&&(e+="Using_abusive_language "),C.illegal&&(e+="Illegal_activity "),C.solicting&&(e+="Soliciting_other_users "),w(),e}(),n=e.whoReported;S.addReport(O.token,n,t,o).then((function(e){var t=e;console.log(t)})).catch((function(e){return console.error(e)}))},children:Object(G.jsx)(br,{})})})]})})})})})}var Sr=n.p+"static/media/report.16539ac3.svg";function kr(e){var t=Object(i.useState)(!1),n=Object(c.a)(t,2),r=n[0],a=n[1],o=xn()();Object(i.useEffect)((function(){console.debug(o),o.md?a(!0):a(!1)}),[o]);var s={color:"#FFFFFF",fontFamily:"Niveau Grotesk Bold",fontSize:"19px",marginTop:"10px"},u=Object(U.c)((function(e){return e.search})),p=u.isSearch,h=Object(U.b)(),m=Object(i.useState)(u.searchItem),j=Object(c.a)(m,2),b=j[0],g=j[1],v=Object(i.useState)(!0),x=Object(c.a)(v,2),y=x[0],O=x[1];Object(i.useEffect)((function(){g(u.searchItem)}),[u.searchItem]),Object(i.useEffect)((function(){g(u.searchItem)}),[u.searchItem]);var C=Object(i.useState)([]),k=Object(c.a)(C,2),T=k[0],w=k[1],R=Object(U.c)((function(e){return e.account})),E=Object(U.c)((function(e){return e.report})),P=Object(f.g)(),F=Object(i.useState)(""),I=Object(c.a)(F,2),A=I[0],D=I[1],M=Object(i.useState)(""),_=Object(c.a)(M,2),N=_[0],L=_[1];function B(){S.getFriendsList(R.token).then((function(e){var t=e;console.log(t),w(t.data[0].friendsList),O(!0),setTimeout(z,300)})).catch((function(e){return console.error(e)}))}function z(){O(!1)}Object(i.useEffect)((function(){w([]),B(),h(hr(!1))}),[]);var V=[{title:"Username",dataIndex:"userId.email",width:"25%",key:"name",render:function(e,t,n){var r;return Object(G.jsx)(d.a,{style:{width:"100%"},children:Object(G.jsx)(l.a,{children:Object(G.jsx)(d.a,{children:Object(G.jsx)("span",{style:{fontFamily:"Niveau Grotesk Bold",fontSize:20},children:t.hasOwnProperty("userId")?t.userId.firstName?t.userId.firstName:null===t||void 0===t||null===(r=t.userId)||void 0===r?void 0:r.email:"fdsjkfsjh"})})})})}},{title:"Teleport to",dataIndex:"address",width:"4%",align:"center",key:"address",render:function(e,t,n){return Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{onClick:function(){return function(e){console.debug(e);var t=Dt.createTeleportCommand(e.userId._id);It.getInstance().emitUICommand(t)}(t)},children:Object(G.jsx)(Tn,{img:rr})})})}},{title:"Report",dataIndex:"address",width:"5%",align:"center",key:"address",render:function(e,t,n){return Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{children:Object(G.jsx)("div",{onClick:function(){return function(e){var t;D(e._id),L(e.userId.firstName?e.userId.firstName:null===e||void 0===e||null===(t=e.userId)||void 0===t?void 0:t.email),h(hr(!0))}(t)},children:Object(G.jsx)(Tn,{img:Sr})})})})}},{title:"Remove",dataIndex:"address",width:"4%",align:"center",key:"address",render:function(e,t,n){return Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{onClick:function(){return function(e){var t=e._id;S.deleteFriend(R.token,t).then((function(e){var t=e;console.log(t),B()})).catch((function(e){return console.error(e)})),P.push("/app/index/friends")}(t)},children:Object(G.jsx)(Tn,{img:xr})})})}}],W=[{title:"Username",dataIndex:"userId.email",width:"25%",key:"name",render:function(e,t,n){return Object(G.jsx)(d.a,{style:{width:"100%"},children:Object(G.jsx)(l.a,{children:Object(G.jsx)(d.a,{children:Object(G.jsx)("span",{style:{fontFamily:"Niveau Grotesk Bold",fontSize:20},children:t.firstName?t.firstName:t.email})})})})}},{title:"Add to Friends",dataIndex:"address",width:"15%",align:"center",key:"address",render:function(e,t,n){return Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:16,onClick:function(){return function(e){S.requestFriendship(R.token,e._id).then((function(e){var t=e;console.log(t),B()})).catch((function(e){return console.error(e)}))}(t)},children:Object(G.jsx)(Tn,{img:yr})})})}}];return Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{span:24,children:p?Object(G.jsx)(nr.a,{pagination:!1,className:"friendsTable",rowClassName:"",style:{width:"100%",height:fn.isMobile?"77vh":"600px"},dataSource:b,columns:W}):Object(G.jsx)(nr.a,{pagination:!1,className:"friendsTable",rowClassName:"",style:{width:"100%",height:r?"600px":"79vh"},dataSource:T,columns:V,loading:y,locale:{emptyText:Object(G.jsxs)(d.a,{justify:"center",children:[Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)("div",{children:Object(G.jsx)("img",{src:Or})})}),Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)("span",{style:s,children:"You don't have any friends yet"})}),Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)("span",{style:s,children:"Try to find and add a friend!"})})]})}})}),E.isReportOpen?Object(G.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%"},children:Object(G.jsx)("div",{className:"report",children:Object(G.jsx)(d.a,{justify:"center",children:r?Object(G.jsx)(l.a,{md:11,lg:9,xl:7,style:{alignContent:"center"},children:Object(G.jsx)(vr,{onExitReport:function(){P.push("/app/index/friends")},whoReported:A,reportedUserName:N})}):Object(G.jsx)(l.a,{children:Object(G.jsx)(Cr,{onExitReport:function(){P.push("/app/index/friends")},whoReported:A,reportedUserName:N})})})})}):null]})}n.p;var Tr=n.p+"static/media/Group -9.93151265.svg",wr=Object(k.b)({name:"search",initialState:{isSearch:!1,searchItem:[]},reducers:{setIsSearch:function(e,t){e.isSearch=t.payload},setSearchItem:function(e,t){e.searchItem=t.payload}}}),Rr=wr.actions,Er=Rr.setIsSearch,Pr=Rr.setSearchItem,Fr=wr.reducer;function Ir(e){var t=e.onExitFriendsClick,n=xn()(),r=Object(U.c)((function(e){return e.search})),a=Object(U.c)((function(e){return e.account})),o=r.isSearch,s=Object(U.b)(),u=Object(i.useState)(o),p=Object(c.a)(u,2),h=p[0],f=p[1],m=Object(i.useState)(""),j=Object(c.a)(m,2),g=j[0],v=j[1];function x(){!0===h?(f(!1),s(Er(!1))):(f(!0),s(Er(!0))),s(Pr([])),v("")}Object(i.useEffect)((function(){if(""!==g){var e=setTimeout((function(){!function(){var e=g,t=g;S.searchUser(a.token,e,t).then((function(e){var t=e;s(Pr(t.data)),console.log(t)})).catch((function(e){return console.error(e)}))}()}),500);return function(){return clearTimeout(e)}}}),[g]);return Object(G.jsx)("div",{children:h?Object(G.jsx)(d.a,{style:{paddingRight:10,paddingBottom:12,paddingTop:12,paddingLeft:12},children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{span:2,style:{marginTop:10},children:Object(G.jsx)("div",{children:Object(G.jsx)(b.a,{src:Or})})}),Object(G.jsx)(l.a,{span:n.xs?19:n.sm?20:19,style:{paddingBottom:5,marginLeft:10},children:Object(G.jsx)("input",{style:{borderRadius:"20px",background:"#040206",color:"#FFFFFF",fontSize:"16px",fontFamily:"Montserrat",paddingLeft:"10px",width:"95%",height:"85%",marginTop:8},value:g,onChange:function(e){return function(e){v(e.target.value)}(e)}})}),Object(G.jsx)(l.a,{span:1,onClick:x,style:{marginTop:5},children:Object(G.jsx)("div",{className:"backgroundForSVG",children:Object(G.jsx)(b.a,{src:ar})})})]})})})})}):Object(G.jsxs)(d.a,{style:{paddingRight:24,paddingBottom:12,paddingTop:12,paddingLeft:24},justify:"space-between",children:[Object(G.jsx)(l.a,{style:{display:"flex"},children:Object(G.jsxs)(d.a,{style:{alignContent:"center"},children:[Object(G.jsx)(l.a,{children:Object(G.jsx)(b.a,{src:Or})}),Object(G.jsx)(l.a,{style:{marginLeft:16},children:Object(G.jsx)("span",{style:{display:"inline-flex",alignItems:"center",letterSpacing:0,fontSize:19,fontFamily:"Niveau Grotesk Bold"},children:"FRIENDS"})})]})}),Object(G.jsx)(l.a,{children:Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{style:{marginLeft:16},children:Object(G.jsxs)(d.a,{style:{alignContent:"center"},children:[Object(G.jsx)("span",{style:{marginRight:6,display:"inline-flex",alignItems:"center"},children:"Search user"}),Object(G.jsx)("div",{onClick:x,children:Object(G.jsx)(On,{img:Tr,imgDisabled:Tr})})]})}),Object(G.jsx)(l.a,{style:{marginLeft:16},onClick:t,children:Object(G.jsx)("div",{className:"backgroundForSVG",children:Object(G.jsx)(On,{img:ar,imgDisabled:ar})})})]})})]})})}function Ar(e){var t=e.onExitFriendsClick,n=(e.isLoading,e.setLoading);return Object(i.useEffect)((function(){setTimeout((function(){n(!1)}),50)})),Object(G.jsx)(d.a,{align:"center",justify:"center",style:{height:"100%",pointerEvents:"auto"},children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(d.a,{justify:"center",style:{alignContent:"center",height:"100%"},children:Object(G.jsx)(tr.a,{style:{width:800,boxShadow:"2px",height:"70vh",border:0,backgroundColor:"#282828",borderRadius:10,color:"white"},children:Object(G.jsx)(d.a,{children:Object(G.jsxs)(l.a,{span:24,children:[Object(G.jsx)(Ir,{onExitFriendsClick:t}),Object(G.jsx)(d.a,{style:{overflowY:"scroll"},children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(kr,{})})})]})})})})})})}var Dr=n(171),Mr=n.p+"static/media/settings.de80b6f8.svg";function _r(e){var t=e.onExitSettings,n=Object(U.b)();return Object(G.jsxs)(d.a,{style:{borderBottom:"1px solid #2e2e2e"},justify:"space-between",children:[Object(G.jsx)(l.a,{children:Object(G.jsxs)(d.a,{style:{padding:12,paddingBottom:6,alignContent:"center"},children:[Object(G.jsx)(l.a,{children:Object(G.jsx)(b.a,{src:Mr})}),Object(G.jsx)(l.a,{style:{marginLeft:16},children:Object(G.jsx)("span",{style:{display:"inline-flex",alignItems:"center",letterSpacing:0,fontSize:19,fontFamily:"Niveau Grotesk Bold"},children:"SETTINGS"})})]})}),Object(G.jsx)(l.a,{style:{marginTop:5,marginRight:10},children:Object(G.jsx)(d.a,{justify:"end",children:Object(G.jsx)("div",{className:"backgroundForSVG",onClick:t,children:Object(G.jsx)(b.a,{src:ar,onClick:function(){n(L("1"))}})})})})]})}var Nr=n.p+"static/media/empyAvatar.56e931b8.png";function Lr(e){var t={borderRadius:"60px"};return Object(G.jsx)("div",{style:t,children:Object(G.jsx)("img",{style:t,src:Nr,width:"120px",height:"120px"})})}function Br(e){var t={background:"transparent",borderRadius:"20px",width:"100%",border:"2px  solid #707070",textAlign:"center",height:e.height,paddingTop:"7px"};return Object(G.jsx)("div",{style:t,children:Object(G.jsx)("span",{style:{fontFamily:"Niveau Grotesk Bold",color:"#FFFFFF"},children:"CANCEL"})})}function zr(e){var t={background:"#606060",borderRadius:"20px",width:"100%",border:"2px  solid #707070",textAlign:"center",height:e.height,paddingTop:"7px"};return Object(G.jsx)("div",{style:t,children:Object(G.jsx)("span",{style:{fontFamily:"Niveau Grotesk Bold",color:"#FFFFFF"},children:e.text})})}function Ur(){var e=Object(U.b)(),t=Object(U.c)((function(e){return e.account})),n=Object(f.g)(),r=Object(i.useState)(null),a=Object(c.a)(r,2),o=(a[0],a[1],Object(i.useState)(null)),s=Object(c.a)(o,2),u=s[0],p=s[1],h=Object(i.useState)(null),m=Object(c.a)(h,2),j=m[0],b=m[1],g=Object(i.useState)(null),v=Object(c.a)(g,2),x=v[0],y=v[1],O=Object(i.useState)(null),C=Object(c.a)(O,2),k=C[0],T=C[1],w=Object(i.useState)(null),R=Object(c.a)(w,2),E=R[0],P=R[1],F=Object(i.useState)(null),I=Object(c.a)(F,2),A=I[0],D=I[1];Object(i.useEffect)((function(){e(L("1"))}),[]);var M={fontSize:"19px",fontFamily:"Open Sans",color:"#FFFFFF"};return Object(G.jsx)(d.a,{children:Object(G.jsxs)(l.a,{span:24,children:[Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{marginTop:20},children:Object(G.jsx)("span",{style:M,children:"Avatar Image"})})}),Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{span:6,style:{marginTop:15},children:Object(G.jsx)(Lr,{})}),Object(G.jsx)(l.a,{span:7,style:{marginTop:50},children:Object(G.jsx)(Br,{height:"50%"})}),Object(G.jsx)(l.a,{span:7,style:{marginTop:50,marginLeft:30},children:Object(G.jsx)(zr,{text:"CHANGE",height:"50%"})})]}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{marginTop:"16px"},children:Object(G.jsx)("span",{style:M,children:"Change Username"})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:23,style:{marginTop:"16px"},children:Object(G.jsx)("input",{value:x,onChange:function(e){return y(e.target.value)},className:"auth-input",placeholder:"Username"})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{marginTop:"10px"},children:Object(G.jsx)("span",{style:M,children:"Change Email"})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:23,style:{marginTop:"16px"},children:Object(G.jsx)("input",{value:j,onChange:function(e){return b(e.target.value)},className:"auth-input",placeholder:"Email"})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{marginTop:"10px"},children:Object(G.jsx)("span",{style:M,children:"Change Password"})})}),Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{span:23,style:{marginTop:"16px"},children:Object(G.jsx)("input",{value:k,onChange:function(e){return T(e.target.value)},className:"auth-input",placeholder:"Original password"})}),Object(G.jsx)(l.a,{span:23,children:Object(G.jsx)("input",{value:E,onChange:function(e){return P(e.target.value)},className:"auth-input",placeholder:"New password"})}),Object(G.jsx)(l.a,{span:23,children:Object(G.jsx)("input",{value:A,onChange:function(e){return D(e.target.value)},className:"auth-input",placeholder:"Confirm password"})})]}),Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{span:10,style:{marginTop:"10px",marginBottom:20},onClick:function(){return n.push("/app/index")},children:Object(G.jsx)(Br,{height:"120%"})}),Object(G.jsx)(l.a,{onClick:function(){var e=new Object;u&&""!==u&&(e.avatar=u),x&&""!==x&&(e.userName=x),j&&""!==x&&(e.email=j),k&&""!==k&&E&&""!==E&&E===A&&(e.oldPassword=k,e.newPassword=E),console.log(e),S.updateUser(t.token,e).then((function(e){return console.log(e)})).catch((function(e){return console.error(e)})),p(""),b(""),y(""),T(""),P(""),D("")},span:10,style:{marginTop:"10px",marginBottom:20,marginLeft:25},children:Object(G.jsx)(zr,{text:"UPDATE",height:"120%"})})]})]})})}var Gr=n(116),Vr=n(429);function Wr(){var e=Object(U.c)((function(e){return e.app})),t=Object(U.b)(),n=Object(i.useState)(e.audioVolume),r=Object(c.a)(n,2),a=r[0],o=r[1],s=(e.videoDevices,e.audioDevices),u=Gr.a.Option;Object(i.useEffect)((function(){t(L("2"))}),[]);var p=Object(i.useState)(e.selectedVideoDevice),h=Object(c.a)(p,2),f=(h[0],h[1],Object(i.useState)(e.selectedAudioDevice)),m=Object(c.a)(f,2),j=(m[0],m[1]),b={fontFamily:"Montserrat",color:"#FFFFFF",fontSize:"19px"},g={color:"#909090",fontSize:"12px",fontFamily:"Montserrat"},v={borderRadius:"20px",background:"#7F7F7F",color:"#FFFFFF"},x={width:"90%",height:"90%"};return Object(G.jsx)(d.a,{children:Object(G.jsxs)(l.a,{span:24,children:[Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{marginTop:20},children:Object(G.jsx)("span",{style:b,children:"Microphone"})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{marginTop:"8px"},children:Object(G.jsx)("span",{style:g,children:"Select microphone device."})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{marginTop:20},children:Object(G.jsx)(Gr.a,{style:x,suffixIcon:"\u25bc",placeholder:"Select microphone device.",dropdownStyle:v,onChange:function(e){return j(e)},children:s.map((function(e){return Object(G.jsx)(u,{children:e.label},e.id)}))})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{marginTop:"4px"},children:Object(G.jsx)("span",{style:b,children:"Audio"})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{marginTop:"10px"},children:Object(G.jsx)("span",{style:g,children:"Select audio device."})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{marginTop:20},children:Object(G.jsx)(Gr.a,{style:x,suffixIcon:"\u25bc",placeholder:"Headphones",dropdownStyle:v})})}),Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{span:24,style:{marginTop:"10px"},children:Object(G.jsx)("span",{style:g,children:"Audio level."})}),Object(G.jsx)(l.a,{span:19,style:{marginTop:"15px"},children:Object(G.jsx)(Vr.a,{value:a,onChange:function(e){o(e),t(un(e))}})}),Object(G.jsx)(l.a,{span:1,style:{color:"#909090",fontSize:"14px",fontFamily:"Montserrat",marginLeft:"15px",marginTop:"20px"},children:Object(G.jsx)("span",{children:a})})]})]})})}function Hr(e){Object(U.c)((function(e){return e.app}));var t={width:"50vh",height:"30vh",background:"#393939"},n=Object(i.useRef)(null);return Object(i.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){var t=n.current;t&&(t.srcObject=e,t.onloadedmetadata=function(e){t.play()})})).catch((function(e){console.error("error:",e)}))})),Object(G.jsx)("div",{style:t,children:Object(G.jsx)("video",{style:t,ref:n})})}function Qr(){var e=Gr.a.Option,t=Object(U.b)();Object(i.useEffect)((function(){t(L("3"))}),[]);var n=Object(U.c)((function(e){return e.app})),r=n.videoDevices,a=Object(i.useState)(n.selectedVideoDevice),o=Object(c.a)(a,2),s=o[0],u=o[1],p={color:"#909090",fontSize:"12px",fontFamily:"Montserrat"};return Object(G.jsx)(d.a,{children:Object(G.jsxs)(l.a,{span:24,children:[Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{marginTop:20},children:Object(G.jsx)(Hr,{})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{marginTop:15},children:Object(G.jsx)("span",{style:p,children:"Select video device."})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{marginTop:10},children:Object(G.jsx)("span",{style:{fontFamily:"Montserrat",color:"#FFFFFF",fontSize:"19px"},children:"Video"})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{marginTop:20},children:Object(G.jsx)(Gr.a,{style:{width:"90%",height:"90%"},suffixIcon:"\u25bc",placeholder:"SELECT VIDEO DEVICE",dropdownStyle:{borderRadius:"20px",background:"#7F7F7F",color:"#FFFFFF"},value:s,onChange:function(e){return u(e)},children:r.map((function(t){return Object(G.jsx)(e,{children:t.label},t.id)}))})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{marginTop:15,marginLeft:10},children:Object(G.jsx)(h.a,{children:Object(G.jsxs)("span",{style:p,children:["Automatically turn off video feed when not focused on browser"," "]})})})})]})})}var Yr=n(164),Jr=n.n(Yr);function Kr(){var e=Object(U.b)();Object(i.useEffect)((function(){e(L("4"))}),[]);return Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:21,children:Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{span:24,style:{fontSize:"19px",fontFamily:"Montserrat",color:"#FFFFFF",marginTop:"19px"},children:"Account Billing"}),Object(G.jsx)(l.a,{span:24,style:{color:"#909090",fontFamily:"Montserrat",fontSize:"14px",marginTop:"10px"},children:"Set up and manage your account billing for two click purchasing."}),Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)("input",{className:"auth-input",type:"text",placeholder:"Name on card",style:{marginTop:"16px",width:"100%"}})}),Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)("input",{className:"auth-input",type:"text",placeholder:"Card number",style:{width:"100%"}})}),Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)("input",{className:"auth-input",type:"text",placeholder:"Billing Adress",style:{width:"100%"}})}),Object(G.jsx)(l.a,{span:24,children:Object(G.jsxs)(d.a,{justify:"space-between",children:[Object(G.jsx)(l.a,{span:11,style:{background:"transparent",borderRadius:"20px",width:"100%",border:"2px solid #707070",textAlign:"center",color:"white",fontFamily:"Niveau Grotesk Bold",fontSize:"20px",padding:"5px 0 2px 0",marginTop:"8px"},children:"CANCEL"}),Object(G.jsx)(l.a,{span:11,style:{background:"#606060",borderRadius:"20px",width:"100%",textAlign:"center",color:"white",fontFamily:"Niveau Grotesk Bold",fontSize:"20px",padding:"5px 0 2px 0",marginTop:"8px"},children:"UPDATE"})]})}),Object(G.jsx)(l.a,{span:24,style:{fontSize:"19px",fontFamily:"Montserrat",color:"#FFFFFF",marginTop:"12px"},children:"Purchases"}),Object(G.jsx)(l.a,{span:24,style:{marginTop:"12px"},children:Object(G.jsx)(Jr.a,{style:{fontFamily:"Montserrat",fontSize:"14px",color:"#909090"},children:"Enable two-click purchasing from event vendors."})})]})})})}function qr(){var e=Gr.a.Option,t=Object(U.b)(),n=Object(U.c)((function(e){return e.app})),r=Object(i.useState)(n.audioVolume),a=Object(c.a)(r,2),o=(a[0],a[1],n.videoDevices);n.audioDevices;Object(i.useEffect)((function(){t(L("5"))}),[]);var s=Object(i.useState)(n.selectedVideoDevice),u=Object(c.a)(s,2),p=(u[0],u[1]);return Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:21,children:Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{span:24,style:{fontSize:"19px",fontFamily:"Montserrat",color:"#FFFFFF",marginTop:"19px",fontStretch:"expanded"},children:"Social Connections"}),Object(G.jsx)(l.a,{span:24,style:{color:"#909090",fontFamily:"Montserrat",fontSize:"14px",marginTop:"10px"},children:"Select video device."}),Object(G.jsx)(l.a,{span:24,style:{marginTop:"16px"},children:Object(G.jsx)(Gr.a,{style:{width:"100%",height:"90%"},suffixIcon:"\u25bd",placeholder:"Select video device",dropdownStyle:{borderRadius:"20px",background:"#7F7F7F",color:"#FFFFFF"},onChange:function(e){return p(e)},children:o.map((function(t){return Object(G.jsx)(e,{children:t.label},t.id)}))})}),Object(G.jsx)(l.a,{span:24,style:{marginTop:"16px"},children:Object(G.jsx)(d.a,{justify:"space-between",align:"middle"})})]})})})}function Xr(){var e=Object(U.c)((function(e){return e.account})),t=Object(i.useState)(e.searchUserName),n=Object(c.a)(t,2),r=n[0],a=n[1],o=Object(i.useState)(e.searchFacebook),s=Object(c.a)(o,2),u=s[0],p=s[1],f=Object(i.useState)(e.myVideo),m=Object(c.a)(f,2),j=m[0],b=m[1],g=Object(i.useState)(e.myAudio),v=Object(c.a)(g,2),x=v[0],y=v[1],O=Object(U.b)();function C(e,t){var n=e.target.checked;console.log(n),"userName"===t&&(a(n),O(A(n))),"facebook"===t&&(p(n),O(D(n))),"video"===t&&(b(n),O(M(n))),"audio"===t&&(y(n),O(_(n)))}return Object(i.useEffect)((function(){O(L("6"))}),[]),Object(i.useEffect)((function(){S.updatePrivacy(e.token,r,u,j,x).then((function(e){var t=e;console.log(t)})).catch((function(e){return console.error(e)}))}),[O]),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:21,children:Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{span:24,style:{fontSize:"19px",fontFamily:"Montserrat",color:"#FFFFFF",marginTop:"19px",fontStretch:"expanded"},children:"Discoverability"}),Object(G.jsx)(l.a,{span:24,style:{color:"#909090",fontFamily:"Montserrat",fontSize:"14px",marginTop:"10px"},children:"Select how other users can search for you."}),Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(h.a,{style:{fontFamily:"Montserrat",fontSize:"14px",color:"#909090",marginTop:"12px"},checked:r,onChange:function(e){return C(e,"userName")},children:"Allow users to search for you via username."})}),Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(h.a,{checked:u,onChange:function(e){return C(e,"facebook")},style:{fontFamily:"Montserrat",fontSize:"14px",color:"#909090",marginTop:"12px"},children:"Allow users to find you through Facebook."})}),Object(G.jsx)(l.a,{span:24,style:{fontSize:"19px",fontFamily:"Montserrat",color:"#FFFFFF",marginTop:"12px"},children:"Communication Privacy"}),Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(h.a,{checked:j,onChange:function(e){return C(e,"video")},style:{fontFamily:"Montserrat",fontSize:"14px",color:"#909090",marginTop:"10px"},children:"Only users on your friend list can see your video feed."})}),Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(h.a,{style:{fontFamily:"Montserrat",fontSize:"14px",color:"#909090",marginTop:"12px"},checked:x,onChange:function(e){return C(e,"audio")},children:"Only users on your friend list can hear your audio feed."})})]})})})}var Zr=Dr.a.TabPane;function $r(){var e=Object(U.c)((function(e){return e.account})).settingsTabDefault,t=Object(f.g)();return Object(G.jsx)(d.a,{align:"center",justify:"center",style:{height:"100%",pointerEvents:"auto"},children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(d.a,{justify:"center",style:{alignContent:"center",height:"100%"},children:Object(G.jsxs)(tr.a,{style:{width:"800px",boxShadow:"2px",height:"70vh",border:0,backgroundColor:"#282828",borderRadius:10,color:"white",overflowY:"scroll",overflowX:"hidden"},children:[Object(G.jsx)(_r,{onExitSettings:function(){t.push("/app/index")}}),Object(G.jsx)(d.a,{children:Object(G.jsxs)(Dr.a,{tabPosition:"left",defaultActiveKey:e,children:[Object(G.jsx)(Zr,{tab:"ACCOUNT",children:Object(G.jsx)("div",{style:{width:"600px"},children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(Ur,{})})})})},"1"),Object(G.jsx)(Zr,{tab:"AUDIO",children:Object(G.jsx)("div",{style:{width:"600px"},children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(Wr,{})})})})},"2"),Object(G.jsx)(Zr,{tab:"VIDEO",children:Object(G.jsx)("div",{style:{width:"600px"},children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(Qr,{})})})})},"3"),Object(G.jsx)(Zr,{tab:"BILLING",children:Object(G.jsx)("div",{style:{width:"600px"},children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(Kr,{})})})})},"4"),Object(G.jsx)(Zr,{tab:"CONNECTIONS",children:Object(G.jsx)("div",{style:{width:"600px"},children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(qr,{})})})})},"5"),Object(G.jsx)(Zr,{tab:"PRIVACY",children:Object(G.jsx)("div",{style:{width:"600px"},children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(Xr,{})})})})},"6")]})})]})})})})}var ei=n(64),ti=Object(k.b)({name:"customization",initialState:{ringColor:"red",primaryColor:"yellow",secondaryColor:"green",items:[]},reducers:{setCustomizationItems:function(e,t){e.items=t.payload},setRingColor:function(e,t){e.ringColor=t.payload},setPrimaryColor:function(e,t){e.primaryColor=t.payload},setSecondaryColor:function(e,t){e.secondaryColor=t.payload}}}),ni=ti.actions,ri=ni.setRingColor,ii=ni.setCustomizationItems,ai=ni.setPrimaryColor,oi=ni.setSecondaryColor,si=ti.reducer;function ci(e){var t=Object(U.b)(),n=Object(U.c)((function(e){return e.customization})),r=Object(i.useState)(null),a=Object(c.a)(r,2),o=a[0],s=a[1],u=Object(i.useState)(null),p=Object(c.a)(u,2),h=p[0],f=p[1],m=Object(i.useState)(null),j=Object(c.a)(m,2),b=j[0],g=j[1];return Object(i.useEffect)((function(){console.log(e.type),"ring"===e.type&&e.gen(e.type,n.ringColor),"primary"===e.type&&e.gen(e.type,n.primaryColor),"secondary"===e.type&&e.gen(e.type,n.secondaryColor)})),Object(i.useEffect)((function(){s(n.ringColor),f(n.primaryColor),g(n.secondaryColor)}),[]),Object(G.jsx)(d.a,{justify:"center",align:"middle",children:Object(G.jsx)(l.a,{span:14,style:{marginBottom:"25px"},children:Object(G.jsxs)(d.a,{justify:"space-around",align:"middle",children:[Object(G.jsx)(l.a,{span:6,style:{textAlign:"center"},children:Object(G.jsx)("button",{className:"text-button",onClick:function(){e.setColor(e.pickerColor),e.setColorInFooter(e.pickerColor),t(ri(n.ringColor)),t(ai(n.primaryColor)),t(oi(n.secondaryColor));var r=Dt.createSetColorCommand(e.socket,e.pickerColor);It.getInstance().emitUICommand(r),e.cancel()},style:{backgroundColor:"#4f4f4f",width:"80%",padding:"5% 0 5% 0"},children:"CONFIRM"})}),Object(G.jsx)(l.a,{span:5,children:Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{span:24,style:{textAlign:"center"},children:Object(G.jsx)("div",{className:"color-rectangle",style:{backgroundColor:"ring"===e.type?n.ringColor:"primary"===e.type?n.primaryColor:n.secondaryColor}})}),Object(G.jsxs)(l.a,{className:"customization-header-text",span:24,style:{marginTop:"21px",textTransform:"uppercase"},children:[e.type," COLOR"]})]})}),Object(G.jsx)(l.a,{span:6,style:{textAlign:"center"},children:Object(G.jsx)("button",{className:"text-button",onClick:function(){t(ri(o)),t(ai(h)),t(oi(b)),e.cancel()},style:{backgroundColor:"#909090",width:"80%",padding:"5% 0 5% 0"},children:"CANCEL"})})]})})})}function di(e){var t=Object(i.useState)("#aabbcc"),n=Object(c.a)(t,2);n[0],n[1],e.color;return Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{span:24,style:{textAlign:"center"},children:Object(G.jsx)("div",{className:"color-rectangle",style:{backgroundColor:e.color}})}),Object(G.jsxs)(l.a,{className:"customization-header-text",span:24,style:{marginTop:"21px",textTransform:"uppercase"},children:[e.type," COLOR"]})]})}function li(e){var t=Object(i.useState)(null),n=Object(c.a)(t,2),r=n[0],a=n[1],o=Object(i.useState)(null),s=Object(c.a)(o,2),u=s[0],p=s[1],h=Object(i.useState)(null),f=Object(c.a)(h,2),m=f[0],j=f[1],b=Object(i.useState)("#aabbcc"),g=Object(c.a)(b,2),v=(g[0],g[1],Object(i.useState)(e.ringColor)),x=Object(c.a)(v,2),y=(x[0],x[1]),O=Object(i.useState)(e.primaryColor),C=Object(c.a)(O,2),S=(C[0],C[1]),k=Object(i.useState)(e.secondaryColor),T=Object(c.a)(k,2),w=(T[0],T[1]),R=Object(U.c)((function(e){return e.customization}));function E(){p(!1),j(!1),a(!1),e.hide()}return Object(i.useEffect)((function(){})),Object(G.jsxs)("div",{children:[r||u||m?null:Object(G.jsx)(d.a,{justify:"center",children:Object(G.jsx)(l.a,{xl:16,span:12,style:{marginBottom:"25px"},children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsxs)(d.a,{justify:"space-between",children:[Object(G.jsx)(l.a,{xl:8,span:6,children:Object(G.jsx)(d.a,{children:Object(G.jsx)("div",{onClick:function(){j(!0),a(!1),p(!1)},children:Object(G.jsx)(di,{type:"ring",color:R.ringColor})})})}),Object(G.jsx)(l.a,{xl:8,span:6,children:Object(G.jsx)(d.a,{children:Object(G.jsx)("div",{onClick:function(){a(!0),p(!1),j(!1)},children:Object(G.jsx)(di,{type:"primary",color:R.primaryColor})})})}),Object(G.jsx)(l.a,{xl:8,span:6,children:Object(G.jsx)(d.a,{children:Object(G.jsx)("div",{onClick:function(){p(!0),j(!1),a(!1)},children:Object(G.jsx)(di,{type:"secondary",color:R.secondaryColor})})})})]})})})})}),m?Object(G.jsx)(ci,{pickerColor:e.pickerColor,color:e.ringColor,setColor:e.setRing,setColorInFooter:y,type:"ring",gen:e.gen,hide:e.hide,cancel:E,socket:Dt.addonsColors.ring}):null,u?Object(G.jsx)(ci,{pickerColor:e.pickerColor,color:e.secondaryColor,setColor:e.setSecondary,setColorInFooter:w,type:"secondary",gen:e.gen,hide:e.hide,cancel:E,socket:Dt.addonsColors.secondary}):null,r?Object(G.jsx)(ci,{pickerColor:e.pickerColor,color:e.primaryColor,setColor:e.setPrimary,setColorInFooter:S,type:"primary",gen:e.gen,hide:e.hide,cancel:E,socket:Dt.addonsColors.primary}):null]})}var ui=n.p+"static/media/close_btn_customization.67dda06d.svg",pi=n.p+"static/media/face_big.a3967b99.svg",hi=n.p+"static/media/backpack_btn.61e97370.svg",fi=n.p+"static/media/left_hand_big.cefe4f43.svg",mi=n.p+"static/media/right_hand_big.bab693a3.svg",ji=n.p+"static/media/companion_big.59c90c5f.svg",bi=n.p+"static/media/color_btn_big.c0590400.svg",gi=n.p+"static/media/slider_arrow_left.e14e0921.svg",vi=n.p+"static/media/slider_arrow_right.e286fd80.svg";function xi(e){var t=xn()();Object(i.useEffect)((function(){t.xl&&s(94),t.xxl&&s(120)}),[t]);var n=Object(U.c)((function(e){return e.customization})).items.filter((function(t){return t.type===e.socket})),r=Object(i.useState)(75),a=Object(c.a)(r,2),o=a[0],s=a[1],u=Object(i.useState)(14),p=Object(c.a)(u,2),h=(p[0],p[1],Object(i.useState)(0)),f=Object(c.a)(h,2),m=f[0],j=f[1];function g(t){var n=Dt.createSetAddonCommand(e.socket,t);It.getInstance().emitUICommand(n)}console.log(n);var v=Math.floor(window.innerWidth/(o+24))-2;return Object(G.jsx)(d.a,{justify:"center",children:Object(G.jsxs)(l.a,{span:24,style:{marginBottom:"21px"},children:[Object(G.jsx)("div",{className:"customization-header-text",style:{fontSize:"32px",color:"white",fontFamily:"Niveau Grotesk Bold",textAlign:"center",textTransform:"uppercase",marginBottom:"36px"},children:"left"===e.type||"right"===e.type?e.type+" hand":e.type}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsxs)("div",{className:"slider",style:{display:"flex",justifyContent:"center",textAlign:"center",pointerEvents:"auto"},children:[Object(G.jsx)("div",{className:"slider-item",style:{background:"transparent",border:"none"},children:Object(G.jsx)("div",{style:{postion:"fixed"},onClick:function(){m>0&&j(m-1)},children:Object(G.jsx)(b.a,{src:gi})})}),Object(G.jsx)("div",{className:"slider-item slider-item-none",style:{marginLeft:"24px"},onClick:function(){g("none")}}),Object(G.jsx)("div",{children:n.map((function(e,t){if(t>=m&&t<=m+v-1&&t!==m+v-1)return Object(G.jsx)("div",{className:"slider-item",style:{marginLeft:"24px",color:"white"},onClick:function(){g(e.addonId)},children:Object(G.jsx)("img",{style:{width:"100%",height:"100%"},src:e.imagePath})})}))}),Object(G.jsx)("div",{className:"slider-item",style:{marginLeft:"24px",background:"transparent",border:"none"},children:Object(G.jsx)("div",{style:{postion:"fixed"},onClick:function(){m<n.length-v&&j(m+1)},children:Object(G.jsx)(b.a,{src:vi})})})]})})})]})})}var yi=function(e){var t={background:e.isToogled?e.isColor?"#17F7CD":"#451CFF":"#232323",display:"inline-flex",alignItems:"center",borderRadius:"60%",height:" 63px",width:"63px",paddingRight:"lefthand"===e.type?"5px":"0px",paddingLeft:"righthand"===e.type?"5px":"0px"};return Object(G.jsx)("div",{className:"circle",style:t,children:Object(G.jsx)("div",{className:"img",style:{margin:"0 auto",marginTop:"23px",textAlign:"center",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:Object(G.jsx)(b.a,{afterInjection:function(t,n){var r;t?console.error(t):void 0!==(null===(r=e.style)||void 0===r?void 0:r.borderRadius)&&(n.style.borderRadius=e.style.borderRadius)},src:e.img})})})};function Oi(e){var t=xn()(),n=Object(i.useState)(0),r=Object(c.a)(n,2),a=r[0],o=r[1],s=Object(i.useState)(0),u=Object(c.a)(s,2),p=u[0],h=u[1];Object(i.useEffect)((function(){console.log(f.current.clientHeight),o(f.current.clientHeight),h(j.current.clientHeight)})),Object(i.useEffect)((function(){console.log(t)}),[t]);var f=Object(i.useRef)(null),m=Object(i.useRef)(null),j=Object(i.useRef)(null),b=Object(i.useState)(!1),g=Object(c.a)(b,2),v=g[0],x=g[1],y=Object(i.useState)(!1),O=Object(c.a)(y,2),C=O[0],S=O[1],k={border:"4px solid #232323",borderRadius:"48px",background:"#232323",color:"white",fontSize:"32px",textAlign:"center",fontFamily:"Niveau Grotesk Bold",width:"100%",position:"absolute",top:p-a+"px",left:"0",paddingTop:"25px",paddingBottom:"15px"};return Object(G.jsx)(d.a,{justify:"center",children:Object(G.jsx)(l.a,{span:16,style:{marginBottom:"40px"},children:Object(G.jsxs)(d.a,{justify:"space-between",children:[Object(G.jsx)(l.a,{span:11,children:Object(G.jsxs)("div",{style:{position:"relative"},children:[Object(G.jsx)("div",{className:"name-input-container",ref:j,style:{paddingTop:"6px",border:"4px solid #232323",borderRadius:"48px",color:"#232323",fontSize:"24px",display:"inline-block",background:"#FFFFFF",height:"161px",opacity:"0.7",textAlign:"center",fontFamily:"Niveau Grotesk",width:"100%"},children:Object(G.jsx)("span",{style:C?{textDecoration:"underline"}:null,onClick:function(){S(!0),m.current.focus()},children:"Tap to edit companion name."})}),Object(G.jsx)("input",{className:"name-input",ref:m,disabled:!C,style:k,onChange:function(e){!function(e){var t=Dt.createSetCompanionNameCommand(e);It.getInstance().emitUICommand(t)}(e.target.value)}})]})}),Object(G.jsx)(l.a,{span:11,children:Object(G.jsxs)("div",{style:{position:"relative"},children:[Object(G.jsx)("div",{className:"name-input-container",ref:j,style:{paddingTop:"6px",border:"4px solid #232323",borderRadius:"48px",color:"#232323",fontSize:"24px",display:"inline-block",background:"#FFFFFF",height:"161px",opacity:"0.7",textAlign:"center",fontFamily:"Niveau Grotesk",width:"100%"},children:Object(G.jsx)("span",{style:v?{textDecoration:"underline"}:null,onClick:function(){x(!0),f.current.focus()},children:"Tap to edit name."})}),Object(G.jsx)("input",{className:"name-input",ref:f,disabled:!v,style:k,onChange:function(e){!function(e){var t=Dt.createSetNameCommand(e);It.getInstance().emitUICommand(t)}(e.target.value)}})]})})]})})})}var Ci=yn.a.Header,Si=yn.a.Footer,ki=(yn.a.Sider,yn.a.Content);function Ti(e){e.onCustomization,e.onExitCustomizationClick;var t=Object(U.b)(),n=Object(U.c)((function(e){return e.customization})),r=xn()();Object(i.useEffect)((function(){console.debug(r)}),[r]);var a=Object(i.useState)(null),o=Object(c.a)(a,2),s=o[0],u=o[1],p=Object(i.useState)(null),h=Object(c.a)(p,2),m=h[0],j=h[1],g=Object(i.useState)(null),v=Object(c.a)(g,2),x=v[0],y=v[1],O=Object(i.useState)("#aabbcc"),C=Object(c.a)(O,2),S=C[0],k=C[1],T=Object(i.useState)(null),w=Object(c.a)(T,2),R=w[0],E=w[1],P=Object(f.g)(),F=Object(i.useState)("face"),I=Object(c.a)(F,2),A=I[0],D=I[1],M=Object(i.useState)(null),_=Object(c.a)(M,2),N=_[0],L=_[1],B=Object(i.useState)(!1),z=Object(c.a)(B,2),V=z[0],W=z[1],H=Object(i.useState)(null),Q=Object(c.a)(H,2),Y=(Q[0],Q[1]),J=Object(i.useState)("red"),K=Object(c.a)(J,2),q=K[0],X=K[1],Z=Object(i.useState)(null),$=Object(c.a)(Z,2),ee=($[0],$[1]),te=Object(i.useState)("yellow"),ne=Object(c.a)(te,2),re=ne[0],ie=ne[1],ae=Object(i.useState)(null),oe=Object(c.a)(ae,2),se=(oe[0],oe[1]),ce=Object(i.useState)("green"),de=Object(c.a)(ce,2),le=de[0],ue=de[1],pe=Object(i.useState)(!1),he=Object(c.a)(pe,2),fe=he[0],me=he[1],je=Object(i.useState)({zIndex:"1000"}),be=Object(c.a)(je,2),ge=be[0],ve=(be[1],Object(i.useState)()),xe=Object(c.a)(ve,2),ye=xe[0],Oe=xe[1];function Ce(){var e=Dt.createConnectToGameServerCommand();It.getInstance().emitUICommand(e),P.push("/app/index")}return Object(i.useEffect)((function(){E(S)}),[S]),Object(i.useEffect)((function(){u(n.ringColor),j(n.primaryColor),y(n.secondaryColor)}),[]),Object(G.jsxs)(yn.a,{style:{height:"100vh",padding:0,backgroundColor:"rgba(0,0,0,0)",pointerEvents:"auto"},children:[Object(G.jsx)(Ci,{style:{padding:0,backgroundColor:"rgba(0,0,0,0)"},children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{marginTop:"16px"},children:Object(G.jsxs)(d.a,{justify:"center",align:"middle",style:{position:"relative"},children:[Object(G.jsx)(l.a,{style:{margin:"0 6px"},children:Object(G.jsx)("div",{onClick:function(){D("face"),me(!1),L(!1)},children:Object(G.jsx)(yi,{isToogled:"face"===A,img:pi,color:"#451CFF"})})}),Object(G.jsx)(l.a,{style:{margin:"0 6px"},children:Object(G.jsx)("div",{onClick:function(){D("back"),me(!1),L(!1)},children:Object(G.jsx)(yi,{isToogled:"back"===A,img:hi,color:"#451CFF"})})}),Object(G.jsx)(l.a,{style:{margin:"0 6px"},children:Object(G.jsx)("div",{onClick:function(){D("left"),L(!1),W(!1),me(!1)},children:Object(G.jsx)(yi,{isToogled:"left"===A,type:"lefthand",img:fi,color:"#451CFF"})})}),Object(G.jsx)(l.a,{style:{margin:"0 6px"},children:Object(G.jsx)("div",{onClick:function(){D("right"),L(!1),me(!1),W(!1)},children:Object(G.jsx)(yi,{isToogled:"right"===A,type:"righthand",img:mi,color:"#451CFF"})})}),Object(G.jsx)(l.a,{style:{margin:"0 6px"},children:Object(G.jsx)("div",{onClick:function(){D("companion"),me(!1),L(!1)},children:Object(G.jsx)(yi,{isToogled:"companion"===A,img:ji,color:"#451CFF"})})}),Object(G.jsx)(l.a,{style:{margin:"0 6px"},children:Object(G.jsx)("div",{onClick:function(){D(null),L(!0),me(!1)},children:Object(G.jsx)(yi,{isToogled:N,isColor:!0,img:bi,color:"#17F7CD",style:{borderRadius:"25px"}})})}),Object(G.jsx)(l.a,{xl:2,lg:2,span:1,style:{margin:"0 4px"},children:Object(G.jsx)("div",{className:"text-button",id:"name-button",onClick:function(){me(!0),D(null),L(null)},style:{padding:"5px",lineHeight:"2.9",background:fe?"#451CFF":"#232323",boxShadow:"none",fontSize:"18px",width:"80%",textAlign:"center",marginBottom:"10px"},children:"NAME"})}),Object(G.jsx)(l.a,{style:{position:"absolute",top:"0",right:"16px",textAlign:"end"},children:Object(G.jsx)("div",{onClick:Ce,children:Object(G.jsx)(b.a,{src:ui})})})]})})})}),Object(G.jsx)(ki,{children:Object(G.jsx)(d.a,{justify:"center",align:"middle",style:{height:"100vh"},children:Object(G.jsxs)(l.a,{xl:18,span:13,style:{marginBottom:"50px"},children:[Object(G.jsx)(d.a,{children:V?Object(G.jsx)(l.a,{className:"center",style:ge,children:Object(G.jsxs)("div",{className:"center",style:{margin:"0 auto",paddingBottom:"-50%"},children:[Object(G.jsx)(ei.a,{color:S,onChange:function(e){k(e),"ring"===ye&&(t(ri(e)),ue(e)),"primary"===ye&&(t(ai(e)),X(e)),"secondary"===ye&&(t(oi(e)),ie(e))}}),";"]})}):null}),Object(G.jsx)(d.a,{justify:"end",children:Object(G.jsx)(l.a,{span:6,style:{color:"white",marginBottom:"25px"},children:V?null:Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(d.a,{justify:"center",align:"center",children:Object(G.jsx)("div",{onClick:Ce,className:"text-buttonFinish",id:"main-button",style:{backgroundColor:"#232323",height:"86px",width:"234px",textAlign:"center",lineHeight:"72px",fontSize:"40px"},children:"FINISH"})})}),Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(d.a,{justify:"center",align:"center",children:Object(G.jsx)("div",{onClick:function(){t(ri(s)),t(ai(m)),t(oi(x)),P.push("/app/index")},className:"text-button",id:"main-button",style:{backgroundColor:"#909090",height:"86px",marginTop:"24px",width:"234px",textAlign:"center",lineHeight:"72px",fontSize:"40px"},children:"CANCEL"})})})]})})})]})})}),Object(G.jsx)(Si,{style:{padding:0,backgroundColor:"rgba(0,0,0,0)"},children:Object(G.jsx)(d.a,{justify:"center",children:Object(G.jsxs)(l.a,{span:24,children:["left"===A?Object(G.jsx)(xi,{socket:Dt.addonsSockets.leftHand,type:"left"}):null,"back"===A?Object(G.jsx)(xi,{socket:Dt.addonsSockets.back,type:"back"}):null,"right"===A?Object(G.jsx)(xi,{socket:Dt.addonsSockets.rightHand,type:"right"}):null,"face"===A?Object(G.jsx)(xi,{socket:Dt.addonsSockets.head,type:"face"}):null,"companion"===A?Object(G.jsx)(xi,{socket:Dt.addonsSockets.companion,type:"companion"}):null,N?Object(G.jsx)(li,{pickerColor:R,ringColor:le,setRing:ue,primaryColor:q,setPrimary:X,secondaryColor:re,setSecondary:ie,gen:function(e,t){Oe(e),W(!0),k(t)},hide:function(){W(!1)},getColorChange:function(e){"ring"===e&&(se(!0),Y(!1),ee(!1)),"primary"===e&&(Y(!0),ee(!1),se(!1)),"secondary"===e&&(ee(!0),Y(!1),se(!1))}}):null,fe?Object(G.jsx)(Oi,{}):null]})})})]})}function wi(e){var t=e.isMobile,n=Object(f.g)(),r=Object(i.useState)(!1),a=Object(c.a)(r,2),o=(a[0],a[1],Object(U.c)((function(e){return e.account}))),s=Object(i.useState)([]),u=Object(c.a)(s,2),p=u[0],h=u[1],m=Object(i.useState)(!0),j=Object(c.a)(m,2),b=j[0],g=j[1];function v(){g(!1)}Object(i.useEffect)((function(){S.getFriendsList(o.token).then((function(e){var t=e;console.log(t),h(t.data[0].friendsList),g(!0),setTimeout(v,300)})).catch((function(e){return console.error(e)}))}),[]);var x=[{title:"Username",dataIndex:"name",width:"30%",key:"name",render:function(e,t,r){var i;return Object(G.jsx)(d.a,{onClick:function(){n.push("/app/index/chat",{fromMessages:!0,id:t._id,nick:t.userId.firstName?t.userId.firstName:t.userId.email})},style:{width:"100%"},children:Object(G.jsx)(l.a,{children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{style:{textOverflow:"ellipsis",maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden"},children:Object(G.jsx)("span",{style:{fontFamily:"Niveau Grotesk Bold",fontSize:20},children:t.hasOwnProperty("userId")?t.userId.firstName?t.userId.firstName:null===t||void 0===t||null===(i=t.userId)||void 0===i?void 0:i.email:"fdsjkfsjh"})})})})})}},{title:"Block",dataIndex:"address",width:"30%",key:"address",render:function(e,t,n){return Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{children:Object(G.jsx)(Tn,{img:Fn})})})}},{title:"Teleport to",dataIndex:"address",width:"25%",key:"address",render:function(e,t,n){return Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{children:Object(G.jsx)(Tn,{img:rr})})})}}];return Object(G.jsx)(nr.a,{pagination:!1,className:"friendsTable",rowClassName:"",style:{width:"100%",height:t?"77vh":"600px"},dataSource:p,columns:x,onRow:function(e,t){return{}},loading:b})}var Ri=n.p+"static/media/MassagesWithoutBackground.212b6833.svg";function Ei(e){var t=e.onExitMassagesClick;return Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsxs)(d.a,{style:{marginTop:5},align:"middle",children:[Object(G.jsx)(l.a,{span:3,style:{marginLeft:15},children:Object(G.jsx)(b.a,{src:Ri})}),Object(G.jsx)(l.a,{style:{marginBottom:5},span:17,children:Object(G.jsx)("span",{style:{fontFamily:"Niveau Grotesk Bold",color:"#ffff",fontSize:"18px"},children:"MESSAGES"})}),Object(G.jsx)(l.a,{span:1,onClick:t,children:Object(G.jsx)("div",{className:"backgroundForSVG",style:{marginBottom:7,marginTop:3},children:Object(G.jsx)(b.a,{src:ar})})})]})})})})})}function Pi(e){e.onMassagesClick;var t=e.onExitMassagesClick;return Object(G.jsxs)(d.a,{style:{pointerEvents:"auto"},children:[Object(G.jsx)("div",{style:{background:"gray",opacity:"0.5",width:"100%",position:"fixed",top:0,left:0,bottom:0,right:0}}),Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(d.a,{justify:"end",children:Object(G.jsx)(l.a,{children:Object(G.jsx)(d.a,{style:{background:"#282828",width:400,borderRadius:"10px"},children:Object(G.jsxs)(l.a,{span:24,children:[Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(Ei,{onExitMassagesClick:t})})}),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(wi,{})})})]})})})})})]})}var Fi=n.p+"static/media/arrow_left.19ba42df.svg";function Ii(e){var t=e.backToMessages;return Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{padding:10,height:59,borderBottom:"1px solid #393939"},children:Object(G.jsxs)(d.a,{style:{marginLeft:10},children:[Object(G.jsx)(l.a,{span:3,style:{marginTop:10},className:"opacity",children:Object(G.jsx)(m.b,{to:t?"/app/index/messages":"/app/index/friends",children:Object(G.jsx)("div",{children:Object(G.jsx)(b.a,{src:Fi})})})}),Object(G.jsx)(l.a,{span:18,style:{marginTop:7},children:Object(G.jsx)("span",{style:{fontFamily:"Niveau Grotesk Bold",fontSize:"19px",color:"#FFFFFF"},children:e.userNickName})}),Object(G.jsx)(l.a,{span:1,onClick:e.onExitChat,children:Object(G.jsx)("div",{className:"backgroundForSVG",children:Object(G.jsx)(b.a,{src:ar})})})]})})})}function Ai(e){var t=e.testMessages,n=Object(i.useState)(t),r=Object(c.a)(n,2);r[0],r[1];return Object(G.jsx)(d.a,{style:{paddingLeft:10,paddingRight:20},children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)("ul",{className:"Messages-list",children:t.map((function(e){return function(e){var t=e.text,n=e.usernameFrom,r=n===e.usernameMe,i=r?"Messages-message currentMember":"Messages-message",a=r?"text currentMember":"text";return Object(G.jsx)("li",{className:i,children:Object(G.jsxs)("div",{className:"Message-content",children:[Object(G.jsx)("div",{className:"username",children:n}),Object(G.jsx)("div",{className:a,children:t})]})})}(e)}))})})})}var Di=n.p+"static/media/send_btn.107b4feb.svg";function Mi(e){var t=e.onExitChat,n=Object(f.h)(),r=(n.state.id,n.state.nick),a=n.state.fromMessages,o=Object(i.useState)(""),s=Object(c.a)(o,2),u=s[0],p=s[1],h=Object(i.useState)([{text:"This is a test message!",usernameFrom:"userNotME",usernameMe:"userMe"},{text:"This is a test message!",usernameFrom:"userMe",usernameMe:"userMe"}]),m=Object(c.a)(h,2),j=m[0];m[1];return Object(G.jsxs)(d.a,{style:{pointerEvents:"auto"},children:[Object(G.jsx)("div",{style:{background:"gray",opacity:"0.5",width:"100%",position:"fixed",top:0,left:0,bottom:0,right:0}}),Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(d.a,{justify:"end",style:{height:"30vh"},children:Object(G.jsx)(l.a,{children:Object(G.jsx)(d.a,{style:{background:"#282828",width:400,borderRadius:"10px"},children:Object(G.jsxs)(l.a,{span:24,children:[Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(Ii,{userNickName:r,backToMessages:a,onExitChat:t})})}),Object(G.jsx)(d.a,{style:{overflowY:"scroll",height:"60vh",background:"#191919"},children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(Ai,{testMessages:j})})}),Object(G.jsx)(d.a,{style:{marginTop:10},children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsxs)(d.a,{style:{marginLeft:10,marginRight:10},children:[Object(G.jsx)("input",{style:{marginRight:10},className:"auth-input",value:u,placeholder:"Type here...",onChange:function(e){return function(e){p(e.target.value)}(e)}}),Object(G.jsx)("div",{className:"opacity",children:Object(G.jsx)(b.a,{src:Di,onClick:function(){if(""!==u){n.state.id;p("")}}})})]})})})]})})})})})]})}var _i=n.p+"static/media/spin-transparent.98390c51.svg";function Ni(e){var t=e.onFriendsClick,n=e.onExitFriendsClick,r=e.onCustomizationClick,i=e.onExitCustomizationClick,a=e.onMassagesClick,o=e.onExitMassagesClick,s=e.onExitChat,c=e.backToMessages,d=e.isLoading,l=e.setLoading;return Object(G.jsxs)("div",{children:[Object(G.jsx)(er,{}),Object(G.jsxs)(f.d,{children:[Object(G.jsxs)(f.b,{exact:!0,path:"/app/index/friends",children:[Object(G.jsx)("div",{style:{position:"fixed",top:0,bottom:0,left:0,right:0,background:"gray",opacity:"0.5"}}),Object(G.jsx)("div",{style:{position:"fixed",top:0,bottom:0,left:0,right:0},children:Object(G.jsx)(Ar,{isLoading:d,onExitFriendsClick:n,onFriendsClick:t,setLoading:l})})]}),Object(G.jsxs)(f.b,{exact:!0,path:"/app/index/settings",children:[Object(G.jsx)("div",{style:{position:"fixed",top:0,bottom:0,left:0,right:0,background:"gray",opacity:"0.5"}}),Object(G.jsx)("div",{style:{position:"fixed",top:0,bottom:0,left:0,right:0},children:Object(G.jsx)($r,{})})]}),Object(G.jsx)(f.b,{exact:!0,path:"/app/index/messages",children:Object(G.jsx)("div",{style:{position:"fixed",top:0,bottom:0,left:0,right:0,padding:5,minWidth:"50%"},children:Object(G.jsx)(Pi,{onMassagesClick:a,onExitMassagesClick:o})})}),Object(G.jsx)(f.b,{exact:!0,path:"/app/customization",children:Object(G.jsx)("div",{children:Object(G.jsx)(Ti,{onExitCustomizationClick:i,onCustomizationClick:r})})}),Object(G.jsxs)(f.b,{exact:!0,path:"/app/index/chat",children:[Object(G.jsx)("div",{style:{position:"fixed",top:0,bottom:0,left:0,right:0,background:"gray",opacity:"0.5"}}),Object(G.jsx)("div",{style:{position:"fixed",top:0,bottom:0,left:0,right:0,padding:5},children:Object(G.jsx)(Mi,{onExitChat:s,backToMessages:c})})]})]})]})}function Li(e){var t=e.onExitFriendsClick,n=Object(U.c)((function(e){return e.report})),r=Object(i.useState)(!1),a=Object(c.a)(r,2),o=a[0],s=a[1];return Object(i.useEffect)((function(){n.isReportOpen?(s(!0),n.isReportSubmited&&s(!1)):s(!1)}),[n]),Object(G.jsx)(d.a,{align:"center",justify:"center",style:{height:"100%",backgroundColor:"gray",pointerEvents:"auto"},children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(d.a,{justify:"center",style:{alignContent:"center",height:"100%"},children:Object(G.jsx)(tr.a,{style:{width:o?0:"97vw",boxShadow:"2px",border:0,backgroundColor:"#282828",borderRadius:10,color:"white"},id:"mobile-fix-friends",children:Object(G.jsx)(d.a,{children:Object(G.jsxs)(l.a,{span:24,children:[Object(G.jsx)(Ir,{onExitFriendsClick:t}),Object(G.jsx)(d.a,{style:{overflowY:"scroll"},children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(kr,{})})})]})})})})})})}function Bi(e){e.onMassagesClick;var t=e.onExitMassagesClick,n=(0,u.a.useBreakpoint)();console.log(n);return Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{xs:24,sm:24,md:24,lg:24,children:Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{xs:2,sm:2,md:2,lg:2,style:{marginLeft:20,marginTop:10},children:Object(G.jsx)(b.a,{src:Ri})}),Object(G.jsx)(l.a,{xs:19,sm:19,md:19,lg:20,style:{marginTop:15},children:Object(G.jsx)("span",{style:{fontFamily:"Niveau Grotesk Bold",color:"#ffff",fontSize:"19px"},children:"MESSAGES"})}),Object(G.jsx)(l.a,{xs:1,sm:1,md:1,lg:1,style:{marginTop:9},onClick:t,children:Object(G.jsx)("div",{className:"backgroundForSVG",children:Object(G.jsx)(b.a,{src:ar})})})]})})})}function zi(e){var t=e.onMassagesClick,n=e.onExitMassagesClick;return Object(G.jsx)(d.a,{style:{background:"#404040",width:"100%",height:"100vh",pointerEvents:"auto"},children:Object(G.jsx)(l.a,{xs:24,sm:24,lg:24,children:Object(G.jsx)(d.a,{style:{background:"#282828",width:"98%",height:"96vh",marginLeft:"1%",marginTop:"1%",borderRadius:"15px",overflowY:"hide"},id:"mobile-fix-messages-panel",children:Object(G.jsxs)(l.a,{xs:24,sm:24,md:24,lg:24,children:[Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{xs:24,sm:24,md:24,lg:24,children:Object(G.jsx)(Bi,{onExitMassagesClick:n,onMassagesClick:t})})}),Object(G.jsx)(d.a,{style:{overflowY:"auto"},children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(wi,{})})})]})})})})}n.p;function Ui(e){var t=Object(U.b)(),n=Object(U.c)((function(e){return e.customization})),r=Object(i.useState)(null),a=Object(c.a)(r,2),o=a[0],s=a[1],u=Object(i.useState)(null),p=Object(c.a)(u,2),h=p[0],f=p[1],m=Object(i.useState)(null),j=Object(c.a)(m,2),b=j[0],g=j[1];Object(i.useEffect)((function(){e.gen(e.type),"ring"===e.type&&e.gen(e.type,n.ringColor),"primary"===e.type&&e.gen(e.type,n.primaryColor),"secondary"===e.type&&e.gen(e.type,n.secondaryColor)})),Object(i.useEffect)((function(){s(n.ringColor),f(n.primaryColor),g(n.secondaryColor)}),[]);var v=Object(i.useState)("#aabbcc"),x=Object(c.a)(v,2);x[0],x[1];return Object(G.jsx)(d.a,{justify:"center",align:"middle",children:Object(G.jsx)(l.a,{span:18,style:{marginBottom:"25px"},children:Object(G.jsxs)(d.a,{justify:"center",align:"middle",children:[Object(G.jsx)(l.a,{span:6,style:{textAlign:"center",margin:"0 18.5px"},children:Object(G.jsx)("button",{className:"text-button",onClick:function(){e.setColor(e.pickerColor),e.setColorInFooter(e.pickerColor),t(ri(n.ringColor)),t(ai(n.primaryColor)),t(oi(n.secondaryColor));var r=Dt.createSetColorCommand(e.socket,e.pickerColor);It.getInstance().emitUICommand(r),e.cancel()},style:{fontSize:"21px",backgroundColor:"#4f4f4f",width:"100%"},children:"CONFIRM"})}),Object(G.jsx)(l.a,{span:5,style:{margin:"0 18.5px"},children:Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{span:24,style:{textAlign:"center"},children:Object(G.jsx)("div",{className:"color-rectangle-mobile",style:{backgroundColor:"ring"===e.type?n.ringColor:"primary"===e.type?n.primaryColor:n.secondaryColor}})}),Object(G.jsxs)(l.a,{className:"customization-header-text",span:24,style:{marginTop:"12px",fontSize:"12px",textTransform:"uppercase"},children:[e.type," COLOR"]})]})}),Object(G.jsx)(l.a,{span:6,style:{textAlign:"center",margin:"0 18.5px"},children:Object(G.jsx)("button",{className:"text-button",onClick:function(){t(ri(o)),t(ai(h)),t(oi(b)),e.cancel()},style:{fontSize:"21px",backgroundColor:"#909090",width:"100%"},children:"CANCEL"})})]})})})}function Gi(e){var t=Object(i.useState)("#aabbcc"),n=Object(c.a)(t,2),r=(n[0],n[1],{display:"inline-block",width:"60px",height:"60px",boxShadow:"0px 2px 0px #040206",border:"2px solid #232323",borderRadius:"6px",textAlign:"center",margin:"0 auto",backgroundColor:e.color});return Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{span:24,style:{textAlign:"center"},children:Object(G.jsx)("div",{style:r})}),Object(G.jsxs)(l.a,{className:"customization-header-text",span:24,style:{marginTop:"13px",fontSize:"12px",textTransform:"uppercase"},children:[e.type," COLOR"]})]})}function Vi(e){var t=Object(U.c)((function(e){return e.customization})),n=Object(i.useState)(null),r=Object(c.a)(n,2),a=r[0],o=r[1],s=Object(i.useState)(null),u=Object(c.a)(s,2),p=u[0],h=u[1],f=Object(i.useState)(null),m=Object(c.a)(f,2),j=m[0],b=m[1],g=Object(i.useState)("#aabbcc"),v=Object(c.a)(g,2),x=(v[0],v[1],Object(i.useState)(e.ringColor)),y=Object(c.a)(x,2),O=(y[0],y[1]),C=Object(i.useState)(e.primaryColor),S=Object(c.a)(C,2),k=(S[0],S[1]),T=Object(i.useState)(e.secondaryColor),w=Object(c.a)(T,2),R=(w[0],w[1]);function E(){h(!1),b(!1),o(!1),e.hide()}return Object(i.useEffect)((function(){})),Object(G.jsxs)("div",{children:[a||p||j?null:Object(G.jsx)(d.a,{justify:"center",children:Object(G.jsx)(l.a,{span:16,style:{marginBottom:"13px"},children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsxs)(d.a,{justify:"space-between",children:[Object(G.jsx)(l.a,{span:6,children:Object(G.jsx)(d.a,{children:Object(G.jsx)("div",{onClick:function(){b(!0),o(!1),h(!1)},children:Object(G.jsx)(Gi,{type:"ring",color:t.ringColor})})})}),Object(G.jsx)(l.a,{span:6,children:Object(G.jsx)(d.a,{children:Object(G.jsx)("div",{onClick:function(){o(!0),h(!1),b(!1)},children:Object(G.jsx)(Gi,{type:"primary",color:t.primaryColor})})})}),Object(G.jsx)(l.a,{span:6,children:Object(G.jsx)(d.a,{children:Object(G.jsx)("div",{onClick:function(){h(!0),b(!1),o(!1)},children:Object(G.jsx)(Gi,{type:"secondary",color:t.secondaryColor})})})})]})})})})}),j?Object(G.jsx)(Ui,{pickerColor:e.pickerColor,color:e.ringColor,setColor:e.setRing,setColorInFooter:O,type:"ring",gen:e.gen,hide:e.hide,cancel:E,socket:Dt.addonsColors.ring}):null,p?Object(G.jsx)(Ui,{pickerColor:e.pickerColor,color:e.secondaryColor,setColor:e.setSecondary,setColorInFooter:R,type:"secondary",gen:e.gen,hide:e.hide,cancel:E,socket:Dt.addonsColors.secondary}):null,a?Object(G.jsx)(Ui,{pickerColor:e.pickerColor,color:e.primaryColor,setColor:e.setPrimary,setColorInFooter:k,type:"primary",gen:e.gen,hide:e.hide,cancel:E,socket:Dt.addonsColors.primary}):null]})}var Wi=n.p+"static/media/face.5c23257d.svg",Hi=n.p+"static/media/face_btn-selected.45b14933.svg",Qi=n.p+"static/media/backpack_btn-selected.9f77ace9.svg",Yi=n.p+"static/media/lefthand_btn.1293896a.svg",Ji=n.p+"static/media/lefthand_btn (Selected State).b0e502f1.svg",Ki=n.p+"static/media/righthand_btn.b1f3cae4.svg",qi=n.p+"static/media/righthand_btn (Selected).85463409.svg",Xi=n.p+"static/media/companion_btn-selected.dfa7e2ee.svg",Zi=n.p+"static/media/companion_btn.b88d0e69.svg",$i=n.p+"static/media/colorpicker_btn.15595985.svg",ea=n.p+"static/media/colorpicker_btn-selected.819ca71d.svg";function ta(e){var t=Object(U.c)((function(e){return e.customization})).items.filter((function(t){return t.type===e.socket})),n=Object(i.useState)(0),r=Object(c.a)(n,2),a=r[0],o=r[1];function s(t){var n=Dt.createSetAddonCommand(e.socket,t);It.getInstance().emitUICommand(n)}Object(i.useEffect)((function(){console.log(t)}),[t]);var u=Math.floor(window.innerWidth/72)-2;return Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{marginBottom:"18px"},children:Object(G.jsxs)(d.a,{justify:"center",children:[Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)("div",{className:"customization-header-text",style:{fontSize:"18px",color:"white",fontFamily:"Niveau Grotesk Bold",textAlign:"center",textTransform:"uppercase"},children:"left"===e.type||"right"===e.type?e.type+" hand":e.type})}),Object(G.jsx)(l.a,{span:24,style:{marginTop:"12px"},children:Object(G.jsxs)("div",{className:"slider",style:{display:"flex",justifyContent:"center",textAlign:"center",pointerEvents:"auto"},children:[Object(G.jsx)("div",{className:"slider-item-mobile",style:{background:"transparent",border:"none"},children:Object(G.jsx)("div",{style:{postion:"fixed"},onClick:function(){a>0&&o(a-1)},children:Object(G.jsx)(b.a,{src:gi})})}),Object(G.jsx)("div",{className:"slider-item-mobile slider-item-none",style:{marginLeft:"24px"},onClick:function(){s("none")}}),t.map((function(e,t){if(console.log(u),t>=a&&t<=a+u-1)return console.log(a),Object(G.jsx)("div",{className:"slider-item-mobile",style:{marginLeft:"12px",color:"white"},onClick:function(){s(e.addonId)},children:Object(G.jsx)("img",{style:{width:"100%",height:"100%"},src:e.imagePath})})})),Object(G.jsx)("div",{className:"slider-item-mobile",style:{background:"transparent",border:"none",marginLeft:"12px"},children:Object(G.jsx)("div",{style:{postion:"fixed"},onClick:function(){a<t.length-u&&o(a+1)},children:Object(G.jsx)(b.a,{src:vi})})})]})})]})})})}var na=function(e){var t=e.img,n=e.imgDisabled;return Object(G.jsx)("div",{className:"circle",style:{height:"44px",width:"42px"},children:Object(G.jsx)(b.a,{id:"bigSvg",src:e.isToogled?n:t,afterInjection:function(t,n){var r;t?console.error(t):void 0!==(null===(r=e.style)||void 0===r?void 0:r.borderRadius)&&(n.style.borderRadius=e.style.borderRadius)}})})};function ra(e){var t=Object(i.useRef)(null),n=Object(i.useRef)(null),r=Object(i.useState)(!1),a=Object(c.a)(r,2),o=a[0],s=a[1],u=Object(i.useState)(!1),p=Object(c.a)(u,2),h=p[0],f=p[1];return Object(G.jsx)(d.a,{justify:"center",children:Object(G.jsx)(l.a,{span:16,style:{marginBottom:"4vh"},children:Object(G.jsxs)(d.a,{justify:"space-between",children:[Object(G.jsx)(l.a,{span:11,children:Object(G.jsxs)("div",{style:{position:"relative"},children:[Object(G.jsx)("div",{style:{paddingTop:"2px",border:"2px solid #232323",borderRadius:"6px",color:"#232323",fontSize:"10px",display:"inline-block",background:"#FFFFFF",height:"53px",opacity:"0.7",textAlign:"center",fontFamily:"Niveau Grotesk",width:"100%"},children:Object(G.jsx)("span",{style:h?{textDecoration:"underline"}:null,onClick:function(){f(!0),n.current.focus()},children:"Tap to edit companion name."})}),Object(G.jsx)("input",{ref:n,disabled:!h,onChange:function(e){!function(e){var t=Dt.createSetNameCommand(e);It.getInstance().emitUICommand(t)}(e.target.value)},style:{border:"2px solid #232323",borderRadius:"6px",display:"inline-block",background:"#232323",color:"white",fontSize:"12px",textAlign:"center",fontFamily:"Niveau Grotesk Bold",width:"100%",position:"absolute",top:"25px",left:"0",padding:"2.5% 0"}})]})}),Object(G.jsx)(l.a,{span:11,children:Object(G.jsxs)("div",{style:{position:"relative"},children:[Object(G.jsx)("div",{style:{paddingTop:"2px",border:"2px solid #232323",borderRadius:"6px",color:"#232323",fontSize:"10px",display:"inline-block",background:"#FFFFFF",height:"53px",opacity:"0.7",textAlign:"center",fontFamily:"Niveau Grotesk",width:"100%"},children:Object(G.jsx)("span",{style:o?{textDecoration:"underline"}:null,onClick:function(){s(!0),t.current.focus()},children:"Tap to edit name."})}),Object(G.jsx)("input",{ref:t,disabled:!o,onChange:function(e){!function(e){var t=Dt.createSetCompanionNameCommand(e);It.getInstance().emitUICommand(t)}(e.target.value)},style:{border:"2px solid #232323",borderRadius:"6px",display:"inline-block",background:"#232323",color:"white",fontSize:"12px",textAlign:"center",fontFamily:"Niveau Grotesk Bold",width:"100%",position:"absolute",top:"25px",left:"0",padding:"2.5% 0"}})]})})]})})})}var ia=yn.a.Header,aa=yn.a.Footer,oa=(yn.a.Sider,yn.a.Content);function sa(e){Object(U.c)((function(e){return e.account}));var t=Object(U.b)(),n=Object(U.c)((function(e){return e.customization})),r=Object(i.useState)(null),a=Object(c.a)(r,2),o=a[0],s=a[1],u=Object(i.useState)(null),p=Object(c.a)(u,2),h=p[0],m=p[1],j=Object(i.useState)(null),g=Object(c.a)(j,2),v=g[0],x=g[1],y=Object(i.useState)("#aabbcc"),O=Object(c.a)(y,2),C=O[0],S=O[1],k=Object(i.useState)(null),T=Object(c.a)(k,2),w=T[0],R=T[1],E=Object(f.g)(),P=Object(i.useState)("face"),F=Object(c.a)(P,2),I=F[0],A=F[1],D=Object(i.useState)(null),M=Object(c.a)(D,2),_=M[0],N=M[1],L=Object(i.useState)(!1),B=Object(c.a)(L,2),z=B[0],V=B[1],W=Object(i.useState)(null),H=Object(c.a)(W,2),Q=(H[0],H[1]),Y=Object(i.useState)("red"),J=Object(c.a)(Y,2),K=J[0],q=J[1],X=Object(i.useState)(null),Z=Object(c.a)(X,2),$=(Z[0],Z[1]),ee=Object(i.useState)("yellow"),te=Object(c.a)(ee,2),ne=te[0],re=te[1],ie=Object(i.useState)(null),ae=Object(c.a)(ie,2),oe=(ae[0],ae[1]),se=Object(i.useState)("green"),ce=Object(c.a)(se,2),de=ce[0],le=ce[1],ue=Object(i.useState)(!1),pe=Object(c.a)(ue,2),he=pe[0],fe=pe[1],me=Object(i.useState)(),je=Object(c.a)(me,2),be=je[0],ge=je[1],ve=Object(i.useState)(!1),xe=Object(c.a)(ve,2),ye=xe[0],Oe=xe[1],Ce=Object(i.useState)({zIndex:"1000"}),Se=Object(c.a)(Ce,2),ke=Se[0],Te=(Se[1],xn()());function we(){var e=Dt.createConnectToGameServerCommand();It.getInstance().emitUICommand(e),E.push("/app/index")}return Object(i.useEffect)((function(){console.log(Te),Te.xs&&Oe(!0),Te.sm&&Oe(!1)}),[Te]),Object(i.useEffect)((function(){R(C)}),[C]),Object(i.useEffect)((function(){s(n.ringColor),m(n.primaryColor),x(n.secondaryColor)}),[]),Object(i.useEffect)((function(){})),Object(G.jsxs)(yn.a,{style:{padding:0,backgroundColor:"rgba(0,0,0,0)",pointerEvents:"auto"},id:"mobile-fix",children:[Object(G.jsx)(ia,{style:{padding:0,backgroundColor:"rgba(0,0,0,0)"},children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{marginTop:"16px"},children:Object(G.jsxs)(d.a,{justify:"center",align:"middle",style:{position:"relative"},children:[Object(G.jsx)(l.a,{style:{margin:"0 4px"},children:Object(G.jsx)("div",{onClick:function(){A("face"),fe(!1),N(!1)},children:Object(G.jsx)(na,{isToogled:"face"===I,img:Wi,imgDisabled:Hi})})}),Object(G.jsx)(l.a,{style:{margin:"0 4px"},children:Object(G.jsx)("div",{onClick:function(){A("back"),fe(!1),N(!1)},children:Object(G.jsx)(na,{isToogled:"back"===I,img:hi,imgDisabled:Qi})})}),Object(G.jsx)(l.a,{style:{margin:"0 4px"},children:Object(G.jsx)("div",{onClick:function(){A("left"),N(!1),V(!1),fe(!1)},children:Object(G.jsx)(na,{isToogled:"left"===I,img:Yi,imgDisabled:Ji})})}),Object(G.jsx)(l.a,{style:{margin:"0 4px"},children:Object(G.jsx)("div",{onClick:function(){A("right"),N(!1),fe(!1)},children:Object(G.jsx)(na,{isToogled:"right"===I,img:Ki,imgDisabled:qi})})}),Object(G.jsx)(l.a,{style:{margin:"0 4px"},children:Object(G.jsx)("div",{onClick:function(){A("companion"),fe(!1),N(!1)},children:Object(G.jsx)(na,{isToogled:"companion"===I,img:Zi,imgDisabled:Xi})})}),Object(G.jsx)(l.a,{style:{margin:"0 4px"},children:Object(G.jsx)("div",{onClick:function(){A(null),N(!0),fe(!1)},children:Object(G.jsx)(na,{type:"color",isToogled:_,img:$i,imgDisabled:ea,style:{borderRadius:"26px"}})})}),Object(G.jsx)(l.a,{lg:2,md:2,span:3,style:{margin:"0 4px"},children:Object(G.jsx)("div",{className:"text-button",onClick:function(){fe(!0),A(null),N(null)},style:{padding:"5px",lineHeight:"2.8",background:he?"#451CFF":"#232323",boxShadow:"none",fontSize:"12px",width:"80%",textAlign:"center"},children:"NAME"})}),Object(G.jsx)(l.a,{style:ye?{textAlign:"end",alignContent:"center",top:"13px"}:{position:"absolute",top:"0",right:"16px",textAlign:"end"},children:Object(G.jsx)("div",{onClick:we,children:Object(G.jsx)(b.a,{src:ui})})})]})})})}),Object(G.jsx)(oa,{children:Object(G.jsx)(d.a,{justify:"center",align:"middle",style:{height:"100vh"},children:Object(G.jsxs)(l.a,{className:"mobile-colorpicker",span:20,style:{marginBottom:"70px"},children:[Object(G.jsx)(d.a,{children:z?Object(G.jsx)(l.a,{className:"center",style:ke,children:Object(G.jsxs)("div",{className:"center",style:{margin:"0 auto",marginBottom:"32px"},children:[Object(G.jsx)(ei.a,{color:C,onChange:function(e){S(e),"ring"===be&&(t(ri(e)),le(e)),"primary"===be&&(t(ai(e)),q(e)),"secondary"===be&&(t(oi(e)),re(e))}}),";"]})}):null}),Object(G.jsx)(d.a,{justify:"end",children:Object(G.jsx)(l.a,{xs:7,span:5,style:{color:"white",marginBottom:"25vh"},children:Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)("div",{onClick:we,className:"text-buttonFinish",id:"main-button",style:{fontSize:"21px",backgroundColor:"#232323",width:"90%",padding:"5px"},children:"FINISH"})}),Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)("div",{onClick:function(){t(ri(o)),t(ai(h)),t(oi(v)),E.push("/app/index")},className:"text-button",id:"main-button",style:{fontSize:"21px",backgroundColor:"#909090",width:"90%",marginTop:"12px",padding:"5px"},children:"CANCEL"})})]})})})]})})}),Object(G.jsx)(aa,{style:{padding:0,backgroundColor:"rgba(0,0,0,0)"},children:Object(G.jsx)(d.a,{justify:"center",children:Object(G.jsxs)(l.a,{span:24,children:["left"===I?Object(G.jsx)(ta,{socket:Dt.addonsSockets.leftHand,type:"left"}):null,"back"===I?Object(G.jsx)(ta,{socket:Dt.addonsSockets.back,type:"back"}):null,"right"===I?Object(G.jsx)(ta,{socket:Dt.addonsSockets.rightHand,type:"right"}):null,"face"===I?Object(G.jsx)(ta,{socket:Dt.addonsSockets.head,type:"face"}):null,"companion"===I?Object(G.jsx)(ta,{socket:Dt.addonsSockets.companion,type:"companion"}):null,_?Object(G.jsx)(Vi,{pickerColor:w,ringColor:de,setRing:le,primaryColor:K,setPrimary:q,secondaryColor:ne,setSecondary:re,gen:function(e,t){ge(e),V(!0),S(t)},hide:function(){V(!1)},getColorChange:function(e){"ring"===e&&(oe(!0),Q(!1),$(!1)),"primary"===e&&(Q(!0),$(!1),oe(!1)),"secondary"===e&&($(!0),Q(!1),oe(!1))}}):null,he?Object(G.jsx)(ra,{}):null]})})})]})}function ca(e){xn()();var t=e.backToMessages;return console.log(t),Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,style:{paddingLeft:15,paddingTop:7,borderBottom:"1px solid #393939",paddingBottom:10},children:Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{xs:2,sm:2,style:{marginTop:10},className:"opacity",children:Object(G.jsx)(m.b,{to:t?"/app/index/messages":"/app/index/friends",children:Object(G.jsx)("div",{children:Object(G.jsx)(b.a,{src:Fi})})})}),Object(G.jsx)(l.a,{xs:19,sm:20,style:{marginTop:7},children:Object(G.jsx)("span",{style:{fontFamily:"Niveau Grotesk Bold",fontSize:"19px",color:"#FFFFFF"},children:e.userNickName})}),Object(G.jsx)(l.a,{xs:1,sm:1,onClick:e.onExitChat,children:Object(G.jsx)("div",{className:"backgroundForSVG",children:Object(G.jsx)(b.a,{src:ar})})})]})})})}function da(e){var t=xn()(),n=e.onExitChat,r=Object(f.h)(),a=(r.state.id,r.state.nick),o=r.state.fromMessages,s=Object(i.useState)(""),u=Object(c.a)(s,2),p=u[0],h=u[1];console.log(t);var m=Object(i.useState)([{text:"This is a test message!",usernameFrom:"userNotME",usernameMe:"userMe"},{text:"This is a test message!",usernameFrom:"userMe",usernameMe:"userMe"}]),j=Object(c.a)(m,2),g=j[0],v=j[1];return Object(G.jsx)(d.a,{style:{background:"#404040",width:"100%",height:"100%",pointerEvents:"auto"},children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsxs)(d.a,{style:{background:"#282828",width:"98%",height:"96vh",marginLeft:"1%",marginTop:"1%",borderRadius:"15px",overflowY:"hide"},id:"mobile-fix-messages-panel",children:[Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(ca,{userNickName:a,backToMessages:o,onExitChat:n})})})}),Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(d.a,{style:{overflowY:"scroll",height:t.xs?"60vh":"63vh",background:"#191919"},id:"mobile-fix-chat",children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(Ai,{testMessages:g})})})}),Object(G.jsx)(l.a,{span:24,className:"input-col",style:{marginTop:"1%"},children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsxs)(d.a,{justify:"center",children:[Object(G.jsx)(l.a,{xs:21,sm:21,children:Object(G.jsx)("input",{className:t.xs?"xsinput":"auth-input",value:p,style:t.xs?{borderRadius:"20px ",background:"#040206",color:"#FFFFFF",fontSize:"16px",fontFamily:"Montserrat",width:"90%",height:"80%",border:"none",paddingLeft:"10px",paddingTop:"10px",paddingBottom:"13px",marginBottom:10}:{width:"100%"},placeholder:"Type here...",onChange:function(e){return function(e){h(e.target.value)}(e)},id:"chat-input"})}),Object(G.jsx)(l.a,{xs:3,sm:2,style:t.xs?{marginTop:7}:{marginTop:"5px"},className:"opacity",onClick:function(){console.debug("clicked send"),""!==p&&(v(g.concat({text:p,usernameMe:"userMe",usernameFrom:"userMe"})),h(""))},children:Object(G.jsx)(b.a,{src:Di})})]})})})})})})]})})})})})}function la(){var e=xn()();console.log(e);var t={fontSize:"20px",fontFamily:"Open Sans",color:"#FFFFFF"},n={borderRadius:"20px",background:"#040206",color:"#FFFFFF",fontSize:"16px",fontFamily:"Montserrat",paddingLeft:"10px",paddingTop:"4px",paddingBottom:"4px",width:"90%",height:"100%",marginTop:10,border:"none"};return Object(G.jsx)(d.a,{style:{height:"100%"},children:Object(G.jsxs)(l.a,{span:24,children:[Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{xs:24,sm:24,style:{marginTop:"10px",paddingLeft:"5px"},children:Object(G.jsx)("span",{style:t,children:"Username"})}),Object(G.jsx)(l.a,{xs:15,sm:19,children:Object(G.jsx)("input",{style:n})})]}),Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{xs:24,sm:24,style:{marginTop:"20px",paddingLeft:"5px"},children:Object(G.jsx)("span",{style:t,children:"Password"})}),Object(G.jsx)(l.a,{xs:15,sm:19,children:Object(G.jsx)("input",{style:n})})]}),Object(G.jsxs)(d.a,{style:{marginTop:30},children:[Object(G.jsx)(l.a,{xs:6,sm:7,children:Object(G.jsx)(Br,{height:"120%"})}),Object(G.jsx)(l.a,{xs:6,sm:7,style:{marginLeft:30},children:Object(G.jsx)(zr,{text:"UPDATE",height:"120%"})})]})]})})}var ua=Dr.a.TabPane;function pa(){var e=Object(U.c)((function(e){return e.account})).settingsTabDefault,t=Object(f.g)();return Object(G.jsx)(d.a,{align:"center",justify:"center",style:{height:"100%",pointerEvents:"auto"},children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(d.a,{justify:"center",style:{alignContent:"center",height:"100%"},children:Object(G.jsx)(l.a,{children:Object(G.jsxs)(tr.a,{style:{width:"100vw",boxShadow:"2px",border:0,backgroundColor:"#282828",borderRadius:10,color:"white"},children:[Object(G.jsx)(_r,{onExitSettings:function(){t.push("/app/index")}}),Object(G.jsxs)(Dr.a,{tabPosition:"left",style:{height:"89vh"},defaultActiveKey:e,id:"mobile-fix-tabs-container",children:[Object(G.jsx)(ua,{tab:"ACCOUNT",children:Object(G.jsx)("div",{style:{width:"70vw",height:"80vh",overflowY:"scroll",overflowX:"hidden"},id:"mobile-fix-tab",children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,id:"mobile-fix-tab",children:Object(G.jsx)(la,{})})})})},"1"),Object(G.jsx)(ua,{tab:"AUDIO",children:Object(G.jsx)("div",{style:{width:"70vw",height:"80vh",overflowY:"scroll",overflowX:"hidden"},id:"mobile-fix-tab",children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(Wr,{})})})})},"2"),Object(G.jsx)(ua,{tab:"VIDEO",children:Object(G.jsx)("div",{style:{width:"70vw",height:"80vh",overflowY:"scroll",overflowX:"hidden"},id:"mobile-fix-tab",children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(Qr,{})})})})},"3"),Object(G.jsx)(ua,{tab:"BILLING",children:Object(G.jsx)("div",{style:{width:"70vw",height:"80vh",overflowY:"scroll",overflowX:"hidden"},id:"mobile-fix-tab",children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(Kr,{})})})})},"4"),Object(G.jsx)(ua,{tab:"CONNECTIONS",children:Object(G.jsx)("div",{style:{width:"70vw",height:"80vh",overflowY:"scroll",overflowX:"hidden"},id:"mobile-fix-tab",children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(qr,{})})})})},"5"),Object(G.jsx)(ua,{tab:"PRIVACY",children:Object(G.jsx)("div",{style:{width:"70vw",height:"80vh",overflowY:"scroll",overflowX:"hidden"},id:"mobile-fix-tab",children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(Xr,{})})})})},"6")]})]})})})})})}function ha(e){var t=e.onFriendsClick,n=e.onExitFriendsClick,r=e.onMassagesClick,i=e.onExitMassagesClick,a=e.onCustomizationClick,o=e.onExitCustomizationClick,s=e.onExitChat;e.backToMessages;return Object(G.jsxs)("div",{children:[Object(G.jsx)(zn,{}),Object(G.jsxs)(f.d,{children:[Object(G.jsx)(f.b,{exact:!0,path:"/app/index/friends",children:Object(G.jsx)("div",{style:{position:"fixed",top:0,bottom:0,left:0,right:0},children:Object(G.jsx)(Li,{onExitFriendsClick:n,onFriendsClick:t})})}),Object(G.jsx)(f.b,{exact:!0,path:"/app/index/settings",children:Object(G.jsx)("div",{style:{position:"fixed",top:0,bottom:0,left:0,right:0},children:Object(G.jsx)(pa,{})})}),Object(G.jsx)(f.b,{exact:!0,path:"/app/index/messages",children:Object(G.jsx)("div",{style:{position:"fixed",top:0,bottom:0,left:0,right:0},children:Object(G.jsx)(zi,{onMassagesClick:r,onExitMassagesClick:i})})}),Object(G.jsx)(f.b,{exact:!0,path:"/app/customization",children:Object(G.jsx)("div",{style:{position:"fixed",top:0,bottom:0,left:0,right:0},children:Object(G.jsx)(sa,{onCustomizationClick:a,onExitCustomizationClick:o})})}),Object(G.jsx)(f.b,{exact:!0,path:"/app/index/chat",children:Object(G.jsx)("div",{style:{position:"fixed",top:0,bottom:0,left:0,right:0},children:Object(G.jsx)(da,{onExitChat:s})})})]})]})}function fa(){var e=Object(i.useState)(0),t=Object(c.a)(e,2),n=(t[0],t[1],Object(i.useState)(!1)),r=Object(c.a)(n,2),a=r[0],o=r[1],s=xn()(),d=Object(f.g)(),l=Object(f.i)(),u=l.path,p=(l.url,Object(i.useState)(!0)),h=Object(c.a)(p,2),m=h[0],j=h[1];return Object(i.useEffect)((function(){j(!1)}),[]),Object(i.useEffect)((function(){console.debug(s),s.md?o(!0):o(!1)}),[s]),Object(G.jsxs)("div",{style:{position:"relative"},id:"mobile-fix",children:[m?Object(G.jsx)("div",{className:"center",style:{zIndex:"9999"},children:Object(G.jsx)(b.a,{src:_i})}):Object(G.jsx)(f.d,{children:Object(G.jsx)(f.b,{path:"".concat(u),children:a?Object(G.jsx)(Ni,{onFriendsClick:function(){d.push("/app/index/friends")},onExitFriendsClick:function(){d.push("/app/index")},onMassagesClick:function(){d.push("/app/index/messages")},onExitMassagesClick:function(){d.push("/app/index")},onCustomizationClick:function(){d.push("/app/customization")},onExitCustomizationClick:function(){d.push("/app/index")},onExitChat:function(){d.push("/app/index")},setLoading:j,backToMessages:function(){d.push("/app/index/messages")}}):Object(G.jsx)(ha,{onFriendsClick:function(){d.push("/app/index/friends")},onExitFriendsClick:function(){d.push("/app/index")},onMassagesClick:function(){d.push("/app/index/messages")},onExitMassagesClick:function(){d.push("/app/index")},onCustomizationClick:function(){d.push("/app/customization")},onExitCustomizationClick:function(){d.push("/app/index")},onExitChat:function(){d.push("/app/index")},backToMessages:function(){d.push("/app/index/messages")}})})}),";"]})}var ma=n(148),ja=n(232),ba=["component","auth","redirect"];function ga(e){var t=e.component,n=e.auth,r=e.redirect,i=Object(ja.a)(e,ba);return Object(G.jsx)(f.b,Object(ma.a)(Object(ma.a)({},i),{},{render:function(e){return!0===n?Object(G.jsx)(t,Object(ma.a)({},e)):Object(G.jsx)(f.a,{to:r})}}))}var va={getDevicePermission:function(e){return navigator.mediaDevices.getUserMedia(e)},getAllDevices:function(){return new Promise((function(e,t){var n=[],r=[],i=[];navigator.mediaDevices.enumerateDevices().then((function(t){t.forEach((function(e){var t={kind:e.kind,label:e.label,id:e.deviceId};"audioinput"===e.kind&&r.push(t),"videoinput"===e.kind&&n.push(t),"audiooutput"===e.kind&&i.push(t)})),e({videoDevices:n,audioInputDevices:r,audioOutputDevices:i})})).catch((function(e){console.log(e.name+": "+e.message),t()}))}))}};function xa(e){var t=e.startVideoStreaming,n=e.dataChannelInited,r=xn()(),a=(Object(f.g)(),Object(i.useState)(!1)),o=Object(c.a)(a,2),s=o[0],d=o[1],l=Object(U.c)((function(e){return e.account}));Object(i.useEffect)((function(){r.xl?d(!0):d(!1)}),[r]);return Object(G.jsx)("div",{className:"ui-container",style:{position:"fixed",top:0,right:0,left:0,bottom:0,zIndex:50,pointerEvents:"none"},children:Object(G.jsxs)(f.d,{children:[Object(G.jsx)(ga,{exact:!0,path:"/app/splash",component:function(){return Object(G.jsx)(gn,{loading:!n,startVideoStreaming:t})},auth:null!==l.token}),Object(G.jsx)(ga,{path:"/app/index",component:function(){return Object(G.jsx)(fa,{})},auth:null!==l.token}),Object(G.jsx)(ga,{exact:!0,path:"/app/customization",component:function(){return s?Object(G.jsx)(Ti,{}):Object(G.jsx)(sa,{})},auth:null!==l.token})]})})}Gr.a.Option;function ya(){var e={width:"80%",height:"48px"},t={borderRadius:"20px",background:"#7F7F7F",color:"#FFFFFF"},n=Gr.a.Option;!function(e){var t=Object(U.c)((function(e){return e.app})),n=Object(U.b)();Object(i.useEffect)((function(){var e={};t.selectedVideoDevice?(e.video={},e.video.deviceId=t.selectedVideoDevice):e.video=!0,t.selectedAudioDevice?(e.audio={},e.audio.deviceId=t.selectedAudioDevice):e.audio=!0,va.getDevicePermission(e).then((function(e){var t=e.getTracks().find((function(e){return"video"===e.kind})).getSettings(),r=e.getTracks().find((function(e){return"audio"===e.kind})).getSettings();n(on(t.deviceId)),n(sn(r.deviceId)),va.getAllDevices().then((function(e){console.log(e),n(rn(e.videoDevices)),n(an(e.audioInputDevices))})).catch((function(e){return console.error(e)}))})).catch((function(e){return console.error(e)}))}),[])}();var r=Object(U.c)((function(e){return e.app})),a=r.videoDevices,o=r.audioDevices,s=Object(f.g)(),u=Object(i.useState)(r.selectedVideoDevice),p=Object(c.a)(u,2),h=p[0],m=p[1],j=Object(i.useState)(r.selectedAudioDevice),b=Object(c.a)(j,2),g=b[0],v=b[1];return Object(i.useEffect)((function(){m(r.selectedVideoDevice),v(r.selectedAudioDevice)}),[r.selectedVideoDevice,r.selectedAudioDevice]),Object(G.jsx)(d.a,{justify:"center",children:Object(G.jsx)(l.a,{span:24,children:Object(G.jsx)(d.a,{justify:"center",children:Object(G.jsxs)(l.a,{span:24,style:{background:"#282828",maxWidth:390,minWidth:350,borderRadius:"15px"},children:[Object(G.jsxs)(d.a,{children:[Object(G.jsx)(l.a,{span:24,style:{textAlign:"center",marginTop:30},children:Object(G.jsx)("span",{style:{color:"#FFFFFF",fontSize:"19px",fontFamily:"Niveau Grotesk Bold"},children:"Initial Setup"})}),Object(G.jsx)(l.a,{span:24,style:{textAlign:"center",marginTop:15},children:Object(G.jsx)("span",{style:{color:"#909090",fontSize:"14px",fontFamily:"Montserrat"},children:"Select audio/video devices below."})})]}),Object(G.jsx)(d.a,{justify:"center",children:Object(G.jsx)(l.a,{span:24,style:{textAlign:"center",alignContent:"center"},children:Object(G.jsxs)(d.a,{justify:"center",children:[Object(G.jsx)(l.a,{span:24,style:{marginTop:10},children:Object(G.jsx)(Gr.a,{style:e,suffixIcon:"\u25bc",placeholder:"SELECT MICROFONE",dropdownStyle:t,value:g,onChange:function(e){return v(e)},children:o.map((function(e){return Object(G.jsx)(n,{children:e.label},e.id)}))})}),Object(G.jsx)(l.a,{span:24,style:{marginTop:20,textAlign:"center",alignContent:"center"},children:Object(G.jsx)(Gr.a,{style:e,suffixIcon:"\u25bc",placeholder:"SELECT WEBCAM",dropdownStyle:t,value:h,onChange:function(e){return m(e)},children:a.map((function(e){return Object(G.jsx)(n,{children:e.label},e.id)}))})}),Object(G.jsx)(l.a,{span:24,style:{marginTop:20,textAlign:"center",alignContent:"center"},children:Object(G.jsx)(Gr.a,{style:e,suffixIcon:"\u25bc",placeholder:"SELECT AUDIO",dropdownStyle:t})}),Object(G.jsx)(l.a,{span:24,style:{marginTop:20,textAlign:"center",alignContent:"center"},children:Object(G.jsx)("button",{className:"auth-button",style:{marginBottom:"40px",width:"80%",height:"48px",fontSize:"19px"},onClick:function(){s.push("/app/splash")},children:"FINISH"})})]})})}),Object(G.jsx)(d.a,{justify:"center",children:Object(G.jsx)(l.a,{span:18,style:{marginBottom:30,marginTop:10,textAlign:"center",alignContent:"center"},children:Object(G.jsx)("span",{style:{color:"#909090",fontSize:"12px",fontFamily:"Montserrat",textAlign:"center"},children:"Visit the settings menu to check or change audio/video settings at any time."})})})]})})})})}function Oa(){var e=Object(f.g)(),t=Object(i.useState)(""),n=Object(c.a)(t,2),r=n[0],a=n[1];return Object(G.jsxs)(d.a,{justify:"center",align:"middle",children:[Object(G.jsx)(l.a,{span:24,style:{textAlign:"center",marginBottom:"-120px",zIndex:"1000"},children:Object(G.jsx)(b.a,{src:j})}),Object(G.jsx)(l.a,{xs:18,sm:11,md:8,lg:8,xl:5,style:{backgroundColor:"#242424",textAlign:"center",borderRadius:"24px",pointerEvents:"auto",paddingTop:"105px",maxWidth:"390px",minWidth:"390px"},children:Object(G.jsxs)(d.a,{justify:"center",children:[Object(G.jsx)(l.a,{span:24,className:"login-col",style:{color:"white",textAlign:"center",marginBottom:"7px",fontWeight:"normal",marginTop:"15px"},children:"RESET PASSWORD"}),Object(G.jsx)(l.a,{span:22,style:{marginBottom:"8px"},children:Object(G.jsx)("input",{className:"auth-input",placeholder:"Your email adress",value:r,onChange:function(e){return function(e){a(e.target.value)}(e)}})}),Object(G.jsx)(l.a,{style:{marginBottom:"10px"},span:22,children:Object(G.jsx)("button",{className:"auth-button",children:"SEND "})}),Object(G.jsx)(l.a,{span:22,children:Object(G.jsx)("button",{onClick:function(){e.goBack()},className:"auth-button",style:{backgroundColor:"#5b5b5b",boxShadow:"0px 4px 0px #4f4f4f",marginBottom:30},children:"CANCEL"})})]})})]})}var Ca=function(){var e=Object(f.h)();function t(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}Object(f.g)(),function(e){var t=Object(U.c)((function(e){return e.account})),n=Object(U.b)(),r=Object(f.g)();Object(i.useEffect)((function(){t.token&&S.whoami(t.token).then((function(e){console.debug(e),200===e.status&&(n(P(e.data._id)),n(F(e.data.isSuper)),n(N(e.data.firstName))),401===e.status&&(n(I()),r.push("/"))})).catch((function(e){return console.error(e)}))}),[t.token])}(),function(e){var t=Object(U.c)((function(e){return e.account}));Object(U.b)(),Object(i.useEffect)((function(){}),[t.id])}(),function(e){var t=Object(U.c)((function(e){return e.account})),n=Object(U.b)(),r=Object(f.g)();Object(i.useEffect)((function(){t.token&&(console.debug("GET ITEMS"),S.getNeonItems(t.token).then((function(e){if(console.debug(e),200===e.status){var t=e.data.map((function(e){return{id:e._id,name:e.name,imagePath:e.path,type:e.slot,addonId:e.addonId}}));n(ii(t))}401===e.status&&(n(I()),r.push("/"))})).catch((function(e){return console.error(e)})))}),[t.token])}();var n=xn()(),r=Object(i.useState)(!1),a=Object(c.a)(r,2),o=a[0],s=a[1];t();var u=Object(U.c)((function(e){return e.account}));return Object(i.useEffect)((function(){console.debug("dataChannelInited:",o)}),[o]),Object(i.useEffect)((function(){return n.md||window.addEventListener("resize",t),function(){n.md||window.removeEventListener("resize",t)}})),Object(G.jsx)("div",{id:"app",className:"App",children:Object(G.jsxs)(f.d,{location:e,children:[Object(G.jsx)(f.b,{path:"/",exact:!0,children:Object(G.jsx)(d.a,{align:"middle",justify:"center",style:{backgroundColor:"#7d7d7d",height:"100vh"},children:Object(G.jsx)(l.a,{style:{backgroundColor:"#7d7d7d"},span:24,children:Object(G.jsx)(V,{})})})}),Object(G.jsx)(ga,{path:"/app",auth:null!==u.token,children:Object(G.jsxs)("div",{children:[Object(G.jsx)(mn,{init:function(){if(u.token){var e=It.getInstance().getUe4app();!function t(){S.getGiveMyServer().then((function(n){null===n.data.instanceAddress?setTimeout((function(){t()}),2500):e.load(n.data.instanceAddress)}))}()}},onInited:function(){console.debug("Set inited"),s(!0)}}),Object(G.jsx)(xa,{dataChannelInited:o,startVideoStreaming:function(){It.getInstance().getUe4app().handleHomepageClick(),It.getInstance().initUE4Callback()}})]})}),Object(G.jsx)(f.b,{path:"/registration",children:Object(G.jsx)(d.a,{align:"middle",justify:"center",style:{height:"100vh",backgroundColor:"#7d7d7d"},children:Object(G.jsx)(l.a,{children:Object(G.jsx)(W,{})})})}),Object(G.jsx)(f.b,{path:"/initial-setup",children:Object(G.jsx)(d.a,{align:"middle",justify:"center",style:{height:"100vh",backgroundColor:"#7F7F7F"},children:Object(G.jsx)(l.a,{span:5,children:Object(G.jsx)(ya,{})})})}),Object(G.jsx)(f.b,{path:"/reset-password",children:Object(G.jsx)(d.a,{align:"middle",justify:"center",style:{height:"100vh",backgroundColor:"#7F7F7F"},children:Object(G.jsx)(l.a,{span:5,children:Object(G.jsx)(Oa,{})})})})]})})},Sa=n(66),ka=n(224),Ta=n(48),wa=n(225),Ra=n.n(wa),Ea=n(226),Pa=n.n(Ea),Fa={key:"root",version:2,storage:Ra.a,stateReconciler:Pa.a,blacklist:["app.isSplashed","account.agoraId"]},Ia=Object(Ta.b)({app:hn,account:z,customization:si,search:Fr,report:mr}),Aa=Object(Sa.g)(Fa,Ia),Da=Object(k.a)({reducer:Aa,middleware:Object(k.c)({serializableCheck:{ignoredActions:[Sa.a,Sa.f,Sa.b,Sa.c,Sa.d,Sa.e]}})}),Ma=Object(Sa.h)(Da);s.a.render(Object(G.jsx)(a.a.StrictMode,{children:Object(G.jsx)(U.a,{store:Da,children:Object(G.jsx)(ka.a,{loading:null,persistor:Ma,children:Object(G.jsx)(m.a,{children:Object(G.jsx)(Ca,{})})})})}),document.getElementById("root"))}},[[423,1,2]]]);
//# sourceMappingURL=main.25ddd687.chunk.js.map